(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{9413:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6630),i=n(2970),o=n(4015),s=n(1470),a=n(2065),c=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")},e}();var u,l,h="@firebase/app",d="0.9.14",p=new o.Logger("@firebase/app"),f="[DEFAULT]",m=((u={})[h]="fire-core",u["@firebase/app-compat"]="fire-core-compat",u["@firebase/analytics"]="fire-analytics",u["@firebase/analytics-compat"]="fire-analytics-compat",u["@firebase/app-check"]="fire-app-check",u["@firebase/app-check-compat"]="fire-app-check-compat",u["@firebase/auth"]="fire-auth",u["@firebase/auth-compat"]="fire-auth-compat",u["@firebase/database"]="fire-rtdb",u["@firebase/database-compat"]="fire-rtdb-compat",u["@firebase/functions"]="fire-fn",u["@firebase/functions-compat"]="fire-fn-compat",u["@firebase/installations"]="fire-iid",u["@firebase/installations-compat"]="fire-iid-compat",u["@firebase/messaging"]="fire-fcm",u["@firebase/messaging-compat"]="fire-fcm-compat",u["@firebase/performance"]="fire-perf",u["@firebase/performance-compat"]="fire-perf-compat",u["@firebase/remote-config"]="fire-rc",u["@firebase/remote-config-compat"]="fire-rc-compat",u["@firebase/storage"]="fire-gcs",u["@firebase/storage-compat"]="fire-gcs-compat",u["@firebase/firestore"]="fire-fst",u["@firebase/firestore-compat"]="fire-fst-compat",u["fire-js"]="fire-js",u.firebase="fire-js-all",u),g=new Map,v=new Map;function y(e,t){try{e.container.addComponent(t)}catch(n){p.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function _(e){var t,n,r=e.name;if(v.has(r))return p.debug("There were multiple attempts to register component ".concat(r,".")),!1;v.set(r,e);try{for(var o=i.__values(g.values()),s=o.next();!s.done;s=o.next()){y(s.value,e)}}catch(a){t={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!0}function b(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var w=((l={})["no-app"]="No Firebase App '{$appName}' has been created - call initializeApp() first",l["bad-app-name"]="Illegal App name: '{$appName}",l["duplicate-app"]="Firebase App named '{$appName}' already exists with different options or config",l["app-deleted"]="Firebase App named '{$appName}' already deleted",l["no-options"]="Need to provide options, when not being deployed to hosting via source.",l["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",l["invalid-log-argument"]="First argument to `onLog` must be null or a function.",l["idb-open"]="Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",l["idb-get"]="Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",l["idb-set"]="Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",l["idb-delete"]="Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",l),C=new s.ErrorFactory("app","Firebase",w),E=function(){function e(e,t,n){var o=this;this._isDeleted=!1,this._options=i.__assign({},e),this._config=i.__assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.Component("app",(function(){return o}),"PUBLIC"))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed(),this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed(),this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.checkDestroyed(),this._config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDeleted",{get:function(){return this._isDeleted},set:function(e){this._isDeleted=e},enumerable:!1,configurable:!0}),e.prototype.checkDestroyed=function(){if(this.isDeleted)throw C.create("app-deleted",{appName:this._name})},e}();function S(e,t){var n,o;void 0===t&&(t={});var a=e;"object"!==typeof t&&(t={name:t});var c=i.__assign({name:f,automaticDataCollectionEnabled:!1},t),u=c.name;if("string"!==typeof u||!u)throw C.create("bad-app-name",{appName:String(u)});if(a||(a=s.getDefaultAppConfig()),!a)throw C.create("no-options");var l=g.get(u);if(l){if(s.deepEqual(a,l.options)&&s.deepEqual(c,l.config))return l;throw C.create("duplicate-app",{appName:u})}var h=new r.ComponentContainer(u);try{for(var d=i.__values(v.values()),p=d.next();!p.done;p=d.next()){var m=p.value;h.addComponent(m)}}catch(_){n={error:_}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}var y=new E(a,c,h);return g.set(u,y),y}function T(e,t,n){var i,o=null!==(i=m[e])&&void 0!==i?i:e;n&&(o+="-".concat(n));var s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){var c=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return s&&c.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),s&&a&&c.push("and"),a&&c.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void p.warn(c.join(" "))}_(new r.Component("".concat(o,"-version"),(function(){return{library:o,version:t}}),"VERSION"))}var I="firebase-heartbeat-store",k=null;function x(){return k||(k=a.openDB("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(I)}}).catch((function(e){throw C.create("idb-open",{originalErrorMessage:e.message})}))),k}function A(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,x()];case 1:return[4,r.sent().transaction(I).objectStore(I).get(R(e))];case 2:return[2,r.sent()];case 3:return(t=r.sent())instanceof s.FirebaseError?p.warn(t.message):(n=C.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message}),p.warn(n.message)),[3,4];case 4:return[2]}}))}))}function D(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,x()];case 1:return n=i.sent(),r=n.transaction(I,"readwrite"),[4,r.objectStore(I).put(t,R(e))];case 2:return i.sent(),[4,r.done];case 3:return i.sent(),[3,5];case 4:return(o=i.sent())instanceof s.FirebaseError?p.warn(o.message):(a=C.create("idb-set",{originalErrorMessage:null===o||void 0===o?void 0:o.message}),p.warn(a.message)),[3,5];case 5:return[2]}}))}))}function R(e){return"".concat(e.name,"!").concat(e.options.appId)}var M=function(){function e(e){var t=this;this.container=e,this._heartbeatsCache=null;var n=this.container.getProvider("app").getImmediate();this._storage=new N(n),this._heartbeatsCachePromise=this._storage.read().then((function(e){return t._heartbeatsCache=e,e}))}return e.prototype.triggerHeartbeat=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t,n,r;return i.__generator(this,(function(i){switch(i.label){case 0:return e=this.container.getProvider("platform-logger").getImmediate(),t=e.getPlatformInfoString(),n=O(),null!==this._heartbeatsCache?[3,2]:(r=this,[4,this._heartbeatsCachePromise]);case 1:r._heartbeatsCache=i.sent(),i.label=2;case 2:return this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some((function(e){return e.date===n}))?[2]:(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),[2,this._storage.overwrite(this._heartbeatsCache)])}}))}))},e.prototype.getHeartbeatsHeader=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,o;return i.__generator(this,(function(a){switch(a.label){case 0:return null!==this._heartbeatsCache?[3,2]:[4,this._heartbeatsCachePromise];case 1:a.sent(),a.label=2;case 2:return null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length?[2,""]:(e=O(),t=function(e,t){var n,r;void 0===t&&(t=1024);var o=[],s=e.slice(),a=function(e){var n=o.find((function(t){return t.agent===e.agent}));if(n){if(n.dates.push(e.date),P(o)>t)return n.dates.pop(),"break"}else if(o.push({agent:e.agent,dates:[e.date]}),P(o)>t)return o.pop(),"break";s=s.slice(1)};try{for(var c=i.__values(e),u=c.next();!u.done;u=c.next()){if("break"===a(u.value))break}}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return{heartbeatsToSend:o,unsentEntries:s}}(this._heartbeatsCache.heartbeats),n=t.heartbeatsToSend,r=t.unsentEntries,o=s.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:n})),this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,[4,this._storage.overwrite(this._heartbeatsCache)]):[3,4]);case 3:return a.sent(),[3,5];case 4:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache),a.label=5;case 5:return[2,o]}}))}))},e}();function O(){return(new Date).toISOString().substring(0,10)}var L,N=function(){function e(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return e.prototype.runIndexedDBEnvironmentCheck=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return s.isIndexedDBAvailable()?[2,s.validateIndexedDBOpenable().then((function(){return!0})).catch((function(){return!1}))]:[2,!1]}))}))},e.prototype.read=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return e.sent()?[3,2]:[2,{heartbeats:[]}];case 2:return[4,A(this.app)];case 3:return[2,e.sent()||{heartbeats:[]}]}}))}))},e.prototype.overwrite=function(e){var t;return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return r.sent()?[3,2]:[2];case 2:return[4,this.read()];case 3:return n=r.sent(),[2,D(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})]}}))}))},e.prototype.add=function(e){var t;return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return r.sent()?[3,2]:[2];case 2:return[4,this.read()];case 3:return n=r.sent(),[2,D(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:i.__spreadArray(i.__spreadArray([],i.__read(n.heartbeats),!1),i.__read(e.heartbeats),!1)})]}}))}))},e}();function P(e){return s.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:e})).length}L="node",_(new r.Component("platform-logger",(function(e){return new c(e)}),"PRIVATE")),_(new r.Component("heartbeat",(function(e){return new M(e)}),"PRIVATE")),T(h,d,L),T(h,d,"cjs5"),T("fire-js",""),Object.defineProperty(t,"FirebaseError",{enumerable:!0,get:function(){return s.FirebaseError}}),t.SDK_VERSION="10.0.0",t._DEFAULT_ENTRY_NAME=f,t._addComponent=y,t._addOrOverwriteComponent=function(e,t){e.container.addOrOverwriteComponent(t)},t._apps=g,t._clearComponents=function(){v.clear()},t._components=v,t._getProvider=b,t._registerComponent=_,t._removeServiceInstance=function(e,t,n){void 0===n&&(n=f),b(e,t).clearInstance(n)},t.deleteApp=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:return t=e.name,g.has(t)?(g.delete(t),[4,Promise.all(e.container.getProviders().map((function(e){return e.delete()})))]):[3,2];case 1:n.sent(),e.isDeleted=!0,n.label=2;case 2:return[2]}}))}))},t.getApp=function(e){void 0===e&&(e=f);var t=g.get(e);if(!t&&e===f&&s.getDefaultAppConfig())return S();if(!t)throw C.create("no-app",{appName:e});return t},t.getApps=function(){return Array.from(g.values())},t.initializeApp=S,t.onLog=function(e,t){if(null!==e&&"function"!==typeof e)throw C.create("invalid-log-argument");o.setUserLogHandler(e,t)},t.registerVersion=T,t.setLogLevel=function(e){o.setLogLevel(e)}},6630:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2970),i=n(1470),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),s="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(d){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=r.__read(o.value,2),c=a[0],u=a[1],l=this.normalizeInstanceIdentifier(c);try{var h=this.getOrInitializeService({instanceIdentifier:l});u.resolve(h)}catch(d){}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=s),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(r.__spreadArray(r.__spreadArray([],r.__read(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),!1),r.__read(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()}))),!1))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=s),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=s),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error("".concat(this.name,"(").concat(s,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var c=r.__values(this.instancesDeferred.entries()),u=c.next();!u.done;u=c.next()){var l=r.__read(u.value,2),h=l[0],d=l[1];s===this.normalizeInstanceIdentifier(h)&&d.resolve(a)}}catch(p){t={error:p}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var s=r.__values(o),a=s.next();!a.done;a=s.next()){var c=a.value;try{c(e,t)}catch(u){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===s?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=s),this.component?this.component.multipleInstances?e:s:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var c=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=o,t.ComponentContainer=c,t.Provider=a},4015:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(2970),o=[];t.LogLevel=void 0,function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(t.LogLevel||(t.LogLevel={}));var s={debug:t.LogLevel.DEBUG,verbose:t.LogLevel.VERBOSE,info:t.LogLevel.INFO,warn:t.LogLevel.WARN,error:t.LogLevel.ERROR,silent:t.LogLevel.SILENT},a=t.LogLevel.INFO,c=((r={})[t.LogLevel.DEBUG]="log",r[t.LogLevel.VERBOSE]="log",r[t.LogLevel.INFO]="info",r[t.LogLevel.WARN]="warn",r[t.LogLevel.ERROR]="error",r),u=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=(new Date).toISOString(),s=c[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));console[s].apply(console,i.__spreadArray(["[".concat(o,"]  ").concat(e.name,":")],n,!1))}},l=function(){function e(e){this.name=e,this._logLevel=a,this._logHandler=u,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in t.LogLevel))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,i.__spreadArray([this,t.LogLevel.DEBUG],e,!1)),this._logHandler.apply(this,i.__spreadArray([this,t.LogLevel.DEBUG],e,!1))},e.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,i.__spreadArray([this,t.LogLevel.VERBOSE],e,!1)),this._logHandler.apply(this,i.__spreadArray([this,t.LogLevel.VERBOSE],e,!1))},e.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,i.__spreadArray([this,t.LogLevel.INFO],e,!1)),this._logHandler.apply(this,i.__spreadArray([this,t.LogLevel.INFO],e,!1))},e.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,i.__spreadArray([this,t.LogLevel.WARN],e,!1)),this._logHandler.apply(this,i.__spreadArray([this,t.LogLevel.WARN],e,!1))},e.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,i.__spreadArray([this,t.LogLevel.ERROR],e,!1)),this._logHandler.apply(this,i.__spreadArray([this,t.LogLevel.ERROR],e,!1))},e}();t.Logger=l,t.setLogLevel=function(e){o.forEach((function(t){t.setLogLevel(e)}))},t.setUserLogHandler=function(e,n){for(var r=function(r){var i=null;n&&n.level&&(i=s[n.level]),r.userLogHandler=null===e?null:function(n,r){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var a=o.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");r>=(null!==i&&void 0!==i?i:n.logLevel)&&e({level:t.LogLevel[r].toLowerCase(),message:a,args:o,type:n.name})}},i=0,a=o;i<a.length;i++){r(a[i])}}},1749:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9413),i=n(1470),o=n(6630);const s="firebasestorage.googleapis.com";class a extends i.FirebaseError{constructor(e,t,n=0){super(l(e),`Firebase Storage: ${t} (${l(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,a.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return l(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var c,u;function l(e){return"storage/"+e}function h(){return new a(t.StorageErrorCode.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function d(){return new a(t.StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function p(){return new a(t.StorageErrorCode.CANCELED,"User canceled the upload/download.")}function f(){return new a(t.StorageErrorCode.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function m(e){return new a(t.StorageErrorCode.INVALID_ARGUMENT,e)}function g(){return new a(t.StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function v(e){return new a(t.StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function y(e,n){return new a(t.StorageErrorCode.INVALID_FORMAT,"String does not match format '"+e+"': "+n)}function _(e){throw new a(t.StorageErrorCode.INTERNAL_ERROR,"Internal error: "+e)}t.StorageErrorCode=void 0,(c=t.StorageErrorCode||(t.StorageErrorCode={})).UNKNOWN="unknown",c.OBJECT_NOT_FOUND="object-not-found",c.BUCKET_NOT_FOUND="bucket-not-found",c.PROJECT_NOT_FOUND="project-not-found",c.QUOTA_EXCEEDED="quota-exceeded",c.UNAUTHENTICATED="unauthenticated",c.UNAUTHORIZED="unauthorized",c.UNAUTHORIZED_APP="unauthorized-app",c.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",c.INVALID_CHECKSUM="invalid-checksum",c.CANCELED="canceled",c.INVALID_EVENT_NAME="invalid-event-name",c.INVALID_URL="invalid-url",c.INVALID_DEFAULT_BUCKET="invalid-default-bucket",c.NO_DEFAULT_BUCKET="no-default-bucket",c.CANNOT_SLICE_BLOB="cannot-slice-blob",c.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",c.NO_DOWNLOAD_URL="no-download-url",c.INVALID_ARGUMENT="invalid-argument",c.INVALID_ARGUMENT_COUNT="invalid-argument-count",c.APP_DELETED="app-deleted",c.INVALID_ROOT_OPERATION="invalid-root-operation",c.INVALID_FORMAT="invalid-format",c.INTERNAL_ERROR="internal-error",c.UNSUPPORTED_ENVIRONMENT="unsupported-environment";class b{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=b.makeFromUrl(e,n)}catch(o){return new b(e,"")}if(""===r.path)return r;throw i=e,new a(t.StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.");var i}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";const o=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(e){e.path_=decodeURIComponent(e.path)}const u=n.replace(/[.]/g,"\\."),l=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${u}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===s?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let t=0;t<l.length;t++){const n=l[t],i=n.regex.exec(e);if(i){const e=i[n.indices.bucket];let t=i[n.indices.path];t||(t=""),r=new b(e,t),n.postModify(r);break}}if(null==r)throw function(e){return new a(t.StorageErrorCode.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return r}}class w{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function C(e){return"string"===typeof e||e instanceof String}function E(e){return S()&&e instanceof Blob}function S(){return"undefined"!==typeof Blob&&!i.isNode()}function T(e,t,n,r){if(r<t)throw m(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw m(`Invalid value for '${e}'. Expected ${n} or less.`)}function I(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function k(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function x(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(u||(u={}));class A{constructor(e,t,n,r,i,o,s,a,c,u,l,h=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=l,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new D(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===u.NO_ERROR,i=n.getStatus();if(!t||x(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===u.ABORT;return void e(!1,new D(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new D(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(o){r(o)}else if(null!==i){const e=h();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?g():p())}else{r(d())}};this.canceled_?t(0,new D(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let u=!1;function l(...e){u||(u=!0,t.apply(null,e))}function h(t){i=setTimeout((()=>{i=null,e(p,c())}),t)}function d(){o&&clearTimeout(o)}function p(e,...t){if(u)return void d();if(e)return d(),void l.call(null,e,...t);if(c()||s)return d(),void l.call(null,e,...t);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let f=!1;function m(e){f||(f=!0,d(),u||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class D{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function R(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function M(...e){const n=R();if(void 0!==n){const t=new n;for(let n=0;n<e.length;n++)t.append(e[n]);return t.getBlob()}if(S())return new Blob(e);throw new a(t.StorageErrorCode.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function O(e){if("undefined"===typeof atob)throw n="base-64",new a(t.StorageErrorCode.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var n;return atob(e)}const L={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class N{constructor(e,t){this.data=e,this.contentType=t||null}}function P(e,t){switch(e){case L.RAW:return new N(F(t));case L.BASE64:case L.BASE64URL:return new N(j(e,t));case L.DATA_URL:return new N(function(e){const t=new B(e);return t.base64?j(L.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw y(L.DATA_URL,"Malformed data URL.")}return F(t)}(t.rest)}(t),new B(t).contentType)}throw h()}function F(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function j(e,t){switch(e){case L.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw y(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case L.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw y(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=O(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw y(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class B{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw y(L.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}}class U{constructor(e,t){let n=0,r="";E(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(E(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new U(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new U(n,!0)}}static getBlob(...e){if(S()){const t=e.map((e=>e instanceof U?e.data_:e));return new U(M.apply(null,t))}{const t=e.map((e=>C(e)?P(L.RAW,e).data:e.data_));let n=0;t.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return t.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new U(r,!0)}}uploadData(){return this.data_}}function V(e){let t;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t;var n}function H(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function q(e,t){return t}class z{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||q}}let $=null;function W(){if($)return $;const e=[];e.push(new z("bucket")),e.push(new z("generation")),e.push(new z("metageneration")),e.push(new z("name","fullPath",!0));const t=new z("name");t.xform=function(e,t){return function(e){return!C(e)||e.length<2?e:H(e)}(t)},e.push(t);const n=new z("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new z("timeCreated")),e.push(new z("updated")),e.push(new z("md5Hash",null,!0)),e.push(new z("cacheControl",null,!0)),e.push(new z("contentDisposition",null,!0)),e.push(new z("contentEncoding",null,!0)),e.push(new z("contentLanguage",null,!0)),e.push(new z("contentType",null,!0)),e.push(new z("metadata","customMetadata",!0)),$=e,$}function G(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new b(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Z(e,t,n){const r=V(t);if(null===r)return null;return G(e,r,n)}function K(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}function J(e,t,n){const r=V(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(const i of n.prefixes){const n=i.replace(/\/$/,""),o=e._makeStorageReference(new b(t,n));r.prefixes.push(o)}if(n.items)for(const i of n.items){const n=e._makeStorageReference(new b(t,i.name));r.items.push(n)}return r}(e,t,r)}class X{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Y(e){if(!e)throw h()}function Q(e,t){return function(n,r){const i=Z(e,r,t);return Y(null!==i),i}}function ee(e,t){return function(n,r){const i=Z(e,r,t);return Y(null!==i),function(e,t,n,r){const i=V(t);if(null===i)return null;if(!C(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return I("/b/"+s(i)+"/o/"+s(o),n,r)+k({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function te(e){return function(n,r){let i;var o,s;return 401===n.getStatus()?i=n.getErrorText().includes("Firebase App Check token is invalid")?new a(t.StorageErrorCode.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new a(t.StorageErrorCode.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===n.getStatus()?(s=e.bucket,i=new a(t.StorageErrorCode.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===n.getStatus()?(o=e.path,i=new a(t.StorageErrorCode.UNAUTHORIZED,"User does not have permission to access '"+o+"'.")):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function ne(e){const n=te(e);return function(r,i){let o=n(r,i);var s;return 404===r.getStatus()&&(s=e.path,o=new a(t.StorageErrorCode.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),o.serverResponse=i.serverResponse,o}}function re(e,t,n){const r=I(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new X(r,"GET",Q(e,n),i);return o.errorHandler=ne(t),o}function ie(e,t,n,r,i){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=I(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,c=new X(s,"GET",function(e,t){return function(n,r){const i=J(e,t,r);return Y(null!==i),i}}(e,t.bucket),a);return c.urlParams=o,c.errorHandler=te(t),c}function oe(e,t,n){const r=I(t.fullServerUrl(),e.host,e._protocol)+"?alt=media",i=e.maxOperationRetryTime,o=new X(r,"GET",((e,t)=>t),i);return o.errorHandler=ne(t),void 0!==n&&(o.headers.Range=`bytes=0-${n}`,o.successCodes=[200,206]),o}function se(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function ae(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const c=se(t,r,i),u="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+K(c,n)+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",l="\r\n--"+a+"--",h=U.getBlob(u,r,l);if(null===h)throw f();const d={name:c.fullPath},p=I(o,e.host,e._protocol),m=e.maxUploadRetryTime,g=new X(p,"POST",Q(e,n),m);return g.urlParams=d,g.headers=s,g.body=h.uploadData(),g.errorHandler=te(t),g}class ce{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function ue(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Y(!1)}return Y(!!n&&-1!==(t||["active"]).indexOf(n)),n}const le=262144;function he(e,n,r,i,o,s,c,u){const l=new ce(0,0);if(c?(l.current=c.current,l.total=c.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw new a(t.StorageErrorCode.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const h=l.total-l.current;let d=h;o>0&&(d=Math.min(d,o));const p=l.current,m=p+d;let g="";g=0===d?"finalize":h===d?"upload, finalize":"upload";const v={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${l.current}`},y=i.slice(p,m);if(null===y)throw f();const _=n.maxUploadRetryTime,b=new X(r,"POST",(function(e,t){const r=ue(e,["active","final"]),o=l.current+d,a=i.size();let c;return c="final"===r?Q(n,s)(e,t):null,new ce(o,a,"final"===r,c)}),_);return b.headers=v,b.body=y.uploadData(),b.progressCallback=u||null,b.errorHandler=te(e),b}const de={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function pe(e){switch(e){case"running":case"pausing":case"canceling":return de.RUNNING;case"paused":return de.PAUSED;case"success":return de.SUCCESS;case"canceled":return de.CANCELED;default:return de.ERROR}}class fe{constructor(e,t,n){if("function"===typeof e||null!=t||null!=n)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function me(e){return(...t)=>{Promise.resolve().then((()=>e(...t)))}}class ge{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=u.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=u.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=u.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw _("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw _("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class ve extends ge{initXhr(){this.xhr_.responseType="text"}}function ye(){return new ve}class _e extends ge{initXhr(){this.xhr_.responseType="arraybuffer"}}function be(){return new _e}class we extends ge{initXhr(){this.xhr_.responseType="blob"}}function Ce(){return new we}class Ee{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=W(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(t.StorageErrorCode.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(x(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=d()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(t.StorageErrorCode.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s=se(t,r,i),a={name:s.fullPath},c=I(o,e.host,e._protocol),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=K(s,n),h=e.maxUploadRetryTime,d=new X(c,"POST",(function(e){let t;ue(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Y(!1)}return Y(C(t)),t}),h);return d.urlParams=a,d.headers=u,d.body=l,d.errorHandler=te(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,ye,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,o=new X(n,"POST",(function(e){const t=ue(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Y(!1)}n||Y(!1);const i=Number(n);return Y(!isNaN(i)),new ce(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=te(t),o}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,ye,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=le*this._chunkMultiplier,t=new ce(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let o;try{o=he(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const s=this._ref.storage._makeRequest(o,ye,r,i,!1);this._request=s,s.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(le*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=re(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,ye,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=ae(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,ye,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=p(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=pe(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new fe(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(pe(this._state)){case de.SUCCESS:me(this._resolve.bind(null,this.snapshot))();break;case de.CANCELED:case de.ERROR:me(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(pe(this._state)){case de.RUNNING:case de.PAUSED:e.next&&me(e.next.bind(e,this.snapshot))();break;case de.SUCCESS:e.complete&&me(e.complete.bind(e))();break;default:e.error&&me(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Se{constructor(e,t){this._service=e,this._location=t instanceof b?t:b.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Se(e,t)}get root(){const e=new b(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return H(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new b(this._location.bucket,e);return new Se(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw v(e)}}function Te(e,t,n){e._throwIfRoot("uploadBytes");const r=ae(e.storage,e._location,W(),new U(t,!0),n);return e.storage.makeRequestWithTokens(r,ye).then((t=>({metadata:t,ref:e})))}function Ie(e){const t={prefixes:[],items:[]};return ke(e,t).then((()=>t))}async function ke(e,t,n){const r={pageToken:n},i=await xe(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await ke(e,t,i.nextPageToken)}function xe(e,t){null!=t&&"number"===typeof t.maxResults&&T("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=ie(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,ye)}function Ae(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=I(t.fullServerUrl(),e.host,e._protocol),o=K(n,r),s=e.maxOperationRetryTime,a=new X(i,"PATCH",Q(e,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=ne(t),a}(e.storage,e._location,t,W());return e.storage.makeRequestWithTokens(n,ye)}function De(e){e._throwIfRoot("getDownloadURL");const n=function(e,t,n){const r=I(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new X(r,"GET",ee(e,n),i);return o.errorHandler=ne(t),o}(e.storage,e._location,W());return e.storage.makeRequestWithTokens(n,ye).then((e=>{if(null===e)throw new a(t.StorageErrorCode.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Re(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=I(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new X(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=ne(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,ye)}function Me(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new b(e._location.bucket,n);return new Se(e.storage,r)}function Oe(e,n){if(e instanceof Pe){const r=e;if(null==r._bucket)throw new a(t.StorageErrorCode.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const i=new Se(r,r._bucket);return null!=n?Oe(i,n):i}return void 0!==n?Me(e,n):e}function Le(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Pe)return new Se(e,t);throw m("To use ref(service, url), the first argument must be a Storage instance.")}return Oe(e,t)}function Ne(e,t){const n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:b.makeFromBucketSpec(n,e)}class Pe{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=s,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?b.makeFromBucketSpec(r,this._host):Ne(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=b.makeFromBucketSpec(this._url,e):this._bucket=Ne(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){T("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){T("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Se(this,e)}_makeRequest(e,t,n,r,i=!0){if(this._deleted)return new w(g());{const o=function(e,t,n,r,i,o,s=!0){const a=k(e.urlParams),c=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new A(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Fe="@firebase/storage",je="0.11.2",Be="storage";function Ue(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:o}=r;o&&(e._overrideAuthToken="string"===typeof o?o:i.createMockUserToken(o,e.app.options.projectId))}(e,t,n,r)}function Ve(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Pe(n,i,o,t,r.SDK_VERSION)}r._registerComponent(new o.Component(Be,Ve,"PUBLIC").setMultipleInstances(!0)),r.registerVersion(Fe,je,""),r.registerVersion(Fe,je,"cjs2017"),t.StorageError=a,t.StringFormat=L,t._FbsBlob=U,t._Location=b,t._TaskEvent={STATE_CHANGED:"state_changed"},t._TaskState=de,t._UploadTask=Ee,t._dataFromString=P,t._getChild=function(e,t){return Me(e,t)},t._invalidArgument=m,t._invalidRootOperation=v,t.connectStorageEmulator=Ue,t.deleteObject=function(e){return Re(e=i.getModularInstance(e))},t.getBlob=function(e,t){return function(e,t){e._throwIfRoot("getBlob");const n=oe(e.storage,e._location,t);return e.storage.makeRequestWithTokens(n,Ce).then((e=>void 0!==t?e.slice(0,t):e))}(e=i.getModularInstance(e),t)},t.getBytes=function(e,t){return function(e,t){e._throwIfRoot("getBytes");const n=oe(e.storage,e._location,t);return e.storage.makeRequestWithTokens(n,be).then((e=>void 0!==t?e.slice(0,t):e))}(e=i.getModularInstance(e),t)},t.getDownloadURL=function(e){return De(e=i.getModularInstance(e))},t.getMetadata=function(e){return function(e){e._throwIfRoot("getMetadata");const t=re(e.storage,e._location,W());return e.storage.makeRequestWithTokens(t,ye)}(e=i.getModularInstance(e))},t.getStorage=function(e=r.getApp(),t){e=i.getModularInstance(e);const n=r._getProvider(e,Be).getImmediate({identifier:t}),o=i.getDefaultEmulatorHostnameAndPort("storage");return o&&Ue(n,...o),n},t.getStream=function(e,t){throw new Error("getStream() is only supported by NodeJS builds")},t.list=function(e,t){return xe(e=i.getModularInstance(e),t)},t.listAll=function(e){return Ie(e=i.getModularInstance(e))},t.ref=function(e,t){return Le(e=i.getModularInstance(e),t)},t.updateMetadata=function(e,t){return Ae(e=i.getModularInstance(e),t)},t.uploadBytes=function(e,t,n){return Te(e=i.getModularInstance(e),t,n)},t.uploadBytesResumable=function(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Ee(e,new U(t),n)}(e=i.getModularInstance(e),t,n)},t.uploadString=function(e,t,n,r){return function(e,t,n=L.RAW,r){e._throwIfRoot("uploadString");const i=P(n,t),o=Object.assign({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),Te(e,i.data,o)}(e=i.getModularInstance(e),t,n,r)}},1470:function(e,t,n){"use strict";var r=n(3542);Object.defineProperty(t,"__esModule",{value:!0});const i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},a=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,u=t>>2,l=(3&t)<<4|s>>4;let h=(15&s)<<2|c>>6,d=63&c;a||(d=64,o||(h=64)),r.push(n[u],n[l],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new u;const c=t<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class u extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l=function(e){const t=a(e);return c.encodeByteArray(t,!0)},h=function(e){return l(e).replace(/\./g,"")},d=function(e){try{return c.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function p(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=p(e[n],t[n]));return e}function f(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const m=()=>{try{return f().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof r||"undefined"===typeof r.env)return;const e=r.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&d(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},g=e=>{var t,n;return null===(n=null===(t=m())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]};class v{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _(){var e;const t=null===(e=m())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}class b extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,w.prototype.create)}}class w{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(C,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new b(r,s,n)}}const C=/\{\$([^}]+)}/g;function E(e){return JSON.parse(e)}const S=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=E(d(o[0])||""),n=E(d(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function T(e){return null!==e&&"object"===typeof e}class I{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=k),void 0===r.error&&(r.error=k),void 0===r.complete&&(r.complete=k);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function k(){}function x(e,t){return`${e} failed: ${t} argument `}const A=144e5;t.CONSTANTS=i,t.DecodeBase64StringError=u,t.Deferred=v,t.ErrorFactory=w,t.FirebaseError=b,t.MAX_VALUE_MILLIS=A,t.RANDOM_FACTOR=.5,t.Sha1=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let l=0;l<16;l++)n[l]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let l=0;l<16;l++)n[l]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let l=16;l<80;l++){const e=n[l-3]^n[l-8]^n[l-14]^n[l-16];n[l]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],c=this.chain_[3],u=this.chain_[4];for(let l=0;l<80;l++){l<40?l<20?(r=c^s&(a^c),i=1518500249):(r=s^a^c,i=1859775393):l<60?(r=s&a|c&(s|a),i=2400959708):(r=s^a^c,i=3395469782);const e=(o<<5|o>>>27)+r+u+i+n[l]&4294967295;u=c,c=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}},t.areCookiesEnabled=function(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)},t.assert=o,t.assertionError=s,t.async=function(e,t){return(...n)=>{Promise.resolve(!0).then((()=>{e(...n)})).catch((e=>{t&&t(e)}))}},t.base64=c,t.base64Decode=d,t.base64Encode=l,t.base64urlEncodeWithoutPadding=h,t.calculateBackoffMillis=function(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(A,r+i)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createMockUserToken=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[h(JSON.stringify({alg:"none",type:"JWT"})),h(JSON.stringify(o)),""].join(".")},t.createSubscribe=function(e,t){const n=new I(e,t);return n.subscribe.bind(n)},t.decode=S,t.deepCopy=function(e){return p(void 0,e)},t.deepEqual=function e(t,n){if(t===n)return!0;const r=Object.keys(t),i=Object.keys(n);for(const o of r){if(!i.includes(o))return!1;const r=t[o],s=n[o];if(T(r)&&T(s)){if(!e(r,s))return!1}else if(r!==s)return!1}for(const o of i)if(!r.includes(o))return!1;return!0},t.deepExtend=p,t.errorPrefix=x,t.extractQuerystring=function(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)},t.getDefaultAppConfig=()=>{var e;return null===(e=m())||void 0===e?void 0:e.config},t.getDefaultEmulatorHost=g,t.getDefaultEmulatorHostnameAndPort=e=>{const t=g(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},t.getDefaults=m,t.getExperimentalSetting=e=>{var t;return null===(t=m())||void 0===t?void 0:t[`_${e}`]},t.getGlobal=f,t.getModularInstance=function(e){return e&&e._delegate?e._delegate:e},t.getUA=y,t.isAdmin=function(e){const t=S(e).claims;return"object"===typeof t&&!0===t.admin},t.isBrowser=function(){return"object"===typeof self&&self.self===self},t.isBrowserExtension=function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id},t.isElectron=function(){return y().indexOf("Electron/")>=0},t.isEmpty=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){const e=y();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isIndexedDBAvailable=function(){try{return"object"===typeof indexedDB}catch(e){return!1}},t.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())},t.isNode=_,t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},t.isSafari=function(){return!_()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},t.isUWP=function(){return y().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){const t=S(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){const t=S(e).claims,n=Math.floor((new Date).getTime()/1e3);let r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){const t=S(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=E,t.map=function(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.ordinal=function(e){return Number.isFinite(e)?e+function(e){const t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";const n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):`${e}`},t.promiseWithTimeout=function(e,t=2e3){const n=new v;return setTimeout((()=>n.reject("timeout!")),t),e.then(n.resolve,n.reject),n.promise},t.querystring=function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate.");i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.validateArgCount=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(x(e,t)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(x(e,t)+"must be a valid context object.")},t.validateIndexedDBOpenable=function(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))},t.validateNamespace=function(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(x(e,"namespace")+"must be a valid firebase namespace.")}},3395:function(e,t,n){"use strict";n.d(t,{BH:function(){return m},L:function(){return a},LL:function(){return I},P0:function(){return d},Pz:function(){return f},Sg:function(){return g},UG:function(){return _},ZR:function(){return T},aH:function(){return p},b$:function(){return w},eu:function(){return S},hl:function(){return E},m9:function(){return F},ne:function(){return L},pd:function(){return O},q4:function(){return h},ru:function(){return b},tV:function(){return c},uI:function(){return y},vZ:function(){return A},w1:function(){return C},xO:function(){return R},xb:function(){return x},z$:function(){return v},zd:function(){return M}});var r=n(3542);const i=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,u=t>>2,l=(3&t)<<4|s>>4;let h=(15&s)<<2|c>>6,d=63&c;a||(d=64,o||(h=64)),r.push(n[u],n[l],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const c=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==c)throw new s;const u=t<<2|o>>4;if(r.push(u),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==c){const e=a<<6&192|c;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=i(e);return o.encodeByteArray(t,!0)}(e).replace(/\./g,"")},c=function(e){try{return o.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const u=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,l=()=>{try{return u()||(()=>{if("undefined"===typeof r||"undefined"===typeof r.env)return;const e=r.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&c(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},h=e=>{var t,n;return null===(n=null===(t=l())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},d=e=>{const t=h(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},p=()=>{var e;return null===(e=l())||void 0===e?void 0:e.config},f=e=>{var t;return null===(t=l())||void 0===t?void 0:t[`_${e}`]};class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function g(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(o)),""].join(".")}function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function y(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function _(){var e;const t=null===(e=l())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function b(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function C(){const e=v();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function E(){try{return"object"===typeof indexedDB}catch(e){return!1}}function S(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class T extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,T.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I.prototype.create)}}class I{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(k,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new T(r,s,n)}}const k=/\{\$([^}]+)}/g;function x(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function A(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(D(n)&&D(o)){if(!A(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function D(e){return null!==e&&"object"===typeof e}function R(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function M(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function O(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function L(e,t){const n=new N(e,t);return n.subscribe.bind(n)}class N{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=P),void 0===r.error&&(r.error=P),void 0===r.complete&&(r.complete=P);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function P(){}function F(e){return e&&e._delegate?e._delegate:e}},7183:function(e,t,n){"use strict";n.d(t,{Xb:function(){return p},Gd:function(){return g},cu:function(){return f}});var r=n(8773),i=n(3699),o=n(7790),s=n(8536),a=n(5907),c=n(4266),u="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,l=n(1684),h=n(1995),d=function(){function e(e){this.errors=0,this.sid=(0,i.DM)(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var t=(0,o.ph)();this.timestamp=t,this.started=t,e&&this.update(e)}return e.prototype.update=function(e){if(void 0===e&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),this.did||e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||(0,o.ph)(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=32===e.sid.length?e.sid:(0,i.DM)()),void 0!==e.init&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),"number"===typeof e.started&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if("number"===typeof e.duration)this.duration=e.duration;else{var t=this.timestamp-this.started;this.duration=t>=0?t:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),"number"===typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},e.prototype.close=function(e){e?this.update({status:e}):"ok"===this.status?this.update({status:"exited"}):this.update()},e.prototype.toJSON=function(){return(0,h.Jr)({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"===typeof this.did||"string"===typeof this.did?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},e}(),p=function(){function e(e,t,n){void 0===t&&(t=new l.s),void 0===n&&(n=4),this._version=n,this._stack=[{}],this.getStackTop().scope=t,e&&this.bindClient(e)}return e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=l.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},e.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=t&&t.event_id?t.event_id:(0,i.DM)(),o=t;if(!t){var s=void 0;try{throw new Error("Sentry syntheticException")}catch(e){s=e}o={originalException:e,syntheticException:s}}return this._invokeClient("captureException",e,(0,r.pi)((0,r.pi)({},o),{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var o=this._lastEventId=n&&n.event_id?n.event_id:(0,i.DM)(),s=n;if(!n){var a=void 0;try{throw new Error(e)}catch(c){a=c}s={originalException:e,syntheticException:a}}return this._invokeClient("captureMessage",e,t,(0,r.pi)((0,r.pi)({},s),{event_id:o})),o},e.prototype.captureEvent=function(e,t){var n=t&&t.event_id?t.event_id:(0,i.DM)();return"transaction"!==e.type&&(this._lastEventId=n),this._invokeClient("captureEvent",e,(0,r.pi)((0,r.pi)({},t),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop(),i=n.scope,a=n.client;if(i&&a){var c=a.getOptions&&a.getOptions()||{},u=c.beforeBreadcrumb,l=void 0===u?null:u,h=c.maxBreadcrumbs,d=void 0===h?100:h;if(!(d<=0)){var p=(0,o.yW)(),f=(0,r.pi)({timestamp:p},e),m=l?(0,s.Cf)((function(){return l(f,t)})):f;null!==m&&i.addBreadcrumb(m,d)}}},e.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},e.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},e.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getScope();n&&n.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getScope();n&&n.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getScope();n&&n.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop(),n=t.scope,r=t.client;n&&r&&e(n)},e.prototype.run=function(e){var t=m(this);try{e(this)}finally{m(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(n){return u&&s.kg.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},e.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(e){if(void 0===e&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var e=this.getStackTop(),t=e&&e.scope,n=t&&t.getSession();n&&n.close(),this._sendSessionUpdate(),t&&t.setSession()},e.prototype.startSession=function(e){var t=this.getStackTop(),n=t.scope,i=t.client,o=i&&i.getOptions()||{},s=o.release,c=o.environment,u=((0,a.R)().navigator||{}).userAgent,l=new d((0,r.pi)((0,r.pi)((0,r.pi)({release:s,environment:c},n&&{user:n.getUser()}),u&&{userAgent:u}),e));if(n){var h=n.getSession&&n.getSession();h&&"ok"===h.status&&h.update({status:"exited"}),this.endSession(),n.setSession(l)}return l},e.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),t=e.scope,n=e.client;if(t){var r=t.getSession&&t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},e.prototype._invokeClient=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.getStackTop(),s=o.scope,a=o.client;a&&a[e]&&(t=a)[e].apply(t,(0,r.fl)(n,[s]))},e.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=f(),i=r.__SENTRY__;if(i&&i.extensions&&"function"===typeof i.extensions[e])return i.extensions[e].apply(this,t);u&&s.kg.warn("Extension method "+e+" couldn't be found, doing nothing.")},e}();function f(){var e=(0,a.R)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function m(e){var t=f(),n=y(t);return _(t,e),n}function g(){var e=f();return v(e)&&!y(e).isOlderThan(4)||_(e,new p),(0,c.KV)()?function(e){try{var t=f().__SENTRY__,n=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!n)return y(e);if(!v(n)||y(n).isOlderThan(4)){var r=y(e).getStackTop();_(n,new p(r.client,l.s.clone(r.scope)))}return y(n)}catch(i){return y(e)}}(e):y(e)}function v(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function y(e){return(0,a.Y)("hub",(function(){return new p}),e)}function _(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}},1684:function(e,t,n){"use strict";n.d(t,{c:function(){return l},s:function(){return c}});var r=n(8773),i=n(1757),o=n(7790),s=n(7946),a=n(5907),c=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=(0,r.fl)(t._breadcrumbs),n._tags=(0,r.pi)({},t._tags),n._extra=(0,r.pi)({},t._extra),n._contexts=(0,r.pi)({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=(0,r.fl)(t._eventProcessors),n._requestSession=t._requestSession),n},e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.getRequestSession=function(){return this._requestSession},e.prototype.setRequestSession=function(e){return this._requestSession=e,this},e.prototype.setTags=function(e){return this._tags=(0,r.pi)((0,r.pi)({},this._tags),e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var n;return this._tags=(0,r.pi)((0,r.pi)({},this._tags),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=(0,r.pi)((0,r.pi)({},this._extra),e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var n;return this._extra=(0,r.pi)((0,r.pi)({},this._extra),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this.setTransactionName(e)},e.prototype.setContext=function(e,t){var n;return null===t?delete this._contexts[e]:this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var e=this.getSpan();return e&&e.transaction},e.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if("function"===typeof t){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=(0,r.pi)((0,r.pi)({},this._tags),t._tags),this._extra=(0,r.pi)((0,r.pi)({},this._extra),t._extra),this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):(0,i.PO)(t)&&(this._tags=(0,r.pi)((0,r.pi)({},this._tags),t.tags),this._extra=(0,r.pi)((0,r.pi)({},this._extra),t.extra),this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var n="number"===typeof t?Math.min(t,100):100;if(n<=0)return this;var i=(0,r.pi)({timestamp:(0,o.yW)()},e);return this._breadcrumbs=(0,r.fl)(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(e,t){if(this._extra&&Object.keys(this._extra).length&&(e.extra=(0,r.pi)((0,r.pi)({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=(0,r.pi)((0,r.pi)({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=(0,r.pi)((0,r.pi)({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=(0,r.pi)((0,r.pi)({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=(0,r.pi)({trace:this._span.getTraceContext()},e.contexts);var n=this._span.transaction&&this._span.transaction.name;n&&(e.tags=(0,r.pi)({transaction:n},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=(0,r.fl)(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors((0,r.fl)(u(),this._eventProcessors),e,t)},e.prototype.setSDKProcessingMetadata=function(e){return this._sdkProcessingMetadata=(0,r.pi)((0,r.pi)({},this._sdkProcessingMetadata),e),this},e.prototype._notifyEventProcessors=function(e,t,n,o){var a=this;return void 0===o&&(o=0),new s.cW((function(s,c){var u=e[o];if(null===t||"function"!==typeof u)s(t);else{var l=u((0,r.pi)({},t),n);(0,i.J8)(l)?l.then((function(t){return a._notifyEventProcessors(e,t,n,o+1).then(s)})).then(null,c):a._notifyEventProcessors(e,l,n,o+1).then(s).then(null,c)}}))},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(t){t(e)})),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e}();function u(){return(0,a.Y)("globalEventProcessors",(function(){return[]}))}function l(e){u().push(e)}},8773:function(e,t,n){"use strict";n.d(t,{fl:function(){return o},pi:function(){return r}});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};function i(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function o(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e}},7734:function(e,t,n){"use strict";n.d(t,{d:function(){return r},x:function(){return i}});var r="finishReason",i=["heartbeatFailed","idleTimeout","documentHidden"]},4741:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});var r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},2252:function(e,t,n){"use strict";n.d(t,{ro:function(){return y},lb:function(){return v}});var r=n(157),i=n(7183),o=n(8536),s=n(1757),a=n(4266),c=n(4005),u=n(4741),l=n(1265);function h(){var e=(0,l.x1)();if(e){var t="internal_error";u.h&&o.kg.log("[Tracing] Transaction: "+t+" -> Global error occured"),e.setStatus(t)}}var d=n(1177),p=n(1753);function f(){var e=this.getScope();if(e){var t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function m(e,t,n){return(0,l.zu)(t)?void 0!==e.sampled?(e.setMetadata({transactionSampling:{method:"explicitly_set"}}),e):("function"===typeof t.tracesSampler?(r=t.tracesSampler(n),e.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(r)}})):void 0!==n.parentSampled?(r=n.parentSampled,e.setMetadata({transactionSampling:{method:"inheritance"}})):(r=t.tracesSampleRate,e.setMetadata({transactionSampling:{method:"client_rate",rate:Number(r)}})),function(e){if((0,s.i2)(e)||"number"!==typeof e&&"boolean"!==typeof e)return u.h&&o.kg.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(e)+" of type "+JSON.stringify(typeof e)+"."),!1;if(e<0||e>1)return u.h&&o.kg.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+e+"."),!1;return!0}(r)?r?(e.sampled=Math.random()<r,e.sampled?(u.h&&o.kg.log("[Tracing] starting "+e.op+" transaction - "+e.name),e):(u.h&&o.kg.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(r)+")"),e)):(u.h&&o.kg.log("[Tracing] Discarding transaction because "+("function"===typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(u.h&&o.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)):(e.sampled=!1,e);var r}function g(e,t){var n=this.getClient(),i=n&&n.getOptions()||{},o=new p.Y(e,this);return(o=m(o,i,(0,r.pi)({parentSampled:e.parentSampled,transactionContext:e},t))).sampled&&o.initSpanRecorder(i._experiments&&i._experiments.maxSpans),o}function v(e,t,n,i,o){var s=e.getClient(),a=s&&s.getOptions()||{},c=new d.io(t,e,n,i);return(c=m(c,a,(0,r.pi)({parentSampled:t.parentSampled,transactionContext:t},o))).sampled&&c.initSpanRecorder(a._experiments&&a._experiments.maxSpans),c}function y(){!function(){var e=(0,i.cu)();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=g),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=f))}(),(0,a.KV)()&&function(){var t=(0,i.cu)();if(t.__SENTRY__){var n={mongodb:function(){return new((0,a.l$)(e,"./integrations/node/mongo").Mongo)},mongoose:function(){return new((0,a.l$)(e,"./integrations/node/mongo").Mongo)({mongoose:!0})},mysql:function(){return new((0,a.l$)(e,"./integrations/node/mysql").Mysql)},pg:function(){return new((0,a.l$)(e,"./integrations/node/postgres").Postgres)}},o=Object.keys(n).filter((function(e){return!!(0,a.$y)(e)})).map((function(e){try{return n[e]()}catch(t){return}})).filter((function(e){return e}));o.length>0&&(t.__SENTRY__.integrations=(0,r.fl)(t.__SENTRY__.integrations||[],o))}}(),(0,c.o)("error",h),(0,c.o)("unhandledrejection",h)}e=n.hmd(e)},1177:function(e,t,n){"use strict";n.d(t,{io:function(){return d},nT:function(){return l}});var r=n(157),i=n(7790),o=n(8536),s=n(7734),a=n(4741),c=n(5274),u=n(1753),l=1e3,h=function(e){function t(t,n,r,i){void 0===r&&(r="");var o=e.call(this,i)||this;return o._pushActivity=t,o._popActivity=n,o.transactionSpanId=r,o}return(0,r.ZT)(t,e),t.prototype.add=function(t){var n=this;t.spanId!==this.transactionSpanId&&(t.finish=function(e){t.endTimestamp="number"===typeof e?e:(0,i._I)(),n._popActivity(t.spanId)},void 0===t.endTimestamp&&this._pushActivity(t.spanId)),e.prototype.add.call(this,t)},t}(c.gB),d=function(e){function t(t,n,r,i){void 0===r&&(r=l),void 0===i&&(i=!1);var s=e.call(this,t,n)||this;return s._idleHub=n,s._idleTimeout=r,s._onScope=i,s.activities={},s._heartbeatCounter=0,s._finished=!1,s._beforeFinishCallbacks=[],n&&i&&(p(n),a.h&&o.kg.log("Setting idle transaction on scope. Span ID: "+s.spanId),n.configureScope((function(e){return e.setSpan(s)}))),s._initTimeout=setTimeout((function(){s._finished||s.finish()}),s._idleTimeout),s}return(0,r.ZT)(t,e),t.prototype.finish=function(t){var n,s,c=this;if(void 0===t&&(t=(0,i._I)()),this._finished=!0,this.activities={},this.spanRecorder){a.h&&o.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);try{for(var u=(0,r.XA)(this._beforeFinishCallbacks),l=u.next();!l.done;l=u.next()){(0,l.value)(this,t)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(e){if(e.spanId===c.spanId)return!0;e.endTimestamp||(e.endTimestamp=t,e.setStatus("cancelled"),a.h&&o.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));var n=e.startTimestamp<t;return n||a.h&&o.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(e,void 0,2)),n})),a.h&&o.kg.log("[Tracing] flushing IdleTransaction")}else a.h&&o.kg.log("[Tracing] No active IdleTransaction");return this._onScope&&p(this._idleHub),e.prototype.finish.call(this,t)},t.prototype.registerBeforeFinishCallback=function(e){this._beforeFinishCallbacks.push(e)},t.prototype.initSpanRecorder=function(e){var t=this;if(!this.spanRecorder){this.spanRecorder=new h((function(e){t._finished||t._pushActivity(e)}),(function(e){t._finished||t._popActivity(e)}),this.spanId,e),a.h&&o.kg.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},t.prototype._pushActivity=function(e){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),a.h&&o.kg.log("[Tracing] pushActivity: "+e),this.activities[e]=!0,a.h&&o.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)},t.prototype._popActivity=function(e){var t=this;if(this.activities[e]&&(a.h&&o.kg.log("[Tracing] popActivity "+e),delete this.activities[e],a.h&&o.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=(0,i._I)()+n/1e3;setTimeout((function(){t._finished||(t.setTag(s.d,s.x[1]),t.finish(r))}),n)}},t.prototype._beat=function(){if(!this._finished){var e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(a.h&&o.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.setTag(s.d,s.x[0]),this.finish()):this._pingHeartbeat()}},t.prototype._pingHeartbeat=function(){var e=this;a.h&&o.kg.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),setTimeout((function(){e._beat()}),5e3)},t}(u.Y);function p(e){if(e){var t=e.getScope();if(t)t.getTransaction()&&t.setSpan(void 0)}}},5274:function(e,t,n){"use strict";n.d(t,{Dr:function(){return c},gB:function(){return a}});var r=n(157),i=n(3699),o=n(7790),s=n(1995),a=function(){function e(e){void 0===e&&(e=1e3),this.spans=[],this._maxlen=e}return e.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},e}(),c=function(){function e(e){if(this.traceId=(0,i.DM)(),this.spanId=(0,i.DM)().substring(16),this.startTimestamp=(0,o._I)(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return e.prototype.child=function(e){return this.startChild(e)},e.prototype.startChild=function(t){var n=new e((0,r.pi)((0,r.pi)({},t),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},e.prototype.setTag=function(e,t){var n;return this.tags=(0,r.pi)((0,r.pi)({},this.tags),((n={})[e]=t,n)),this},e.prototype.setData=function(e,t){var n;return this.data=(0,r.pi)((0,r.pi)({},this.data),((n={})[e]=t,n)),this},e.prototype.setStatus=function(e){return this.status=e,this},e.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var t=function(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(e);return"unknown_error"!==t&&this.setStatus(t),this},e.prototype.isSuccess=function(){return"ok"===this.status},e.prototype.finish=function(e){this.endTimestamp="number"===typeof e?e:(0,o._I)()},e.prototype.toTraceparent=function(){var e="";return void 0!==this.sampled&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},e.prototype.toContext=function(){return(0,s.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},e.prototype.updateWithContext=function(e){var t,n,r,i,o;return this.data=null!==(t=e.data)&&void 0!==t?t:{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=null!==(n=e.spanId)&&void 0!==n?n:this.spanId,this.startTimestamp=null!==(r=e.startTimestamp)&&void 0!==r?r:this.startTimestamp,this.status=e.status,this.tags=null!==(i=e.tags)&&void 0!==i?i:{},this.traceId=null!==(o=e.traceId)&&void 0!==o?o:this.traceId,this},e.prototype.getTraceContext=function(){return(0,s.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},e.prototype.toJSON=function(){return(0,s.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},e}()},1753:function(e,t,n){"use strict";n.d(t,{Y:function(){return l}});var r=n(157),i=n(7183),o=n(1757),s=n(8536),a=n(1995),c=n(4741),u=n(5274),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r._measurements={},r._hub=(0,i.Gd)(),(0,o.V9)(n,i.Xb)&&(r._hub=n),r.name=t.name||"",r.metadata=t.metadata||{},r._trimEnd=t.trimEnd,r.transaction=r,r}return(0,r.ZT)(t,e),t.prototype.setName=function(e){this.name=e},t.prototype.initSpanRecorder=function(e){void 0===e&&(e=1e3),this.spanRecorder||(this.spanRecorder=new u.gB(e)),this.spanRecorder.add(this)},t.prototype.setMeasurements=function(e){this._measurements=(0,r.pi)({},e)},t.prototype.setMetadata=function(e){this.metadata=(0,r.pi)((0,r.pi)({},this.metadata),e)},t.prototype.finish=function(t){var n=this;if(void 0===this.endTimestamp){if(this.name||(c.h&&s.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),e.prototype.finish.call(this,t),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter((function(e){return e!==n&&e.endTimestamp})):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((function(e,t){return e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e})).endTimestamp);var i={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:this.metadata};return Object.keys(this._measurements).length>0&&(c.h&&s.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),c.h&&s.kg.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(i)}c.h&&s.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var o=this._hub.getClient(),a=o&&o.getTransport&&o.getTransport();a&&a.recordLostEvent&&a.recordLostEvent("sample_rate","transaction")}},t.prototype.toContext=function(){var t=e.prototype.toContext.call(this);return(0,a.Jr)((0,r.pi)((0,r.pi)({},t),{name:this.name,trimEnd:this._trimEnd}))},t.prototype.updateWithContext=function(t){var n;return e.prototype.updateWithContext.call(this,t),this.name=null!==(n=t.name)&&void 0!==n?n:"",this._trimEnd=t.trimEnd,this},t}(u.Dr)},1265:function(e,t,n){"use strict";n.d(t,{WB:function(){return a},XL:function(){return s},x1:function(){return o},zu:function(){return i}});var r=n(7183);function i(e){var t=(0,r.Gd)().getClient(),n=e||t&&t.getOptions();return!!n&&("tracesSampleRate"in n||"tracesSampler"in n)}function o(e){var t=(e||(0,r.Gd)()).getScope();return t&&t.getTransaction()}function s(e){return e/1e3}function a(e){return 1e3*e}},157:function(e,t,n){"use strict";n.d(t,{CR:function(){return c},XA:function(){return a},ZT:function(){return i},_T:function(){return s},fl:function(){return u},pi:function(){return o}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}},4194:function(e,t,n){"use strict";n.d(t,{R:function(){return o},l:function(){return a}});var r=n(5907),i=n(1757);function o(e,t){try{for(var n=e,r=[],i=0,o=0,a=" > ".length,c=void 0;n&&i++<5&&!("html"===(c=s(n,t))||i>1&&o+r.length*a+c.length>=80);)r.push(c),o+=c.length,n=n.parentNode;return r.reverse().join(" > ")}catch(u){return"<unknown>"}}function s(e,t){var n,r,o,s,a,c=e,u=[];if(!c||!c.tagName)return"";u.push(c.tagName.toLowerCase());var l=t&&t.length?t.filter((function(e){return c.getAttribute(e)})).map((function(e){return[e,c.getAttribute(e)]})):null;if(l&&l.length)l.forEach((function(e){u.push("["+e[0]+'="'+e[1]+'"]')}));else if(c.id&&u.push("#"+c.id),(n=c.className)&&(0,i.HD)(n))for(r=n.split(/\s+/),a=0;a<r.length;a++)u.push("."+r[a]);var h=["type","name","title","alt"];for(a=0;a<h.length;a++)o=h[a],(s=c.getAttribute(o))&&u.push("["+o+'="'+s+'"]');return u.join("")}function a(){var e=(0,r.R)();try{return e.document.location.href}catch(t){return""}}},1923:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});var r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},5907:function(e,t,n){"use strict";n.d(t,{R:function(){return o},Y:function(){return s}});var r=n(4266),i={};function o(){return(0,r.KV)()?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:i}function s(e,t,n){var r=n||o(),i=r.__SENTRY__=r.__SENTRY__||{};return i[e]||(i[e]=t())}},4005:function(e,t,n){"use strict";n.d(t,{o:function(){return g}});var r,i=n(4715),o=n(1923),s=n(5907),a=n(1757),c=n(8536),u=n(1995),l=n(9038),h=n(9798),d=(0,s.R)(),p={},f={};function m(e){if(!f[e])switch(f[e]=!0,e){case"console":!function(){if(!("console"in d))return;c.RU.forEach((function(e){e in d.console&&(0,u.hl)(d.console,e,(function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];v("console",{args:n,level:e}),t&&t.apply(d.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in d))return;var e=v.bind(null,"dom"),t=C(e,!0);d.document.addEventListener("click",t,!1),d.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((function(t){var n=d[t]&&d[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,u.hl)(n,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{var o=this,s=o.__sentry_instrumentation_handlers__=o.__sentry_instrumentation_handlers__||{},a=s[n]=s[n]||{refCount:0};if(!a.handler){var c=C(e);a.handler=c,t.call(this,n,c,i)}a.refCount+=1}catch(u){}return t.call(this,n,r,i)}})),(0,u.hl)(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{var i=this,o=i.__sentry_instrumentation_handlers__||{},s=o[t];s&&(s.refCount-=1,s.refCount<=0&&(e.call(this,t,s.handler,r),s.handler=void 0,delete o[t]),0===Object.keys(o).length&&delete i.__sentry_instrumentation_handlers__)}catch(a){}return e.call(this,t,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in d))return;var e=XMLHttpRequest.prototype;(0,u.hl)(e,"open",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this,i=t[1],o=r.__sentry_xhr__={method:(0,a.HD)(t[0])?t[0].toUpperCase():t[0],url:t[1]};(0,a.HD)(i)&&"POST"===o.method&&i.match(/sentry_key/)&&(r.__sentry_own_request__=!0);var s=function(){if(4===r.readyState){try{o.status_code=r.status}catch(e){}v("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:r})}};return"onreadystatechange"in r&&"function"===typeof r.onreadystatechange?(0,u.hl)(r,"onreadystatechange",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return s(),e.apply(r,t)}})):r.addEventListener("readystatechange",s),e.apply(r,t)}})),(0,u.hl)(e,"send",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.__sentry_xhr__&&void 0!==t[0]&&(this.__sentry_xhr__.body=t[0]),v("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}();break;case"fetch":!function(){if(!(0,h.t$)())return;(0,u.hl)(d,"fetch",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r={args:t,fetchData:{method:y(t),url:_(t)},startTimestamp:Date.now()};return v("fetch",(0,i.pi)({},r)),e.apply(d,t).then((function(e){return v("fetch",(0,i.pi)((0,i.pi)({},r),{endTimestamp:Date.now(),response:e})),e}),(function(e){throw v("fetch",(0,i.pi)((0,i.pi)({},r),{endTimestamp:Date.now(),error:e})),e}))}}))}();break;case"history":!function(){if(!(0,h.Bf)())return;var e=d.onpopstate;function t(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t.length>2?t[2]:void 0;if(i){var o=r,s=String(i);r=s,v("history",{from:o,to:s})}return e.apply(this,t)}}d.onpopstate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=d.location.href,o=r;if(r=i,v("history",{from:o,to:i}),e)try{return e.apply(this,t)}catch(s){}},(0,u.hl)(d.history,"pushState",t),(0,u.hl)(d.history,"replaceState",t)}();break;case"error":E=d.onerror,d.onerror=function(e,t,n,r,i){return v("error",{column:r,error:i,line:n,msg:e,url:t}),!!E&&E.apply(this,arguments)};break;case"unhandledrejection":S=d.onunhandledrejection,d.onunhandledrejection=function(e){return v("unhandledrejection",e),!S||S.apply(this,arguments)};break;default:return void(o.h&&c.kg.warn("unknown instrumentation type:",e))}}function g(e,t){p[e]=p[e]||[],p[e].push(t),m(e)}function v(e,t){var n,r;if(e&&p[e])try{for(var s=(0,i.XA)(p[e]||[]),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t)}catch(h){o.h&&c.kg.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+(0,l.$P)(u)+"\nError:",h)}}}catch(d){n={error:d}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function y(e){return void 0===e&&(e=[]),"Request"in d&&(0,a.V9)(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function _(e){return void 0===e&&(e=[]),"string"===typeof e[0]?e[0]:"Request"in d&&(0,a.V9)(e[0],Request)?e[0].url:String(e[0])}var b,w;function C(e,t){return void 0===t&&(t=!1),function(n){if(n&&w!==n&&!function(e){if("keypress"!==e.type)return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(n){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===b||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(n){}return!1}(w,n))&&(e({event:n,name:r,global:t}),w=n),clearTimeout(b),b=d.setTimeout((function(){b=void 0}),1e3)}}}var E=null;var S=null},1757:function(e,t,n){"use strict";n.d(t,{Cy:function(){return g},HD:function(){return u},J8:function(){return m},Kj:function(){return f},PO:function(){return h},TX:function(){return a},V9:function(){return y},VW:function(){return s},VZ:function(){return i},cO:function(){return d},fm:function(){return c},i2:function(){return v},kK:function(){return p},pt:function(){return l}});var r=Object.prototype.toString;function i(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(e,Error)}}function o(e,t){return r.call(e)==="[object "+t+"]"}function s(e){return o(e,"ErrorEvent")}function a(e){return o(e,"DOMError")}function c(e){return o(e,"DOMException")}function u(e){return o(e,"String")}function l(e){return null===e||"object"!==typeof e&&"function"!==typeof e}function h(e){return o(e,"Object")}function d(e){return"undefined"!==typeof Event&&y(e,Event)}function p(e){return"undefined"!==typeof Element&&y(e,Element)}function f(e){return o(e,"RegExp")}function m(e){return Boolean(e&&e.then&&"function"===typeof e.then)}function g(e){return h(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function v(e){return"number"===typeof e&&e!==e}function y(e,t){try{return e instanceof t}catch(n){return!1}}},8536:function(e,t,n){"use strict";n.d(t,{Cf:function(){return l},RU:function(){return u},kg:function(){return r}});var r,i=n(4715),o=n(1923),s=n(5907),a=(0,s.R)(),c="Sentry Logger ",u=["debug","info","warn","error","log","assert"];function l(e){var t=(0,s.R)();if(!("console"in t))return e();var n=t.console,r={};u.forEach((function(e){var i=n[e]&&n[e].__sentry_original__;e in t.console&&i&&(r[e]=n[e],n[e]=i)}));try{return e()}finally{Object.keys(r).forEach((function(e){n[e]=r[e]}))}}function h(){var e=!1,t={enable:function(){e=!0},disable:function(){e=!1}};return o.h?u.forEach((function(n){t[n]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];e&&l((function(){var e;(e=a.console)[n].apply(e,(0,i.fl)([c+"["+n+"]:"],t))}))}})):u.forEach((function(e){t[e]=function(){}})),t}r=o.h?(0,s.Y)("logger",h):h()},3699:function(e,t,n){"use strict";n.d(t,{DM:function(){return s},Db:function(){return l},EG:function(){return h},YO:function(){return p},en:function(){return a},jH:function(){return u},rt:function(){return d}});var r=n(4715),i=n(5907),o=n(1995);function s(){var e=(0,i.R)(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function a(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function c(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function u(e){var t=e.message,n=e.event_id;if(t)return t;var r=c(e);return r?r.type&&r.value?r.type+": "+r.value:r.type||r.value||n||"<unknown>":n||"<unknown>"}function l(e,t,n){var r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function h(e,t){var n=c(e);if(n){var i=n.mechanism;if(n.mechanism=(0,r.pi)((0,r.pi)((0,r.pi)({},{type:"generic",handled:!0}),i),t),t&&"data"in t){var o=(0,r.pi)((0,r.pi)({},i&&i.data),t.data);n.mechanism.data=o}}}function d(e){return e.split(/[\?#]/,1)[0]}function p(e){if(e&&e.__sentry_captured__)return!0;try{(0,o.xp)(e,"__sentry_captured__",!0)}catch(t){}return!1}},4266:function(e,t,n){"use strict";n.d(t,{l$:function(){return o},KV:function(){return i},$y:function(){return s}}),e=n.hmd(e);var r=n(3542);function i(){return!("undefined"!==typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!==typeof r?r:0)}function o(e,t){return e.require(t)}function s(t){var n;try{n=o(e,t)}catch(i){}try{var r=o(e,"process").cwd;n=o(e,r()+"/node_modules/"+t)}catch(i){}return n}},1995:function(e,t,n){"use strict";n.d(t,{$Q:function(){return u},HK:function(){return l},Jr:function(){return g},Sh:function(){return d},_j:function(){return h},hl:function(){return a},xp:function(){return c},zf:function(){return m}});var r=n(4715),i=n(4194),o=n(1757),s=n(9660);function a(e,t,n){if(t in e){var r=e[t],i=n(r);if("function"===typeof i)try{u(i,r)}catch(o){}e[t]=i}}function c(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function u(e,t){var n=t.prototype||{};e.prototype=t.prototype=n,c(e,"__sentry_original__",t)}function l(e){return e.__sentry_original__}function h(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}function d(e){var t=e;if((0,o.VZ)(e))t=(0,r.pi)({message:e.message,name:e.name,stack:e.stack},f(e));else if((0,o.cO)(e)){var n=e;t=(0,r.pi)({type:n.type,target:p(n.target),currentTarget:p(n.currentTarget)},f(n)),"undefined"!==typeof CustomEvent&&(0,o.V9)(e,CustomEvent)&&(t.detail=n.detail)}return t}function p(e){try{return(0,o.kK)(e)?(0,i.R)(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function f(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function m(e,t){void 0===t&&(t=40);var n=Object.keys(d(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,s.$G)(n[0],t);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:(0,s.$G)(i,t)}return""}function g(e){var t,n;if((0,o.PO)(e)){var i={};try{for(var s=(0,r.XA)(Object.keys(e)),a=s.next();!a.done;a=s.next()){var c=a.value;"undefined"!==typeof e[c]&&(i[c]=g(e[c]))}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return i}return Array.isArray(e)?e.map(g):e}},9038:function(e,t,n){"use strict";n.d(t,{$P:function(){return a},pE:function(){return i}});var r=n(4715);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.sort((function(e,t){return e[0]-t[0]})).map((function(e){return e[1]}));return function(e,t){var i,s,a,c;void 0===t&&(t=0);var u=[];try{for(var l=(0,r.XA)(e.split("\n").slice(t)),h=l.next();!h.done;h=l.next()){var d=h.value;try{for(var p=(a=void 0,(0,r.XA)(n)),f=p.next();!f.done;f=p.next()){var m=(0,f.value)(d);if(m){u.push(m);break}}}catch(g){a={error:g}}finally{try{f&&!f.done&&(c=p.return)&&c.call(p)}finally{if(a)throw a.error}}}}catch(v){i={error:v}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}return o(u)}}function o(e){if(!e.length)return[];var t=e,n=t[0].function||"",i=t[t.length-1].function||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==i.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,50).map((function(e){return(0,r.pi)((0,r.pi)({},e),{filename:e.filename||t[0].filename,function:e.function||"?"})})).reverse()}var s="<anonymous>";function a(e){try{return e&&"function"===typeof e&&e.name||s}catch(t){return s}}},9660:function(e,t,n){"use strict";n.d(t,{$G:function(){return i},nK:function(){return o},zC:function(){return s}});var r=n(1757);function i(e,t){return void 0===t&&(t=0),"string"!==typeof e||0===t||e.length<=t?e:e.substr(0,t)+"..."}function o(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var i=e[r];try{n.push(String(i))}catch(o){n.push("[value cannot be serialized]")}}return n.join(t)}function s(e,t){return!!(0,r.HD)(e)&&((0,r.Kj)(t)?t.test(e):"string"===typeof t&&-1!==e.indexOf(t))}},9798:function(e,t,n){"use strict";n.d(t,{Ak:function(){return s},Bf:function(){return l},Du:function(){return a},hv:function(){return u},t$:function(){return c}});var r=n(1923),i=n(5907),o=n(8536);function s(){if(!("fetch"in(0,i.R)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function a(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function c(){if(!s())return!1;var e=(0,i.R)();if(a(e.fetch))return!0;var t=!1,n=e.document;if(n&&"function"===typeof n.createElement)try{var c=n.createElement("iframe");c.hidden=!0,n.head.appendChild(c),c.contentWindow&&c.contentWindow.fetch&&(t=a(c.contentWindow.fetch)),n.head.removeChild(c)}catch(u){r.h&&o.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",u)}return t}function u(){if(!s())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}function l(){var e=(0,i.R)(),t=e.chrome,n=t&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&r}},7946:function(e,t,n){"use strict";n.d(t,{$2:function(){return o},WD:function(){return i},cW:function(){return s}});var r=n(1757);function i(e){return new s((function(t){t(e)}))}function o(e){return new s((function(t,n){n(e)}))}var s=function(){function e(e){var t=this;this._state=0,this._handlers=[],this._resolve=function(e){t._setResult(1,e)},this._reject=function(e){t._setResult(2,e)},this._setResult=function(e,n){0===t._state&&((0,r.J8)(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._executeHandlers=function(){if(0!==t._state){var e=t._handlers.slice();t._handlers=[],e.forEach((function(e){e[0]||(1===t._state&&e[1](t._value),2===t._state&&e[2](t._value),e[0]=!0)}))}};try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}return e.prototype.then=function(t,n){var r=this;return new e((function(e,i){r._handlers.push([!1,function(n){if(t)try{e(t(n))}catch(r){i(r)}else e(n)},function(t){if(n)try{e(n(t))}catch(r){i(r)}else i(t)}]),r._executeHandlers()}))},e.prototype.catch=function(e){return this.then((function(e){return e}),e)},e.prototype.finally=function(t){var n=this;return new e((function(e,r){var i,o;return n.then((function(e){o=!1,i=e,t&&t()}),(function(e){o=!0,i=e,t&&t()})).then((function(){o?r(i):e(i)}))}))},e}()},7790:function(e,t,n){"use strict";n.d(t,{Z1:function(){return h},_I:function(){return l},ph:function(){return u},yW:function(){return c}});var r=n(5907),i=n(4266);e=n.hmd(e);var o={nowSeconds:function(){return Date.now()/1e3}};var s=(0,i.KV)()?function(){try{return(0,i.l$)(e,"perf_hooks").performance}catch(t){return}}():function(){var e=(0,r.R)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),a=void 0===s?o:{nowSeconds:function(){return(s.timeOrigin+s.now())/1e3}},c=o.nowSeconds.bind(o),u=a.nowSeconds.bind(a),l=u,h=function(){var e=(0,r.R)().performance;if(e&&e.now){var t=36e5,n=e.now(),i=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-i):t,s=o<t,a=e.timing&&e.timing.navigationStart,c="number"===typeof a?Math.abs(a+n-i):t;return s||c<t?o<=c?("timeOrigin",e.timeOrigin):("navigationStart",a):("dateNow",i)}"none"}()},4715:function(e,t,n){"use strict";n.d(t,{CR:function(){return a},XA:function(){return s},ZT:function(){return i},fl:function(){return c},pi:function(){return o}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}},4961:function(e,t,n){("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{}).SENTRY_RELEASE={id:"60dbc15879bd9278033df1b26af992ebf437de33"}},9732:function(e,t,n){"use strict";n.d(t,{Ry:function(){return l}});var r=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},i=new WeakMap,o=new WeakMap,s={},a=0,c=function(e){return e&&(e.host||c(e.parentNode))},u=function(e,t,n,r){var u=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=c(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);s[n]||(s[n]=new WeakMap);var l=s[n],h=[],d=new Set,p=new Set(u),f=function(e){e&&!d.has(e)&&(d.add(e),f(e.parentNode))};u.forEach(f);var m=function(e){e&&!p.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(d.has(e))m(e);else try{var t=e.getAttribute(r),s=null!==t&&"false"!==t,a=(i.get(e)||0)+1,c=(l.get(e)||0)+1;i.set(e,a),l.set(e,c),h.push(e),1===a&&s&&o.set(e,!0),1===c&&e.setAttribute(n,"true"),s||e.setAttribute(r,"true")}catch(u){console.error("aria-hidden: cannot operate on ",e,u)}}))};return m(t),d.clear(),a++,function(){h.forEach((function(e){var t=i.get(e)-1,s=l.get(e)-1;i.set(e,t),l.set(e,s),t||(o.has(e)||e.removeAttribute(r),o.delete(e)),s||e.removeAttribute(n)})),--a||(i=new WeakMap,i=new WeakMap,o=new WeakMap,s={})}},l=function(e,t,n){void 0===n&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),o=t||r(e);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live]"))),u(i,o,n,"aria-hidden")):function(){return null}}},844:function(e){var t=.999,n=/[\\\/\-_+.# \t"@\[\(\{&]/,r=/[\\\/\-_+.# \t"@\[\(\{&]/g;function i(e,o,s,a,c,u){if(u===o.length)return c===e.length?1:.99;for(var l,h,d,p=a.charAt(u),f=s.indexOf(p,c),m=0;f>=0;)(l=i(e,o,s,a,f+1,u+1))>m&&(f===c?l*=1:n.test(e.charAt(f-1))?(l*=.9,(d=e.slice(c,f-1).match(r))&&c>0&&(l*=Math.pow(t,d.length))):n.test(e.slice(c,f-1))?(l*=0,c>0&&(l*=Math.pow(t,f-c))):(l*=.3,c>0&&(l*=Math.pow(t,f-c))),e.charAt(f)!==o.charAt(u)&&(l*=.9999)),l<.1&&s.charAt(f-1)===a.charAt(u+1)&&s.charAt(f-1)!==a.charAt(u)&&.1*(h=i(e,o,s,a,f+1,u+2))>l&&(l=.1*h),l>m&&(m=l),f=s.indexOf(p,f+1);return m}e.exports=function(e,t){return i(e,t,e.toLowerCase(),t.toLowerCase(),0,0)}},343:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1749);Object.keys(r).forEach((function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},8996:function(e,t,n){"use strict";var r;function i(e){const t=null===e||void 0===e?void 0:e.host;return Boolean((null===t||void 0===t?void 0:t.shadowRoot)===e)}function o(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function s(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,a).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t):null}catch(n){return null}var t}function a(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=s(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(n){}else if(function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":"))return function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(e.cssText);return t||e.cssText}n.d(t,{Z:function(){return hr}}),function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(r||(r={}));class c{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){var t;if(!e)return-1;const n=null===(t=this.getMeta(e))||void 0===t?void 0:t.id;return null!==n&&void 0!==n?n:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function u({element:e,maskInputOptions:t,tagName:n,type:r,value:i,maskInputFn:o}){let s=i||"";const a=r&&l(r);return(t[n.toLowerCase()]||a&&t[a])&&(s=o?o(s,e):"*".repeat(s.length)),s}function l(e){return e.toLowerCase()}const h="__rrweb_original__";function d(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?l(t):null}function p(e,t){var n;let r;try{r=new URL(e,null!==t&&void 0!==t?t:window.location.href)}catch(o){return null}const i=r.pathname.match(/\.([0-9a-z]+)(?:$)/i);return null!==(n=null===i||void 0===i?void 0:i[1])&&void 0!==n?n:null}let f=1;const m=new RegExp("[^a-z0-9-_:]");function g(){return f++}let v,y;const _=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,b=/^(?:[a-z+]+:)?\/\//i,w=/^www\..*/i,C=/^(data:)([^,]*),(.*)/i;function E(e,t){return(e||"").replace(_,((e,n,r,i,o,s)=>{const a=r||o||s,c=n||i||"";if(!a)return e;if(b.test(a)||w.test(a))return`url(${c}${a}${c})`;if(C.test(a))return`url(${c}${a}${c})`;if("/"===a[0])return`url(${c}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+a}${c})`;const u=t.split("/"),l=a.split("/");u.pop();for(const t of l)"."!==t&&(".."===t?u.pop():u.push(t));return`url(${c}${u.join("/")}${c})`}))}const S=/^[^ \t\n\r\u000c]+/,T=/^[, \t\n\r\u000c]+/;function I(e,t){if(!t||""===t.trim())return t;const n=e.createElement("a");return n.href=t,n.href}function k(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function x(){const e=document.createElement("a");return e.href="",e.href}function A(e,t,n,r){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?I(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;const i=e.exec(t.substring(n));return i?(r=i[0],n+=r.length,r):""}const i=[];for(;r(T),!(n>=t.length);){let o=r(S);if(","===o.slice(-1))o=I(e,o.substring(0,o.length-1)),i.push(o);else{let r="";o=I(e,o);let s=!1;for(;;){const e=t.charAt(n);if(""===e){i.push((o+r).trim());break}if(s)")"===e&&(s=!1);else{if(","===e){n+=1,i.push((o+r).trim());break}"("===e&&(s=!0)}r+=e,n+=1}}}return i.join(", ")}(e,r):"style"===n?E(r,x()):"object"===t&&"data"===n?I(e,r):r:I(e,r):r}function D(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function R(e,t,n){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return!!n&&R(e.parentNode,t,n);for(let r=e.classList.length;r--;){const n=e.classList[r];if(t.test(n))return!0}return!!n&&R(e.parentNode,t,n)}function M(e,t,n,r){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===i)return!1;if("string"===typeof t){if(r){if(i.closest(`.${t}`))return!0}else if(i.classList.contains(t))return!0}else if(R(i,t,r))return!0;if(n)if(r){if(i.closest(n))return!0}else if(i.matches(n))return!0}catch(i){}return!1}function O(e,t){const{doc:n,mirror:i,blockClass:o,blockSelector:a,needsMask:c,inlineStylesheet:p,maskInputOptions:f={},maskTextFn:g,maskInputFn:_,dataURLOptions:b={},inlineImages:w,recordCanvas:C,keepIframeSrcFn:S,newlyAddedElement:T=!1}=t,I=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,i);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:r.Document,childNodes:[],compatMode:e.compatMode}:{type:r.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:r.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:I};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:i,blockSelector:o,inlineStylesheet:a,maskInputOptions:c={},maskInputFn:p,dataURLOptions:f={},inlineImages:g,recordCanvas:_,keepIframeSrcFn:b,newlyAddedElement:w=!1,rootId:C}=t,S=function(e,t,n){try{if("string"===typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(r){}return!1}(e,i,o),T=function(e){if(e instanceof HTMLFormElement)return"form";const t=l(e.tagName);return m.test(t)?"div":t}(e);let I={};const R=e.attributes.length;for(let r=0;r<R;r++){const t=e.attributes[r];D(T,t.name,t.value)||(I[t.name]=A(n,T,l(t.name),t.value))}if("link"===T&&a){const t=Array.from(n.styleSheets).find((t=>t.href===e.href));let r=null;t&&(r=s(t)),r&&(delete I.rel,delete I.href,I._cssText=E(r,t.href))}if("style"===T&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=s(e.sheet);t&&(I._cssText=E(t,x()))}if("input"===T||"textarea"===T||"select"===T){const t=e.value,n=e.checked;"radio"!==I.type&&"checkbox"!==I.type&&"submit"!==I.type&&"button"!==I.type&&t?I.value=u({element:e,type:d(e),tagName:T,value:t,maskInputOptions:c,maskInputFn:p}):n&&(I.checked=n)}"option"===T&&(e.selected&&!c.select?I.selected=!0:delete I.selected);if("canvas"===T&&_)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){const i=t.getImageData,o=h in i?i.__rrweb_original__:i;if(new Uint32Array(o.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(I.rr_dataURL=e.toDataURL(f.type,f.quality));else if(!("__context"in e)){const t=e.toDataURL(f.type,f.quality),n=document.createElement("canvas");n.width=e.width,n.height=e.height;t!==n.toDataURL(f.type,f.quality)&&(I.rr_dataURL=t)}if("img"===T&&g){v||(v=n.createElement("canvas"),y=v.getContext("2d"));const t=e,r=t.crossOrigin;t.crossOrigin="anonymous";const i=()=>{t.removeEventListener("load",i);try{v.width=t.naturalWidth,v.height=t.naturalHeight,y.drawImage(t,0,0),I.rr_dataURL=v.toDataURL(f.type,f.quality)}catch(e){console.warn(`Cannot inline img src=${t.currentSrc}! Error: ${e}`)}r?I.crossOrigin=r:t.removeAttribute("crossorigin")};t.complete&&0!==t.naturalWidth?i():t.addEventListener("load",i)}if("audio"===T||"video"===T){const t=I;t.rr_mediaState=e.paused?"paused":"played",t.rr_mediaCurrentTime=e.currentTime,t.rr_mediaPlaybackRate=e.playbackRate,t.rr_mediaMuted=e.muted,t.rr_mediaLoop=e.loop,t.rr_mediaVolume=e.volume}w||(e.scrollLeft&&(I.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(I.rr_scrollTop=e.scrollTop));if(S){const{width:t,height:n}=e.getBoundingClientRect();I={class:I.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"!==T||b(I.src)||(e.contentDocument||(I.rr_src=I.src),delete I.src);let M;try{customElements.get(T)&&(M=!0)}catch(O){}return{type:r.Element,tagName:T,attributes:I,childNodes:[],isSVG:k(e)||void 0,needBlock:S,rootId:C,isCustom:M}}(e,{doc:n,blockClass:o,blockSelector:a,inlineStylesheet:p,maskInputOptions:f,maskInputFn:_,dataURLOptions:b,inlineImages:w,recordCanvas:C,keepIframeSrcFn:S,newlyAddedElement:T,rootId:I});case e.TEXT_NODE:return function(e,t){var n;const{needsMask:i,maskTextFn:o,rootId:a}=t,c=e.parentNode&&e.parentNode.tagName;let u=e.textContent;const l="STYLE"===c||void 0,h="SCRIPT"===c||void 0;if(l&&u){try{e.nextSibling||e.previousSibling||(null===(n=e.parentNode.sheet)||void 0===n?void 0:n.cssRules)&&(u=s(e.parentNode.sheet))}catch(d){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${d}`,e)}u=E(u,x())}h&&(u="SCRIPT_PLACEHOLDER");!l&&!h&&u&&i&&(u=o?o(u,e.parentElement):u.replace(/[\S]/g,"*"));return{type:r.Text,textContent:u||"",isStyle:l,rootId:a}}(e,{needsMask:c,maskTextFn:g,rootId:I});case e.CDATA_SECTION_NODE:return{type:r.CDATA,textContent:"",rootId:I};case e.COMMENT_NODE:return{type:r.Comment,textContent:e.textContent||"",rootId:I};default:return!1}}function L(e){return void 0===e||null===e?"":e.toLowerCase()}function N(e,t){const{doc:n,mirror:s,blockClass:a,blockSelector:c,maskTextClass:u,maskTextSelector:l,skipChild:h=!1,inlineStylesheet:d=!0,maskInputOptions:f={},maskTextFn:m,maskInputFn:v,slimDOMOptions:y,dataURLOptions:_={},inlineImages:b=!1,recordCanvas:w=!1,onSerialize:C,onIframeLoad:E,iframeLoadTimeout:S=5e3,onStylesheetLoad:T,stylesheetLoadTimeout:I=5e3,keepIframeSrcFn:k=(()=>!1),newlyAddedElement:x=!1}=t;let{needsMask:A}=t,{preserveWhiteSpace:D=!0}=t;if(!A&&e.childNodes){A=M(e,u,l,void 0===A)}const R=O(e,{doc:n,mirror:s,blockClass:a,blockSelector:c,needsMask:A,inlineStylesheet:d,maskInputOptions:f,maskTextFn:m,maskInputFn:v,dataURLOptions:_,inlineImages:b,recordCanvas:w,keepIframeSrcFn:k,newlyAddedElement:x});if(!R)return console.warn(e,"not serialized"),null;let P;P=s.hasNode(e)?s.getId(e):!function(e,t){if(t.comment&&e.type===r.Comment)return!0;if(e.type===r.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"===typeof e.attributes.href&&"js"===p(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(L(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===L(e.attributes.name)||"icon"===L(e.attributes.rel)||"apple-touch-icon"===L(e.attributes.rel)||"shortcut icon"===L(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&L(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(L(e.attributes.property).match(/^(og|twitter|fb):/)||L(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===L(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===L(e.attributes.name)||"googlebot"===L(e.attributes.name)||"bingbot"===L(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===L(e.attributes.name)||"generator"===L(e.attributes.name)||"framework"===L(e.attributes.name)||"publisher"===L(e.attributes.name)||"progid"===L(e.attributes.name)||L(e.attributes.property).match(/^article:/)||L(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===L(e.attributes.name)||"yandex-verification"===L(e.attributes.name)||"csrf-token"===L(e.attributes.name)||"p:domain_verify"===L(e.attributes.name)||"verify-v1"===L(e.attributes.name)||"verification"===L(e.attributes.name)||"shopify-checkout-api-token"===L(e.attributes.name)))return!0}}return!1}(R,y)&&(D||R.type!==r.Text||R.isStyle||R.textContent.replace(/^\s+|\s+$/gm,"").length)?g():-2;const F=Object.assign(R,{id:P});if(s.add(e,F),-2===P)return null;C&&C(e);let j=!h;if(F.type===r.Element){j=j&&!F.needBlock,delete F.needBlock;const t=e.shadowRoot;t&&o(t)&&(F.isShadowHost=!0)}if((F.type===r.Document||F.type===r.Element)&&j){y.headWhitespace&&F.type===r.Element&&"head"===F.tagName&&(D=!1);const t={doc:n,mirror:s,blockClass:a,blockSelector:c,needsMask:A,maskTextClass:u,maskTextSelector:l,skipChild:h,inlineStylesheet:d,maskInputOptions:f,maskTextFn:m,maskInputFn:v,slimDOMOptions:y,dataURLOptions:_,inlineImages:b,recordCanvas:w,preserveWhiteSpace:D,onSerialize:C,onIframeLoad:E,iframeLoadTimeout:S,onStylesheetLoad:T,stylesheetLoadTimeout:I,keepIframeSrcFn:k};if(F.type===r.Element&&"textarea"===F.tagName&&void 0!==F.attributes.value);else for(const n of Array.from(e.childNodes)){const e=N(n,t);e&&F.childNodes.push(e)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const r=N(n,t);r&&(o(e.shadowRoot)&&(r.isShadow=!0),F.childNodes.push(r))}}return e.parentNode&&i(e.parentNode)&&o(e.parentNode)&&(F.isShadow=!0),F.type===r.Element&&"iframe"===F.tagName&&function(e,t,n){const r=e.contentWindow;if(!r)return;let i,o=!1;try{i=r.document.readyState}catch(a){return}if("complete"!==i){const r=setTimeout((()=>{o||(t(),o=!0)}),n);return void e.addEventListener("load",(()=>{clearTimeout(r),o=!0,t()}))}const s="about:blank";if(r.location.href!==s||e.src===s||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,(()=>{const t=e.contentDocument;if(t&&E){const n=N(t,{doc:t,mirror:s,blockClass:a,blockSelector:c,needsMask:A,maskTextClass:u,maskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:f,maskTextFn:m,maskInputFn:v,slimDOMOptions:y,dataURLOptions:_,inlineImages:b,recordCanvas:w,preserveWhiteSpace:D,onSerialize:C,onIframeLoad:E,iframeLoadTimeout:S,onStylesheetLoad:T,stylesheetLoadTimeout:I,keepIframeSrcFn:k});n&&E(e,n)}}),S),F.type===r.Element&&"link"===F.tagName&&"string"===typeof F.attributes.rel&&("stylesheet"===F.attributes.rel||"preload"===F.attributes.rel&&"string"===typeof F.attributes.href&&"css"===p(F.attributes.href))&&function(e,t,n){let r,i=!1;try{r=e.sheet}catch(s){return}if(r)return;const o=setTimeout((()=>{i||(t(),i=!0)}),n);e.addEventListener("load",(()=>{clearTimeout(o),i=!0,t()}))}(e,(()=>{if(T){const t=N(e,{doc:n,mirror:s,blockClass:a,blockSelector:c,needsMask:A,maskTextClass:u,maskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:f,maskTextFn:m,maskInputFn:v,slimDOMOptions:y,dataURLOptions:_,inlineImages:b,recordCanvas:w,preserveWhiteSpace:D,onSerialize:C,onIframeLoad:E,iframeLoadTimeout:S,onStylesheetLoad:T,stylesheetLoadTimeout:I,keepIframeSrcFn:k});t&&T(e,t)}}),I),F}function P(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const F="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let j={map:{},getId:()=>(console.error(F),-1),getNode:()=>(console.error(F),null),removeNodeFromMap(){console.error(F)},has:()=>(console.error(F),!1),reset(){console.error(F)}};function B(e,t,n={}){let r=null,i=0;return function(...o){const s=Date.now();i||!1!==n.leading||(i=s);const a=t-(s-i),c=this;a<=0||a>t?(r&&(clearTimeout(r),r=null),i=s,e.apply(c,o)):r||!1===n.trailing||(r=setTimeout((()=>{i=!1===n.leading?0:Date.now(),r=null,e.apply(c,o)}),a))}}function U(e,t,n,r,i=window){const o=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(e){setTimeout((()=>{n.set.call(this,e)}),0),o&&o.set&&o.set.call(this,e)}}),()=>U(e,t,o||{},!0)}function V(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return"function"===typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch(r){return()=>{}}}"undefined"!==typeof window&&window.Proxy&&window.Reflect&&(j=new Proxy(j,{get:(e,t,n)=>("map"===t&&console.error(F),Reflect.get(e,t,n))}));let H=Date.now;function q(e){var t,n,r,i,o,s;const a=e.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:(null===a||void 0===a?void 0:a.documentElement.scrollLeft)||(null===(n=null===(t=null===a||void 0===a?void 0:a.body)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.scrollLeft)||(null===(r=null===a||void 0===a?void 0:a.body)||void 0===r?void 0:r.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null===a||void 0===a?void 0:a.documentElement.scrollTop)||(null===(o=null===(i=null===a||void 0===a?void 0:a.body)||void 0===i?void 0:i.parentElement)||void 0===o?void 0:o.scrollTop)||(null===(s=null===a||void 0===a?void 0:a.body)||void 0===s?void 0:s.scrollTop)||0}}function z(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function $(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function W(e){if(!e)return null;return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}function G(e,t,n,r){if(!e)return!1;const i=W(e);if(!i)return!1;try{if("string"===typeof t){if(i.classList.contains(t))return!0;if(r&&null!==i.closest("."+t))return!0}else if(R(i,t,r))return!0}catch(o){}if(n){if(i.matches(n))return!0;if(r&&null!==i.closest(n))return!0}return!1}function Z(e,t){return-2===t.getId(e)}function K(e,t){if(i(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||K(e.parentNode,t))}function J(e){return Boolean(e.changedTouches)}function X(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function Y(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function Q(e){return Boolean(null===e||void 0===e?void 0:e.shadowRoot)}/[1-9][0-9]{12}/.test(Date.now().toString())||(H=()=>(new Date).getTime());class ee{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){var t;return null!==(t=this.styleIDMap.get(e))&&void 0!==t?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function te(e){var t,n;let r=null;return(null===(n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||void 0===n?void 0:n.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(r=e.getRootNode().host),r}function ne(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=te(n);)n=t;return n}(e);return t.contains(n)}function re(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||ne(e))}var ie=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(ie||{}),oe=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(oe||{}),se=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(se||{}),ae=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(ae||{}),ce=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(ce||{});function ue(e){return"__ln"in e}class le{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=(null===t||void 0===t?void 0:t.next)||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&ue(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&ue(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const he=(e,t)=>`${e}@${t}`;class de{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new le,r=e=>{let t=e,n=-2;for(;-2===n;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},o=o=>{if(!o.parentNode||!re(o)||"TEXTAREA"===o.parentNode.tagName)return;const s=i(o.parentNode)?this.mirror.getId(te(o)):this.mirror.getId(o.parentNode),a=r(o);if(-1===s||-1===a)return n.addNode(o);const c=N(o,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{X(e,this.mirror)&&this.iframeManager.addIframe(e),Y(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),Q(o)&&this.shadowDomManager.addShadowRoot(o.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});c&&(e.push({parentId:s,nextId:a,node:c}),t.add(c.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const i of this.movedSet)fe(this.removes,i,this.mirror)&&!this.movedSet.has(i.parentNode)||o(i);for(const i of this.addedSet)ge(this.droppedSet,i)||fe(this.removes,i,this.mirror)?ge(this.movedSet,i)?o(i):this.droppedSet.add(i):o(i);let s=null;for(;n.length;){let e=null;if(s){const t=this.mirror.getId(s.value.parentNode),n=r(s.value);-1!==t&&-1!==n&&(e=s)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}s=e.previous,n.removeNode(e.value),o(e.value)}const a={texts:this.texts.map((e=>{const t=e.node;return t.parentNode&&"TEXTAREA"===t.parentNode.tagName&&this.genTextAreaValueMutation(t.parentNode),{id:this.mirror.getId(t),value:e.value}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if("string"===typeof t.style){const n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(a.texts.length||a.attributes.length||a.removes.length||a.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.genTextAreaValueMutation=e=>{let t=this.attributeMap.get(e);t||(t={node:e,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(t),this.attributeMap.set(e,t)),t.attributes.value=Array.from(e.childNodes,(e=>e.textContent||"")).join("")},this.processMutation=e=>{if(!Z(e.target,this.mirror))switch(e.type){case"characterData":{const t=e.target.textContent;G(e.target,this.blockClass,this.blockSelector,!1)||t===e.oldValue||this.texts.push({value:M(e.target,this.maskTextClass,this.maskTextSelector,!0)&&t?this.maskTextFn?this.maskTextFn(t,W(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const n=e.target;let r=e.attributeName,i=e.target.getAttribute(r);if("value"===r){const e=d(n);i=u({element:n,maskInputOptions:this.maskInputOptions,tagName:n.tagName,type:e,value:i,maskInputFn:this.maskInputFn})}if(G(e.target,this.blockClass,this.blockSelector,!1)||i===e.oldValue)return;let o=this.attributeMap.get(e.target);if("IFRAME"===n.tagName&&"src"===r&&!this.keepIframeSrcFn(i)){if(n.contentDocument)return;r="rr_src"}if(o||(o={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(e.target,o)),"type"===r&&"INPUT"===n.tagName&&"password"===(e.oldValue||"").toLowerCase()&&n.setAttribute("data-rr-is-password","true"),!D(n.tagName,r)&&(o.attributes[r]=A(this.doc,l(n.tagName),l(r),i),"style"===r)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(t){this.unattachedDoc=this.doc}const r=this.unattachedDoc.createElement("span");e.oldValue&&r.setAttribute("style",e.oldValue);for(const e of Array.from(n.style)){const t=n.style.getPropertyValue(e),i=n.style.getPropertyPriority(e);t!==r.style.getPropertyValue(e)||i!==r.style.getPropertyPriority(e)?o.styleDiff[e]=""===i?t:[t,i]:o._unchangedStyles[e]=[t,i]}for(const e of Array.from(r.style))""===n.style.getPropertyValue(e)&&(o.styleDiff[e]=!1)}break}case"childList":if(G(e.target,this.blockClass,this.blockSelector,!0))return;if("TEXTAREA"===e.target.tagName)return void this.genTextAreaValueMutation(e.target);e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const n=this.mirror.getId(t),r=i(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);G(e.target,this.blockClass,this.blockSelector,!1)||Z(t,this.mirror)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(pe(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||K(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[he(n,r)]?pe(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!i(e.target)||!o(e.target))||void 0})),this.mapRemoves.push(t))}))}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(Z(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[he(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);G(e,this.blockClass,this.blockSelector,!1)||(e.childNodes.forEach((e=>this.genAdds(e))),Q(e)&&e.shadowRoot.childNodes.forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}}init(e){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function pe(e,t){e.delete(t),t.childNodes.forEach((t=>pe(e,t)))}function fe(e,t,n){return 0!==e.length&&me(e,t,n)}function me(e,t,n){const{parentNode:r}=t;if(!r)return!1;const i=n.getId(r);return!!e.some((e=>e.id===i))||me(e,r,n)}function ge(e,t){return 0!==e.size&&ve(e,t)}function ve(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||ve(e,n))}let ye;function _e(e){ye=e}function be(){ye=void 0}const we=e=>{if(!ye)return e;return(...t)=>{try{return e(...t)}catch(n){if(ye&&!0===ye(n))return;throw n}}},Ce=[];function Ee(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(t){}return e&&e.target}function Se(e,t){var n,r;const i=new de;Ce.push(i),i.init(e);let o=window.MutationObserver||window.__rrMutationObserver;const s=null===(r=null===(n=null===window||void 0===window?void 0:window.Zone)||void 0===n?void 0:n.__symbol__)||void 0===r?void 0:r.call(n,"MutationObserver");s&&window[s]&&(o=window[s]);const a=new o(we(i.processMutations.bind(i)));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function Te({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,sampling:o}){if(!1===o.mouseInteraction)return()=>{};const s=!0===o.mouseInteraction||void 0===o.mouseInteraction?{}:o.mouseInteraction,a=[];let c=null;return Object.keys(se).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==s[e])).forEach((o=>{let s=l(o);const u=(t=>o=>{const s=Ee(o);if(G(s,r,i,!0))return;let a=null,u=t;if("pointerType"in o){switch(o.pointerType){case"mouse":a=ae.Mouse;break;case"touch":a=ae.Touch;break;case"pen":a=ae.Pen}a===ae.Touch?se[t]===se.MouseDown?u="TouchStart":se[t]===se.MouseUp&&(u="TouchEnd"):ae.Pen}else J(o)&&(a=ae.Touch);null!==a?(c=a,(u.startsWith("Touch")&&a===ae.Touch||u.startsWith("Mouse")&&a===ae.Mouse)&&(a=null)):se[t]===se.Click&&(a=c,c=null);const l=J(o)?o.changedTouches[0]:o;if(!l)return;const h=n.getId(s),{clientX:d,clientY:p}=l;we(e)(Object.assign({type:se[u],id:h,x:d,y:p},null!==a&&{pointerType:a}))})(o);if(window.PointerEvent)switch(se[o]){case se.MouseDown:case se.MouseUp:s=s.replace("mouse","pointer");break;case se.TouchStart:case se.TouchEnd:return}a.push(P(s,u,t))})),we((()=>{a.forEach((e=>e()))}))}function Ie({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,sampling:o}){return P("scroll",we(B(we((o=>{const s=Ee(o);if(!s||G(s,r,i,!0))return;const a=n.getId(s);if(s===t&&t.defaultView){const n=q(t.defaultView);e({id:a,x:n.left,y:n.top})}else e({id:a,x:s.scrollLeft,y:s.scrollTop})})),o.scroll||100)),t)}const ke=["INPUT","TEXTAREA","SELECT"],xe=new WeakMap;function Ae(e){return function(e,t){if(Oe("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||Oe("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||Oe("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||Oe("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function De(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function Re({mirror:e,stylesheetManager:t},n){var r,i,o;let s=null;s="#document"===n.nodeName?e.getId(n):e.getId(n.host);const a="#document"===n.nodeName?null===(r=n.defaultView)||void 0===r?void 0:r.Document:null===(o=null===(i=n.ownerDocument)||void 0===i?void 0:i.defaultView)||void 0===o?void 0:o.ShadowRoot,c=(null===a||void 0===a?void 0:a.prototype)?Object.getOwnPropertyDescriptor(null===a||void 0===a?void 0:a.prototype,"adoptedStyleSheets"):void 0;return null!==s&&-1!==s&&a&&c?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get(){var e;return null===(e=c.get)||void 0===e?void 0:e.call(this)},set(e){var n;const r=null===(n=c.set)||void 0===n?void 0:n.call(this,e);if(null!==s&&-1!==s)try{t.adoptStyleSheets(e,s)}catch(i){}return r}}),we((()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get:c.get,set:c.set})}))):()=>{}}function Me(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;!function(e,t){const{mutationCb:n,mousemoveCb:r,mouseInteractionCb:i,scrollCb:o,viewportResizeCb:s,inputCb:a,mediaInteractionCb:c,styleSheetRuleCb:u,styleDeclarationCb:l,canvasMutationCb:h,fontCb:d,selectionCb:p,customElementCb:f}=e;e.mutationCb=(...e)=>{t.mutation&&t.mutation(...e),n(...e)},e.mousemoveCb=(...e)=>{t.mousemove&&t.mousemove(...e),r(...e)},e.mouseInteractionCb=(...e)=>{t.mouseInteraction&&t.mouseInteraction(...e),i(...e)},e.scrollCb=(...e)=>{t.scroll&&t.scroll(...e),o(...e)},e.viewportResizeCb=(...e)=>{t.viewportResize&&t.viewportResize(...e),s(...e)},e.inputCb=(...e)=>{t.input&&t.input(...e),a(...e)},e.mediaInteractionCb=(...e)=>{t.mediaInteaction&&t.mediaInteaction(...e),c(...e)},e.styleSheetRuleCb=(...e)=>{t.styleSheetRule&&t.styleSheetRule(...e),u(...e)},e.styleDeclarationCb=(...e)=>{t.styleDeclaration&&t.styleDeclaration(...e),l(...e)},e.canvasMutationCb=(...e)=>{t.canvasMutation&&t.canvasMutation(...e),h(...e)},e.fontCb=(...e)=>{t.font&&t.font(...e),d(...e)},e.selectionCb=(...e)=>{t.selection&&t.selection(...e),p(...e)},e.customElementCb=(...e)=>{t.customElement&&t.customElement(...e),f(...e)}}(e,t),e.recordDOM&&(r=Se(e,e.doc));const i=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(!1===t.mousemove)return()=>{};const i="number"===typeof t.mousemove?t.mousemove:50,o="number"===typeof t.mousemoveCallback?t.mousemoveCallback:500;let s,a=[];const c=B(we((t=>{const n=Date.now()-s;e(a.map((e=>(e.timeOffset-=n,e))),t),a=[],s=null})),o),u=we(B(we((e=>{const t=Ee(e),{clientX:n,clientY:i}=J(e)?e.changedTouches[0]:e;s||(s=H()),a.push({x:n,y:i,id:r.getId(t),timeOffset:H()-s}),c("undefined"!==typeof DragEvent&&e instanceof DragEvent?oe.Drag:e instanceof MouseEvent?oe.MouseMove:oe.TouchMove)})),i,{trailing:!1})),l=[P("mousemove",u,n),P("touchmove",u,n),P("drag",u,n)];return we((()=>{l.forEach((e=>e()))}))}(e),o=Te(e),s=Ie(e),a=function({viewportResizeCb:e},{win:t}){let n=-1,r=-1;return P("resize",we(B(we((()=>{const t=z(),i=$();n===t&&r===i||(e({width:Number(i),height:Number(t)}),n=t,r=i)})),200)),t)}(e,{win:n}),c=function({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,ignoreClass:o,ignoreSelector:s,maskInputOptions:a,maskInputFn:c,sampling:l,userTriggeredOnInput:h}){function p(e){let n=Ee(e);const l=e.isTrusted,p=n&&n.tagName;if(n&&"OPTION"===p&&(n=n.parentElement),!n||!p||ke.indexOf(p)<0||G(n,r,i,!0))return;if(n.classList.contains(o)||s&&n.matches(s))return;let m=n.value,g=!1;const v=d(n)||"";"radio"===v||"checkbox"===v?g=n.checked:(a[p.toLowerCase()]||a[v])&&(m=u({element:n,maskInputOptions:a,tagName:p,type:v,value:m,maskInputFn:c})),f(n,h?{text:m,isChecked:g,userTriggered:l}:{text:m,isChecked:g});const y=n.name;"radio"===v&&y&&g&&t.querySelectorAll(`input[type="radio"][name="${y}"]`).forEach((e=>{if(e!==n){const t=e.value;f(e,h?{text:t,isChecked:!g,userTriggered:!1}:{text:t,isChecked:!g})}}))}function f(t,r){const i=xe.get(t);if(!i||i.text!==r.text||i.isChecked!==r.isChecked){xe.set(t,r);const i=n.getId(t);we(e)(Object.assign(Object.assign({},r),{id:i}))}}const m=("last"===l.input?["change"]:["input","change"]).map((e=>P(e,we(p),t))),g=t.defaultView;if(!g)return()=>{m.forEach((e=>e()))};const v=g.Object.getOwnPropertyDescriptor(g.HTMLInputElement.prototype,"value"),y=[[g.HTMLInputElement.prototype,"value"],[g.HTMLInputElement.prototype,"checked"],[g.HTMLSelectElement.prototype,"value"],[g.HTMLTextAreaElement.prototype,"value"],[g.HTMLSelectElement.prototype,"selectedIndex"],[g.HTMLOptionElement.prototype,"selected"]];return v&&v.set&&m.push(...y.map((e=>U(e[0],e[1],{set(){we(p)({target:this,isTrusted:!1})}},!1,g)))),we((()=>{m.forEach((e=>e()))}))}(e),l=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,mirror:r,sampling:i,doc:o}){const s=we((o=>B(we((i=>{const s=Ee(i);if(!s||G(s,t,n,!0))return;const{currentTime:a,volume:c,muted:u,playbackRate:l,loop:h}=s;e({type:o,id:r.getId(s),currentTime:a,volume:c,muted:u,playbackRate:l,loop:h})})),i.media||500))),a=[P("play",s(0),o),P("pause",s(1),o),P("seeked",s(2),o),P("volumechange",s(3),o),P("ratechange",s(4),o)];return we((()=>{a.forEach((e=>e()))}))}(e);let h=()=>{},p=()=>{},f=()=>{},m=()=>{};e.recordDOM&&(h=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:we(((r,i,o)=>{const[s,a]=o,{id:c,styleId:u}=De(i,t,n.styleMirror);return(c&&-1!==c||u&&-1!==u)&&e({id:c,styleId:u,adds:[{rule:s,index:a}]}),r.apply(i,o)}))});const o=r.CSSStyleSheet.prototype.deleteRule;let s,a;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:we(((r,i,o)=>{const[s]=o,{id:a,styleId:c}=De(i,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,removes:[{index:s}]}),r.apply(i,o)}))}),r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:we(((r,i,o)=>{const[s]=o,{id:a,styleId:c}=De(i,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,replace:s}),r.apply(i,o)}))})),r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:we(((r,i,o)=>{const[s]=o,{id:a,styleId:c}=De(i,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,replaceSync:s}),r.apply(i,o)}))}));const c={};Le("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Le("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Le("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Le("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach((([r,i])=>{u[r]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(u[r].insertRule,{apply:we(((r,i,o)=>{const[s,a]=o,{id:c,styleId:u}=De(i.parentStyleSheet,t,n.styleMirror);return(c&&-1!==c||u&&-1!==u)&&e({id:c,styleId:u,adds:[{rule:s,index:[...Ae(i),a||0]}]}),r.apply(i,o)}))}),i.prototype.deleteRule=new Proxy(u[r].deleteRule,{apply:we(((r,i,o)=>{const[s]=o,{id:a,styleId:c}=De(i.parentStyleSheet,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,removes:[{index:[...Ae(i),s]}]}),r.apply(i,o)}))})})),we((()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=o,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach((([e,t])=>{t.prototype.insertRule=u[e].insertRule,t.prototype.deleteRule=u[e].deleteRule}))}))}(e,{win:n}),p=Re(e,e.doc),f=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const o=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:we(((i,s,a)=>{var c;const[u,l,h]=a;if(n.has(u))return o.apply(s,[u,l,h]);const{id:d,styleId:p}=De(null===(c=s.parentRule)||void 0===c?void 0:c.parentStyleSheet,t,r.styleMirror);return(d&&-1!==d||p&&-1!==p)&&e({id:d,styleId:p,set:{property:u,value:l,priority:h},index:Ae(s.parentRule)}),i.apply(s,a)}))});const s=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:we(((i,o,a)=>{var c;const[u]=a;if(n.has(u))return s.apply(o,[u]);const{id:l,styleId:h}=De(null===(c=o.parentRule)||void 0===c?void 0:c.parentStyleSheet,t,r.styleMirror);return(l&&-1!==l||h&&-1!==h)&&e({id:l,styleId:h,remove:{property:u},index:Ae(o.parentRule)}),i.apply(o,a)}))}),we((()=>{i.CSSStyleDeclaration.prototype.setProperty=o,i.CSSStyleDeclaration.prototype.removeProperty=s}))}(e,{win:n}),e.collectFonts&&(m=function({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,o=n.FontFace;n.FontFace=function(e,t,n){const r=new o(e,t,n);return i.set(r,{family:e,buffer:"string"!==typeof t,descriptors:n,fontSource:"string"===typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};const s=V(t.fonts,"add",(function(t){return function(n){return setTimeout(we((()=>{const t=i.get(n);t&&(e(t),i.delete(n))})),0),t.apply(this,[n])}}));return r.push((()=>{n.FontFace=o})),r.push(s),we((()=>{r.forEach((e=>e()))}))}(e)));const g=function(e){const{doc:t,mirror:n,blockClass:r,blockSelector:i,selectionCb:o}=e;let s=!0;const a=we((()=>{const e=t.getSelection();if(!e||s&&(null===e||void 0===e?void 0:e.isCollapsed))return;s=e.isCollapsed||!1;const a=[],c=e.rangeCount||0;for(let t=0;t<c;t++){const o=e.getRangeAt(t),{startContainer:s,startOffset:c,endContainer:u,endOffset:l}=o;G(s,r,i,!0)||G(u,r,i,!0)||a.push({start:n.getId(s),startOffset:c,end:n.getId(u),endOffset:l})}o({ranges:a})}));return a(),P("selectionchange",a)}(e),v=function({doc:e,customElementCb:t}){const n=e.defaultView;return n&&n.customElements?V(n.customElements,"define",(function(e){return function(n,r,i){try{t({define:{name:n}})}catch(o){console.warn(`Custom element callback failed for ${n}`)}return e.apply(this,[n,r,i])}})):()=>{}}(e),y=[];for(const u of e.plugins)y.push(u.observer(u.callback,n,u.options));return we((()=>{Ce.forEach((e=>e.reset())),null===r||void 0===r||r.disconnect(),i(),o(),s(),a(),c(),l(),h(),p(),f(),m(),g(),v(),y.forEach((e=>e()))}))}function Oe(e){return"undefined"!==typeof window[e]}function Le(e){return Boolean("undefined"!==typeof window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Ne{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){const i=n||this.getIdToRemoteIdMap(e),o=r||this.getRemoteIdToIdMap(e);let s=i.get(t);return s||(s=this.generateIdFn(),i.set(t,s),o.set(s,t)),s}getIds(e,t){const n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,n,r)))}getRemoteId(e,t,n){const r=n||this.getRemoteIdToIdMap(e);if("number"!==typeof t)return t;const i=r.get(t);return i||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,n)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class Pe{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Ne(g),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Ne(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var n;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null===(n=this.loadListener)||void 0===n||n.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){var n;switch(t.type){case ie.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:ie.IncrementalSnapshot,data:{source:oe.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case ie.Meta:case ie.Load:case ie.DomContentLoaded:return!1;case ie.Plugin:return t;case ie.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case ie.IncrementalSnapshot:switch(t.data.source){case oe.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case oe.Drag:case oe.TouchMove:case oe.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case oe.ViewportResize:return!1;case oe.MediaInteraction:case oe.MouseInteraction:case oe.Scroll:case oe.CanvasMutation:case oe.Input:return this.replaceIds(t.data,e,["id"]),t;case oe.StyleSheetRule:case oe.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case oe.Font:return t;case oe.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case oe.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),null===(n=t.data.styles)||void 0===n||n.forEach((t=>{this.replaceStyleIds(t,e,["styleId"])})),t}}return!1}replace(e,t,n,r){for(const i of r)(Array.isArray(t[i])||"number"===typeof t[i])&&(Array.isArray(t[i])?t[i]=e.getIds(n,t[i]):t[i]=e.getId(n,t[i]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===r.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class Fe{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!o(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e);const n=Se(Object.assign(Object.assign({},this.bypassOptions),{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(Ie(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),setTimeout((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(Re({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(V(e.prototype,"attachShadow",(function(e){return function(r){const i=e.call(this,r);return this.shadowRoot&&re(this)&&n.addShadowRoot(this.shadowRoot,t),i}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(t){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}function je(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}for(var Be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ue="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Ve=0;Ve<Be.length;Ve++)Ue[Be.charCodeAt(Ve)]=Ve;const He=new Map;const qe=(e,t,n)=>{if(!e||!We(e,t)&&"object"!==typeof e)return;const r=function(e,t){let n=He.get(e);return n||(n=new Map,He.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}(n,e.constructor.name);let i=r.indexOf(e);return-1===i&&(i=r.length,r.push(e)),i};function ze(e,t,n){if(e instanceof Array)return e.map((e=>ze(e,t,n)));if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray){return{rr_type:e.constructor.name,args:[Object.values(e)]}}if(e instanceof ArrayBuffer){const t=e.constructor.name,n=function(e){var t,n=new Uint8Array(e),r=n.length,i="";for(t=0;t<r;t+=3)i+=Be[n[t]>>2],i+=Be[(3&n[t])<<4|n[t+1]>>4],i+=Be[(15&n[t+1])<<2|n[t+2]>>6],i+=Be[63&n[t+2]];return r%3===2?i=i.substring(0,i.length-1)+"=":r%3===1&&(i=i.substring(0,i.length-2)+"=="),i}(e);return{rr_type:t,base64:n}}if(e instanceof DataView){return{rr_type:e.constructor.name,args:[ze(e.buffer,t,n),e.byteOffset,e.byteLength]}}if(e instanceof HTMLImageElement){const t=e.constructor.name,{src:n}=e;return{rr_type:t,src:n}}if(e instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:e.toDataURL()}}if(e instanceof ImageData){return{rr_type:e.constructor.name,args:[ze(e.data,t,n),e.width,e.height]}}if(We(e,t)||"object"===typeof e){return{rr_type:e.constructor.name,index:qe(e,t,n)}}return e}const $e=(e,t,n)=>e.map((e=>ze(e,t,n))),We=(e,t)=>{const n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((e=>"function"===typeof t[e]));return Boolean(n.find((n=>e instanceof t[n])))};function Ge(e,t,n,r){const i=[];try{const o=V(e.HTMLCanvasElement.prototype,"getContext",(function(e){return function(i,...o){if(!G(this,t,n,!0)){const e=function(e){return"experimental-webgl"===e?"webgl":e}(i);if("__context"in this||(this.__context=e),r&&["webgl","webgl2"].includes(e))if(o[0]&&"object"===typeof o[0]){const e=o[0];e.preserveDrawingBuffer||(e.preserveDrawingBuffer=!0)}else o.splice(0,1,{preserveDrawingBuffer:!0})}return e.apply(this,[i,...o])}}));i.push(o)}catch(o){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach((e=>e()))}}function Ze(e,t,n,r,i,o,s){const a=[],c=Object.getOwnPropertyNames(e);for(const l of c)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(l))try{if("function"!==typeof e[l])continue;const o=V(e,l,(function(e){return function(...o){const a=e.apply(this,o);if(qe(a,s,this),"tagName"in this.canvas&&!G(this.canvas,r,i,!0)){const e=$e(o,s,this),r={type:t,property:l,args:e};n(this.canvas,r)}return a}}));a.push(o)}catch(u){const r=U(e,l,{set(e){n(this.canvas,{type:t,property:l,args:[e],setter:!0})}});a.push(r)}return a}var Ke=function(e,t){var n;return function(r){return n=n||function(e,t){var n=function(e,t){var n=void 0===t?null:t,r=e.toString().split("\n");r.pop(),r.shift();for(var i=r[0].search(/\S/),o=/(['"])__worker_loader_strict__(['"])/g,s=0,a=r.length;s<a;++s)r[s]=r[s].substring(i).replace(o,"$1use strict$2")+"\n";return n&&r.push("//# sourceMappingURL="+n+"\n"),r}(e,t),r=new Blob(n,{type:"application/javascript"});return URL.createObjectURL(r)}(e,t),new Worker(n,r)}}((function(){!function(){function e(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="undefined"===typeof Uint8Array?[]:new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;var i=function(e){var n,r=new Uint8Array(e),i=r.length,o="";for(n=0;n<i;n+=3)o+=t[r[n]>>2],o+=t[(3&r[n])<<4|r[n+1]>>4],o+=t[(15&r[n+1])<<2|r[n+2]>>6],o+=t[63&r[n+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o};const o=new Map,s=new Map;const a=self;a.onmessage=function(t){return e(this,void 0,void 0,(function*(){if(!("OffscreenCanvas"in globalThis))return a.postMessage({id:t.data.id});{const{id:n,bitmap:r,width:c,height:u,dataURLOptions:l}=t.data,h=function(t,n,r){return e(this,void 0,void 0,(function*(){const e=`${t}-${n}`;if("OffscreenCanvas"in globalThis){if(s.has(e))return s.get(e);const o=new OffscreenCanvas(t,n);o.getContext("2d");const a=yield o.convertToBlob(r),c=yield a.arrayBuffer(),u=i(c);return s.set(e,u),u}return""}))}(c,u,l),d=new OffscreenCanvas(c,u);d.getContext("2d").drawImage(r,0,0),r.close();const p=yield d.convertToBlob(l),f=p.type,m=yield p.arrayBuffer(),g=i(m);if(!o.has(n)&&(yield h)===g)return o.set(n,g),a.postMessage({id:n});if(o.get(n)===g)return a.postMessage({id:n});a.postMessage({id:n,type:f,base64:g,width:c,height:u}),o.set(n,g)}}))}}()}),null);class Je{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(e,t)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)};const{sampling:t="all",win:n,blockClass:r,blockSelector:i,recordCanvas:o,dataURLOptions:s}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,o&&"all"===t&&this.initCanvasMutationObserver(n,r,i),o&&"number"===typeof t&&this.initCanvasFPSObserver(t,n,r,i,{dataURLOptions:s})}initCanvasFPSObserver(e,t,n,r,i){const o=Ge(t,n,r,!0),s=new Map,a=new Ke;a.onmessage=e=>{const{id:t}=e.data;if(s.set(t,!1),!("base64"in e.data))return;const{base64:n,type:r,width:i,height:o}=e.data;this.mutationCb({id:t,type:ce["2D"],commands:[{property:"clearRect",args:[0,0,i,o]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:n}],type:r}]},0,0]}]})};const c=1e3/e;let u,l=0;const h=e=>{l&&e-l<c||(l=e,(()=>{const e=[];return t.document.querySelectorAll("canvas").forEach((t=>{G(t,n,r,!0)||e.push(t)})),e})().forEach((e=>je(this,void 0,void 0,(function*(){var t;const n=this.mirror.getId(e);if(s.get(n))return;if(0===e.width||0===e.height)return;if(s.set(n,!0),["webgl","webgl2"].includes(e.__context)){const n=e.getContext(e.__context);!1===(null===(t=null===n||void 0===n?void 0:n.getContextAttributes())||void 0===t?void 0:t.preserveDrawingBuffer)&&n.clear(n.COLOR_BUFFER_BIT)}const r=yield createImageBitmap(e);a.postMessage({id:n,bitmap:r,width:e.width,height:e.height,dataURLOptions:i.dataURLOptions},[r])}))))),u=requestAnimationFrame(h)};u=requestAnimationFrame(h),this.resetObservers=()=>{o(),cancelAnimationFrame(u)}}initCanvasMutationObserver(e,t,n){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const r=Ge(e,t,n,!1),i=function(e,t,n,r){const i=[],o=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of o)try{if("function"!==typeof t.CanvasRenderingContext2D.prototype[a])continue;const o=V(t.CanvasRenderingContext2D.prototype,a,(function(i){return function(...o){return G(this.canvas,n,r,!0)||setTimeout((()=>{const n=$e(o,t,this);e(this.canvas,{type:ce["2D"],property:a,args:n})}),0),i.apply(this,o)}}));i.push(o)}catch(s){const n=U(t.CanvasRenderingContext2D.prototype,a,{set(t){e(this.canvas,{type:ce["2D"],property:a,args:[t],setter:!0})}});i.push(n)}return()=>{i.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n),o=function(e,t,n,r,i){const o=[];return o.push(...Ze(t.WebGLRenderingContext.prototype,ce.WebGL,e,n,r,0,t)),"undefined"!==typeof t.WebGL2RenderingContext&&o.push(...Ze(t.WebGL2RenderingContext.prototype,ce.WebGL2,e,n,r,0,t)),()=>{o.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n,this.mirror);this.resetObservers=()=>{r(),i(),o()}}startPendingCanvasMutationFlusher(){requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const e=t=>{this.rafStamps.latestId=t,requestAnimationFrame(e)};requestAnimationFrame(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((e,t)=>{const n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n)})),requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(e);if(!n||-1===t)return;const r=n.map((e=>{const t=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["type"]);return t})),{type:i}=n[0];this.mutationCb({id:t,type:i,commands:r}),this.pendingCanvasMutations.delete(e)}}class Xe{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new ee,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},r=[];for(const i of e){let e;this.styleMirror.has(i)?e=this.styleMirror.getId(i):(e=this.styleMirror.add(i),r.push({styleId:e,rules:Array.from(i.rules||CSSRule,((e,t)=>({rule:a(e),index:t})))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class Ye{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame((()=>{this.clear(),this.loop&&this.periodicallyClear()}))}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some((e=>e!==t))}add(e,t){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function Qe(e){return Object.assign(Object.assign({},e),{timestamp:H()})}let et,tt,nt,rt=!1;const it=new c;function ot(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:o=null,ignoreClass:s="rr-ignore",ignoreSelector:a=null,maskTextClass:u="rr-mask",maskTextSelector:l=null,inlineStylesheet:h=!0,maskAllInputs:d,maskInputOptions:p,slimDOMOptions:f,maskInputFn:m,maskTextFn:g,hooks:v,packFn:y,sampling:_={},dataURLOptions:b={},mousemoveWait:w,recordDOM:C=!0,recordCanvas:E=!1,recordCrossOriginIframes:S=!1,recordAfter:T=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:I=!1,collectFonts:k=!1,inlineImages:x=!1,plugins:A,keepIframeSrcFn:D=(()=>!1),ignoreCSSAttributes:R=new Set([]),errorHandler:M}=e;_e(M);const O=!S||window.parent===window;let L=!1;if(!O)try{window.parent.document&&(L=!1)}catch(te){L=!0}if(O&&!t)throw new Error("emit function is required");void 0!==w&&void 0===_.mousemove&&(_.mousemove=w),it.reset();const F=!0===d?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==p?p:{password:!0},j=!0===f||"all"===f?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===f,headMetaDescKeywords:"all"===f}:f||{};let B;!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}();let U=0;const V=e=>{for(const t of A||[])t.eventProcessor&&(e=t.eventProcessor(e));return y&&!L&&(e=y(e)),e};et=(e,i)=>{var o;if(!(null===(o=Ce[0])||void 0===o?void 0:o.isFrozen())||e.type===ie.FullSnapshot||e.type===ie.IncrementalSnapshot&&e.data.source===oe.Mutation||Ce.forEach((e=>e.unfreeze())),O)null===t||void 0===t||t(V(e),i);else if(L){const t={type:"rrweb",event:V(e),origin:window.location.origin,isCheckout:i};window.parent.postMessage(t,"*")}if(e.type===ie.FullSnapshot)B=e,U=0;else if(e.type===ie.IncrementalSnapshot){if(e.data.source===oe.Mutation&&e.data.isAttachIframe)return;U++;const t=r&&U>=r,i=n&&e.timestamp-B.timestamp>n;(t||i)&&tt(!0)}};const H=e=>{et(Qe({type:ie.IncrementalSnapshot,data:Object.assign({source:oe.Mutation},e)}))},W=e=>et(Qe({type:ie.IncrementalSnapshot,data:Object.assign({source:oe.Scroll},e)})),G=e=>et(Qe({type:ie.IncrementalSnapshot,data:Object.assign({source:oe.CanvasMutation},e)})),Z=new Xe({mutationCb:H,adoptedStyleSheetCb:e=>et(Qe({type:ie.IncrementalSnapshot,data:Object.assign({source:oe.AdoptedStyleSheet},e)}))}),K=new Pe({mirror:it,mutationCb:H,stylesheetManager:Z,recordCrossOriginIframes:S,wrappedEmit:et});for(const c of A||[])c.getMirror&&c.getMirror({nodeMirror:it,crossOriginIframeMirror:K.crossOriginIframeMirror,crossOriginIframeStyleMirror:K.crossOriginIframeStyleMirror});const J=new Ye;nt=new Je({recordCanvas:E,mutationCb:G,win:window,blockClass:i,blockSelector:o,mirror:it,sampling:_.canvas,dataURLOptions:b});const ee=new Fe({mutationCb:H,scrollCb:W,bypassOptions:{blockClass:i,blockSelector:o,maskTextClass:u,maskTextSelector:l,inlineStylesheet:h,maskInputOptions:F,dataURLOptions:b,maskTextFn:g,maskInputFn:m,recordCanvas:E,inlineImages:x,sampling:_,slimDOMOptions:j,iframeManager:K,stylesheetManager:Z,canvasManager:nt,keepIframeSrcFn:D,processedNodeManager:J},mirror:it});tt=(e=!1)=>{if(!C)return;et(Qe({type:ie.Meta,data:{href:window.location.href,width:$(),height:z()}}),e),Z.reset(),ee.init(),Ce.forEach((e=>e.lock()));const t=function(e,t){const{mirror:n=new c,blockClass:r="rr-block",blockSelector:i=null,maskTextClass:o="rr-mask",maskTextSelector:s=null,inlineStylesheet:a=!0,inlineImages:u=!1,recordCanvas:l=!1,maskAllInputs:h=!1,maskTextFn:d,maskInputFn:p,slimDOM:f=!1,dataURLOptions:m,preserveWhiteSpace:g,onSerialize:v,onIframeLoad:y,iframeLoadTimeout:_,onStylesheetLoad:b,stylesheetLoadTimeout:w,keepIframeSrcFn:C=(()=>!1)}=t||{};return N(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,maskTextClass:o,maskTextSelector:s,skipChild:!1,inlineStylesheet:a,maskInputOptions:!0===h?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===h?{password:!0}:h,maskTextFn:d,maskInputFn:p,slimDOMOptions:!0===f||"all"===f?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===f,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===f?{}:f,dataURLOptions:m,inlineImages:u,recordCanvas:l,preserveWhiteSpace:g,onSerialize:v,onIframeLoad:y,iframeLoadTimeout:_,onStylesheetLoad:b,stylesheetLoadTimeout:w,keepIframeSrcFn:C,newlyAddedElement:!1})}(document,{mirror:it,blockClass:i,blockSelector:o,maskTextClass:u,maskTextSelector:l,inlineStylesheet:h,maskAllInputs:F,maskTextFn:g,slimDOM:j,dataURLOptions:b,recordCanvas:E,inlineImages:x,onSerialize:e=>{X(e,it)&&K.addIframe(e),Y(e,it)&&Z.trackLinkElement(e),Q(e)&&ee.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{K.attachIframe(e,t),ee.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{Z.attachLinkElement(e,t)},keepIframeSrcFn:D});if(!t)return console.warn("Failed to snapshot the document");et(Qe({type:ie.FullSnapshot,data:{node:t,initialOffset:q(window)}}),e),Ce.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Z.adoptStyleSheets(document.adoptedStyleSheets,it.getId(document))};try{const e=[],t=e=>{var t;return we(Me)({mutationCb:H,mousemoveCb:(e,t)=>et(Qe({type:ie.IncrementalSnapshot,data:{source:t,positions:e}})),mouseInteractionCb:e=>et(Qe({type:ie.IncrementalSnapshot,data:Object.assign({source:oe.MouseInteraction},e)})),scrollCb:W,viewportResizeCb:e=>et(Qe({type:ie.IncrementalSnapshot,data:Object.assign({source:oe.ViewportResize},e)})),inputCb:e=>et(Qe({type:ie.IncrementalSnapshot,data:Object.assign({source:oe.Input},e)})),mediaInteractionCb:e=>et(Qe({type:ie.IncrementalSnapshot,data:Object.assign({source:oe.MediaInteraction},e)})),styleSheetRuleCb:e=>et(Qe({type:ie.IncrementalSnapshot,data:Object.assign({source:oe.StyleSheetRule},e)})),styleDeclarationCb:e=>et(Qe({type:ie.IncrementalSnapshot,data:Object.assign({source:oe.StyleDeclaration},e)})),canvasMutationCb:G,fontCb:e=>et(Qe({type:ie.IncrementalSnapshot,data:Object.assign({source:oe.Font},e)})),selectionCb:e=>{et(Qe({type:ie.IncrementalSnapshot,data:Object.assign({source:oe.Selection},e)}))},customElementCb:e=>{et(Qe({type:ie.IncrementalSnapshot,data:Object.assign({source:oe.CustomElement},e)}))},blockClass:i,ignoreClass:s,ignoreSelector:a,maskTextClass:u,maskTextSelector:l,maskInputOptions:F,inlineStylesheet:h,sampling:_,recordDOM:C,recordCanvas:E,inlineImages:x,userTriggeredOnInput:I,collectFonts:k,doc:e,maskInputFn:m,maskTextFn:g,keepIframeSrcFn:D,blockSelector:o,slimDOMOptions:j,dataURLOptions:b,mirror:it,iframeManager:K,stylesheetManager:Z,shadowDomManager:ee,processedNodeManager:J,canvasManager:nt,ignoreCSSAttributes:R,plugins:(null===(t=null===A||void 0===A?void 0:A.filter((e=>e.observer)))||void 0===t?void 0:t.map((e=>({observer:e.observer,options:e.options,callback:t=>et(Qe({type:ie.Plugin,data:{plugin:e.name,payload:t}}))}))))||[]},v)};K.addLoadListener((n=>{try{e.push(t(n.contentDocument))}catch(r){console.warn(r)}}));const n=()=>{tt(),e.push(t(document)),rt=!0};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(P("DOMContentLoaded",(()=>{et(Qe({type:ie.DomContentLoaded,data:{}})),"DOMContentLoaded"===T&&n()}))),e.push(P("load",(()=>{et(Qe({type:ie.Load,data:{}})),"load"===T&&n()}),window))),()=>{e.forEach((e=>e())),J.destroy(),rt=!1,be()}}catch(ne){console.warn(ne)}}ot.addCustomEvent=(e,t)=>{if(!rt)throw new Error("please add custom event after start recording");et(Qe({type:ie.Custom,data:{tag:e,payload:t}}))},ot.freezePage=()=>{Ce.forEach((e=>e.freeze()))},ot.takeFullSnapshot=e=>{if(!rt)throw new Error("please take full snapshot after start recording");tt(e)},ot.mirror=it;var st,at=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(at||{}),ct=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(ct||{}),ut={DEBUG:!1,LIB_VERSION:"2.55.1"};if("undefined"===typeof window){var lt={hostname:""};st={navigator:{userAgent:"",onLine:!0},document:{location:lt,referrer:""},screen:{width:0,height:0},location:lt}}else st=window;var ht=864e5,dt=8e3,pt=Array.prototype,ft=Function.prototype,mt=Object.prototype,gt=pt.slice,vt=mt.toString,yt=mt.hasOwnProperty,_t=st.console,bt=st.navigator,wt=st.document,Ct=st.opera,Et=st.screen,St=bt.userAgent,Tt=ft.bind,It=pt.forEach,kt=pt.indexOf,xt=pt.map,At=Array.isArray,Dt={},Rt={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},Mt={log:function(){if(ut.DEBUG&&!Rt.isUndefined(_t)&&_t)try{_t.log.apply(_t,arguments)}catch(e){Rt.each(arguments,(function(e){_t.log(e)}))}},warn:function(){if(ut.DEBUG&&!Rt.isUndefined(_t)&&_t){var e=["Mixpanel warning:"].concat(Rt.toArray(arguments));try{_t.warn.apply(_t,e)}catch(t){Rt.each(e,(function(e){_t.warn(e)}))}}},error:function(){if(ut.DEBUG&&!Rt.isUndefined(_t)&&_t){var e=["Mixpanel error:"].concat(Rt.toArray(arguments));try{_t.error.apply(_t,e)}catch(t){Rt.each(e,(function(e){_t.error(e)}))}}},critical:function(){if(!Rt.isUndefined(_t)&&_t){var e=["Mixpanel error:"].concat(Rt.toArray(arguments));try{_t.error.apply(_t,e)}catch(t){Rt.each(e,(function(e){_t.error(e)}))}}}},Ot=function(e,t){return function(){return arguments[0]="["+t+"] "+arguments[0],e.apply(Mt,arguments)}},Lt=function(e){return{log:Ot(Mt.log,e),error:Ot(Mt.error,e),critical:Ot(Mt.critical,e)}};Rt.bind=function(e,t){var n,r;if(Tt&&e.bind===Tt)return Tt.apply(e,gt.call(arguments,1));if(!Rt.isFunction(e))throw new TypeError;return n=gt.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(gt.call(arguments)));var i={};i.prototype=e.prototype;var o=new i;i.prototype=null;var s=e.apply(o,n.concat(gt.call(arguments)));return Object(s)===s?s:o},r},Rt.each=function(e,t,n){if(null!==e&&void 0!==e)if(It&&e.forEach===It)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r,e)===Dt)return}else for(var o in e)if(yt.call(e,o)&&t.call(n,e[o],o,e)===Dt)return},Rt.extend=function(e){return Rt.each(gt.call(arguments,1),(function(t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])})),e},Rt.isArray=At||function(e){return"[object Array]"===vt.call(e)},Rt.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch(t){return!1}},Rt.isArguments=function(e){return!(!e||!yt.call(e,"callee"))},Rt.toArray=function(e){return e?e.toArray?e.toArray():Rt.isArray(e)||Rt.isArguments(e)?gt.call(e):Rt.values(e):[]},Rt.map=function(e,t,n){if(xt&&e.map===xt)return e.map(t,n);var r=[];return Rt.each(e,(function(e){r.push(t.call(n,e))})),r},Rt.keys=function(e){var t=[];return null===e||Rt.each(e,(function(e,n){t[t.length]=n})),t},Rt.values=function(e){var t=[];return null===e||Rt.each(e,(function(e){t[t.length]=e})),t},Rt.include=function(e,t){var n=!1;return null===e?n:kt&&e.indexOf===kt?-1!=e.indexOf(t):(Rt.each(e,(function(e){if(n||(n=e===t))return Dt})),n)},Rt.includes=function(e,t){return-1!==e.indexOf(t)},Rt.inherit=function(e,t){return e.prototype=new t,e.prototype.constructor=e,e.superclass=t.prototype,e},Rt.isObject=function(e){return e===Object(e)&&!Rt.isArray(e)},Rt.isEmptyObject=function(e){if(Rt.isObject(e)){for(var t in e)if(yt.call(e,t))return!1;return!0}return!1},Rt.isUndefined=function(e){return void 0===e},Rt.isString=function(e){return"[object String]"==vt.call(e)},Rt.isDate=function(e){return"[object Date]"==vt.call(e)},Rt.isNumber=function(e){return"[object Number]"==vt.call(e)},Rt.isElement=function(e){return!(!e||1!==e.nodeType)},Rt.encodeDates=function(e){return Rt.each(e,(function(t,n){Rt.isDate(t)?e[n]=Rt.formatDate(t):Rt.isObject(t)&&(e[n]=Rt.encodeDates(t))})),e},Rt.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},Rt.formatDate=function(e){function t(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())},Rt.strip_empty_properties=function(e){var t={};return Rt.each(e,(function(e,n){Rt.isString(e)&&e.length>0&&(t[n]=e)})),t},Rt.truncate=function(e,t){var n;return"string"===typeof e?n=e.slice(0,t):Rt.isArray(e)?(n=[],Rt.each(e,(function(e){n.push(Rt.truncate(e,t))}))):Rt.isObject(e)?(n={},Rt.each(e,(function(e,r){n[r]=Rt.truncate(e,t)}))):n=e,n},Rt.JSONEncode=function(e){var t=function(e){var t=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.lastIndex=0,t.test(e)?'"'+e.replace(t,(function(e){var t=n[e];return"string"===typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'},n=function(e,r){var i="",o=0,s="",a="",c=0,u=i,l=[],h=r[e];switch(h&&"object"===typeof h&&"function"===typeof h.toJSON&&(h=h.toJSON(e)),typeof h){case"string":return t(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(i+="    ",l=[],"[object Array]"===vt.apply(h)){for(c=h.length,o=0;o<c;o+=1)l[o]=n(o,h)||"null";return a=0===l.length?"[]":i?"[\n"+i+l.join(",\n"+i)+"\n"+u+"]":"["+l.join(",")+"]",i=u,a}for(s in h)yt.call(h,s)&&(a=n(s,h))&&l.push(t(s)+(i?": ":":")+a);return a=0===l.length?"{}":i?"{"+l.join(",")+u+"}":"{"+l.join(",")+"}",i=u,a}};return n("",{"":e})},Rt.JSONDecode=function(){var e,t,n,r,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},o=function(t){var r=new SyntaxError(t);throw r.at=e,r.text=n,r},s=function(r){return r&&r!==t&&o("Expected '"+r+"' instead of '"+t+"'"),t=n.charAt(e),e+=1,t},a=function(){var e,n="";for("-"===t&&(n="-",s("-"));t>="0"&&t<="9";)n+=t,s();if("."===t)for(n+=".";s()&&t>="0"&&t<="9";)n+=t;if("e"===t||"E"===t)for(n+=t,s(),"-"!==t&&"+"!==t||(n+=t,s());t>="0"&&t<="9";)n+=t,s();if(e=+n,isFinite(e))return e;o("Bad number")},c=function(){var e,n,r,a="";if('"'===t)for(;s();){if('"'===t)return s(),a;if("\\"===t)if(s(),"u"===t){for(r=0,n=0;n<4&&(e=parseInt(s(),16),isFinite(e));n+=1)r=16*r+e;a+=String.fromCharCode(r)}else{if("string"!==typeof i[t])break;a+=i[t]}else a+=t}o("Bad string")},u=function(){for(;t&&t<=" ";)s()};return r=function(){switch(u(),t){case"{":return function(){var e,n={};if("{"===t){if(s("{"),u(),"}"===t)return s("}"),n;for(;t;){if(e=c(),u(),s(":"),Object.hasOwnProperty.call(n,e)&&o('Duplicate key "'+e+'"'),n[e]=r(),u(),"}"===t)return s("}"),n;s(","),u()}}o("Bad object")}();case"[":return function(){var e=[];if("["===t){if(s("["),u(),"]"===t)return s("]"),e;for(;t;){if(e.push(r()),u(),"]"===t)return s("]"),e;s(","),u()}}o("Bad array")}();case'"':return c();case"-":return a();default:return t>="0"&&t<="9"?a():function(){switch(t){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null}o('Unexpected "'+t+'"')}()}},function(i){var s;return n=i,e=0,t=" ",s=r(),u(),t&&o("Syntax error"),s}}(),Rt.base64Encode=function(e){var t,n,r,i,o,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,c=0,u="",l=[];if(!e)return e;e=Rt.utf8Encode(e);do{t=(o=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,n=o>>12&63,r=o>>6&63,i=63&o,l[c++]=s.charAt(t)+s.charAt(n)+s.charAt(r)+s.charAt(i)}while(a<e.length);switch(u=l.join(""),e.length%3){case 1:u=u.slice(0,-2)+"==";break;case 2:u=u.slice(0,-1)+"="}return u},Rt.utf8Encode=function(e){var t,n,r,i,o="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,i=0;i<r;i++){var s=e.charCodeAt(i),a=null;s<128?n++:a=s>127&&s<2048?String.fromCharCode(s>>6|192,63&s|128):String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),null!==a&&(n>t&&(o+=e.substring(t,n)),o+=a,t=n=i+1)}return n>t&&(o+=e.substring(t,e.length)),o},Rt.UUID=function(){var e=function(){var e,t=1*new Date;if(st.performance&&st.performance.now)e=st.performance.now();else for(e=0;t==1*new Date;)e++;return t.toString(16)+Math.floor(e).toString(16)};return function(){var t=(Et.height*Et.width).toString(16);return e()+"-"+Math.random().toString(16).replace(".","")+"-"+function(){var e,t,n=St,r=[],i=0;function o(e,t){var n,i=0;for(n=0;n<t.length;n++)i|=r[n]<<8*n;return e^i}for(e=0;e<n.length;e++)t=n.charCodeAt(e),r.unshift(255&t),r.length>=4&&(i=o(i,r),r=[]);return r.length>0&&(i=o(i,r)),i.toString(16)}()+"-"+t+"-"+e()}}();var Nt=["ahrefsbot","ahrefssiteaudit","baiduspider","bingbot","bingpreview","chrome-lighthouse","facebookexternal","petalbot","pinterest","screaming frog","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];Rt.isBlockedUA=function(e){var t;for(e=e.toLowerCase(),t=0;t<Nt.length;t++)if(-1!==e.indexOf(Nt[t]))return!0;return!1},Rt.HTTPBuildQuery=function(e,t){var n,r,i=[];return Rt.isUndefined(t)&&(t="&"),Rt.each(e,(function(e,t){n=encodeURIComponent(e.toString()),r=encodeURIComponent(t),i[i.length]=r+"="+n})),i.join(t)},Rt.getQueryParam=function(e,t){t=t.replace(/[[]/g,"\\[").replace(/[\]]/g,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);if(null===n||n&&"string"!==typeof n[1]&&n[1].length)return"";var r=n[1];try{r=decodeURIComponent(r)}catch(i){Mt.error("Skipping decoding for malformed query param: "+r)}return r.replace(/\+/g," ")},Rt.cookie={get:function(e){for(var t=e+"=",n=wt.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}return null},parse:function(e){var t;try{t=Rt.JSONDecode(Rt.cookie.get(e))||{}}catch(n){}return t},set_seconds:function(e,t,n,r,i,o,s){var a="",c="",u="";if(s)a="; domain="+s;else if(r){var l=zt(wt.location.hostname);a=l?"; domain=."+l:""}if(n){var h=new Date;h.setTime(h.getTime()+1e3*n),c="; expires="+h.toGMTString()}o&&(i=!0,u="; SameSite=None"),i&&(u+="; secure"),wt.cookie=e+"="+encodeURIComponent(t)+c+"; path=/"+a+u},set:function(e,t,n,r,i,o,s){var a="",c="",u="";if(s)a="; domain="+s;else if(r){var l=zt(wt.location.hostname);a=l?"; domain=."+l:""}if(n){var h=new Date;h.setTime(h.getTime()+24*n*60*60*1e3),c="; expires="+h.toGMTString()}o&&(i=!0,u="; SameSite=None"),i&&(u+="; secure");var d=e+"="+encodeURIComponent(t)+c+"; path=/"+a+u;return wt.cookie=d,d},remove:function(e,t,n){Rt.cookie.set(e,"",-1,t,!1,!1,n)}};var Pt=null,Ft=function(e,t){if(null!==Pt&&!t)return Pt;var n=!0;try{e=e||window.localStorage;var r="__mplss_"+Vt(8);e.setItem(r,"xyz"),"xyz"!==e.getItem(r)&&(n=!1),e.removeItem(r)}catch(i){n=!1}return Pt=n,n};Rt.localStorage={is_supported:function(e){var t=Ft(null,e);return t||Mt.error("localStorage unsupported; falling back to cookie store"),t},error:function(e){Mt.error("localStorage error: "+e)},get:function(e){try{return window.localStorage.getItem(e)}catch(t){Rt.localStorage.error(t)}return null},parse:function(e){try{return Rt.JSONDecode(Rt.localStorage.get(e))||{}}catch(t){}return null},set:function(e,t){try{window.localStorage.setItem(e,t)}catch(n){Rt.localStorage.error(n)}},remove:function(e){try{window.localStorage.removeItem(e)}catch(t){Rt.localStorage.error(t)}}},Rt.register_event=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,o){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!o);else{var s="on"+n,a=t[s];t[s]=function(t,n,r){return function(i){if(i=i||e(window.event)){var o,s,a=!0;return Rt.isFunction(r)&&(o=r(i)),s=n.call(t,i),!1!==o&&!1!==s||(a=!1),a}}}(t,r,a)}else Mt.error("No valid element provided to register_event")}}();var jt=new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');Rt.dom_query=function(){function e(e){return e.all?e.all:e.getElementsByTagName("*")}var t=/[\t\r\n]/g;function n(e,n){var r=" "+n+" ";return(" "+e.className+" ").replace(t," ").indexOf(r)>=0}function r(t){if(!wt.getElementsByTagName)return[];var r,i,o,s,a,c,u,l,h,d,p=t.split(" "),f=[wt];for(c=0;c<p.length;c++)if((r=p[c].replace(/^\s+/,"").replace(/\s+$/,"")).indexOf("#")>-1){o=(i=r.split("#"))[0];var m=i[1],g=wt.getElementById(m);if(!g||o&&g.nodeName.toLowerCase()!=o)return[];f=[g]}else if(r.indexOf(".")>-1){o=(i=r.split("."))[0];var v=i[1];for(o||(o="*"),s=[],a=0,u=0;u<f.length;u++)for(h="*"==o?e(f[u]):f[u].getElementsByTagName(o),l=0;l<h.length;l++)s[a++]=h[l];for(f=[],d=0,u=0;u<s.length;u++)s[u].className&&Rt.isString(s[u].className)&&n(s[u],v)&&(f[d++]=s[u])}else{var y=r.match(jt);if(y){o=y[1];var _,b=y[2],w=y[3],C=y[4];for(o||(o="*"),s=[],a=0,u=0;u<f.length;u++)for(h="*"==o?e(f[u]):f[u].getElementsByTagName(o),l=0;l<h.length;l++)s[a++]=h[l];switch(f=[],d=0,w){case"=":_=function(e){return e.getAttribute(b)==C};break;case"~":_=function(e){return e.getAttribute(b).match(new RegExp("\\b"+C+"\\b"))};break;case"|":_=function(e){return e.getAttribute(b).match(new RegExp("^"+C+"-?"))};break;case"^":_=function(e){return 0===e.getAttribute(b).indexOf(C)};break;case"$":_=function(e){return e.getAttribute(b).lastIndexOf(C)==e.getAttribute(b).length-C.length};break;case"*":_=function(e){return e.getAttribute(b).indexOf(C)>-1};break;default:_=function(e){return e.getAttribute(b)}}for(f=[],d=0,u=0;u<s.length;u++)_(s[u])&&(f[d++]=s[u])}else{for(o=r,s=[],a=0,u=0;u<f.length;u++)for(h=f[u].getElementsByTagName(o),l=0;l<h.length;l++)s[a++]=h[l];f=s}}return f}return function(e){return Rt.isElement(e)?[e]:Rt.isObject(e)&&!Rt.isUndefined(e.length)?e:r.call(this,e)}}();var Bt=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","utm_id","utm_source_platform","utm_campaign_id","utm_creative_format","utm_marketing_tactic"],Ut=["dclid","fbclid","gclid","ko_click_id","li_fat_id","msclkid","sccid","ttclid","twclid","wbraid"];Rt.info={campaignParams:function(e){var t="",n={};return Rt.each(Bt,(function(r){(t=Rt.getQueryParam(wt.URL,r)).length?n[r]=t:void 0!==e&&(n[r]=e)})),n},clickParams:function(){var e="",t={};return Rt.each(Ut,(function(n){(e=Rt.getQueryParam(wt.URL,n)).length&&(t[n]=e)})),t},marketingParams:function(){return Rt.extend(Rt.info.campaignParams(),Rt.info.clickParams())},searchEngine:function(e){return 0===e.search("https?://(.*)google.([^/?]*)")?"google":0===e.search("https?://(.*)bing.com")?"bing":0===e.search("https?://(.*)yahoo.com")?"yahoo":0===e.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},searchInfo:function(e){var t=Rt.info.searchEngine(e),n="yahoo"!=t?"q":"p",r={};if(null!==t){r.$search_engine=t;var i=Rt.getQueryParam(e,n);i.length&&(r.mp_keyword=i)}return r},browser:function(e,t,n){return t=t||"",n||Rt.includes(e," OPR/")?Rt.includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":Rt.includes(e,"IEMobile")||Rt.includes(e,"WPDesktop")?"Internet Explorer Mobile":Rt.includes(e,"SamsungBrowser/")?"Samsung Internet":Rt.includes(e,"Edge")||Rt.includes(e,"Edg/")?"Microsoft Edge":Rt.includes(e,"FBIOS")?"Facebook Mobile":Rt.includes(e,"Chrome")?"Chrome":Rt.includes(e,"CriOS")?"Chrome iOS":Rt.includes(e,"UCWEB")||Rt.includes(e,"UCBrowser")?"UC Browser":Rt.includes(e,"FxiOS")?"Firefox iOS":Rt.includes(t,"Apple")?Rt.includes(e,"Mobile")?"Mobile Safari":"Safari":Rt.includes(e,"Android")?"Android Mobile":Rt.includes(e,"Konqueror")?"Konqueror":Rt.includes(e,"Firefox")?"Firefox":Rt.includes(e,"MSIE")||Rt.includes(e,"Trident/")?"Internet Explorer":Rt.includes(e,"Gecko")?"Mozilla":""},browserVersion:function(e,t,n){var r={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/}[Rt.info.browser(e,t,n)];if(void 0===r)return null;var i=e.match(r);return i?parseFloat(i[i.length-2]):null},os:function(){var e=St;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":/CrOS/.test(e)?"Chrome OS":""},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)?"Android":""},referringDomain:function(e){var t=e.split("/");return t.length>=3?t[2]:""},currentUrl:function(){return st.location.href},properties:function(e){return"object"!==typeof e&&(e={}),Rt.extend(Rt.strip_empty_properties({$os:Rt.info.os(),$browser:Rt.info.browser(St,bt.vendor,Ct),$referrer:wt.referrer,$referring_domain:Rt.info.referringDomain(wt.referrer),$device:Rt.info.device(St)}),{$current_url:Rt.info.currentUrl(),$browser_version:Rt.info.browserVersion(St,bt.vendor,Ct),$screen_height:Et.height,$screen_width:Et.width,mp_lib:"web",$lib_version:ut.LIB_VERSION,$insert_id:Vt(),time:Rt.timestamp()/1e3},Rt.strip_empty_properties(e))},people_properties:function(){return Rt.extend(Rt.strip_empty_properties({$os:Rt.info.os(),$browser:Rt.info.browser(St,bt.vendor,Ct)}),{$browser_version:Rt.info.browserVersion(St,bt.vendor,Ct)})},mpPageViewProperties:function(){return Rt.strip_empty_properties({current_page_title:wt.title,current_domain:st.location.hostname,current_url_path:st.location.pathname,current_url_protocol:st.location.protocol,current_url_search:st.location.search})}};var Vt=function(e){var t=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return e?t.substring(0,e):t},Ht=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,qt=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,zt=function(e){var t=qt,n=e.split("."),r=n[n.length-1];(r.length>4||"com"===r||"org"===r)&&(t=Ht);var i=e.match(t);return i?i[0]:""},$t=null,Wt=null;"undefined"!==typeof JSON&&($t=JSON.stringify,Wt=JSON.parse),$t=$t||Rt.JSONEncode,Wt=Wt||Rt.JSONDecode,Rt.toArray=Rt.toArray,Rt.isObject=Rt.isObject,Rt.JSONEncode=Rt.JSONEncode,Rt.JSONDecode=Rt.JSONDecode,Rt.isBlockedUA=Rt.isBlockedUA,Rt.isEmptyObject=Rt.isEmptyObject,Rt.info=Rt.info,Rt.info.device=Rt.info.device,Rt.info.browser=Rt.info.browser,Rt.info.browserVersion=Rt.info.browserVersion,Rt.info.properties=Rt.info.properties;function Gt(e,t){on(!0,e,t)}function Zt(e,t){on(!1,e,t)}function Kt(e,t){return"1"===rn(e,t)}function Jt(e,t){if(function(e){if(e&&e.ignoreDnt)return!1;var t=e&&e.window||st,n=t.navigator||{},r=!1;return Rt.each([n.doNotTrack,n.msDoNotTrack,t.doNotTrack],(function(e){Rt.includes([!0,1,"1","yes"],e)&&(r=!0)})),r}(t))return Mt.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),!0;var n="0"===rn(e,t);return n&&Mt.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."),n}function Xt(e){return sn(e,(function(e){return this.get_config(e)}))}function Yt(e){return sn(e,(function(e){return this._get_config(e)}))}function Qt(e){return sn(e,(function(e){return this._get_config(e)}))}function en(e,t){tn(t=t||{}).remove(nn(e,t),!!t.crossSubdomainCookie,t.cookieDomain)}function tn(e){return"localStorage"===(e=e||{}).persistenceType?Rt.localStorage:Rt.cookie}function nn(e,t){return((t=t||{}).persistencePrefix||"__mp_opt_in_out_")+e}function rn(e,t){return tn(t).get(nn(e,t))}function on(e,t,n){Rt.isString(t)&&t.length?(tn(n=n||{}).set(nn(t,n),e?1:0,Rt.isNumber(n.cookieExpiration)?n.cookieExpiration:null,!!n.crossSubdomainCookie,!!n.secureCookie,!!n.crossSiteCookie,n.cookieDomain),n.track&&e&&n.track(n.trackEventName||"$opt_in",n.trackProperties,{send_immediately:!0})):Mt.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token")}function sn(e,t){return function(){var n=!1;try{var r=t.call(this,"token"),i=t.call(this,"ignore_dnt"),o=t.call(this,"opt_out_tracking_persistence_type"),s=t.call(this,"opt_out_tracking_cookie_prefix"),a=t.call(this,"window");r&&(n=Jt(r,{ignoreDnt:i,persistenceType:o,persistencePrefix:s,window:a}))}catch(u){Mt.error("Unexpected error when checking tracking opt-out status: "+u)}if(!n)return e.apply(this,arguments);var c=arguments[arguments.length-1];"function"===typeof c&&c(0)}}var an=Lt("lock"),cn=function(e,t){t=t||{},this.storageKey=e,this.storage=t.storage||window.localStorage,this.pollIntervalMS=t.pollIntervalMS||100,this.timeoutMS=t.timeoutMS||2e3};cn.prototype.withLock=function(e,t,n){n||"function"===typeof t||(n=t,t=null);var r=n||(new Date).getTime()+"|"+Math.random(),i=(new Date).getTime(),o=this.storageKey,s=this.pollIntervalMS,a=this.timeoutMS,c=this.storage,u=o+":X",l=o+":Y",h=o+":Z",d=function(e){t&&t(e)},p=function(e){if((new Date).getTime()-i>a)return an.error("Timeout waiting for mutex on "+o+"; clearing lock. ["+r+"]"),c.removeItem(h),c.removeItem(l),void g();setTimeout((function(){try{e()}catch(t){d(t)}}),s*(Math.random()+.1))},f=function(e,t){e()?t():p((function(){f(e,t)}))},m=function(){var e=c.getItem(l);if(e&&e!==r)return!1;if(c.setItem(l,r),c.getItem(l)===r)return!0;if(!Ft(c,!0))throw new Error("localStorage support dropped while acquiring lock");return!1},g=function(){c.setItem(u,r),f(m,(function(){c.getItem(u)!==r?p((function(){c.getItem(l)===r?f((function(){return!c.getItem(h)}),v):g()})):v()}))},v=function(){c.setItem(h,"1");try{e()}finally{c.removeItem(h),c.getItem(l)===r&&c.removeItem(l),c.getItem(u)===r&&c.removeItem(u)}};try{if(!Ft(c,!0))throw new Error("localStorage support check failed");g()}catch(y){d(y)}};var un=Lt("batch"),ln=function(e,t){t=t||{},this.storageKey=e,this.storage=t.storage||window.localStorage,this.reportError=t.errorReporter||Rt.bind(un.error,un),this.lock=new cn(e,{storage:this.storage}),this.usePersistence=t.usePersistence,this.pid=t.pid||null,this.memQueue=[]};ln.prototype.enqueue=function(e,t,n){var r={id:Vt(),flushAfter:(new Date).getTime()+2*t,payload:e};this.usePersistence?this.lock.withLock(Rt.bind((function(){var t;try{var i=this.readFromStorage();i.push(r),(t=this.saveToStorage(i))&&this.memQueue.push(r)}catch(o){this.reportError("Error enqueueing item",e),t=!1}n&&n(t)}),this),Rt.bind((function(e){this.reportError("Error acquiring storage lock",e),n&&n(!1)}),this),this.pid):(this.memQueue.push(r),n&&n(!0))},ln.prototype.fillBatch=function(e){var t=this.memQueue.slice(0,e);if(this.usePersistence&&t.length<e){var n=this.readFromStorage();if(n.length){var r={};Rt.each(t,(function(e){r[e.id]=!0}));for(var i=0;i<n.length;i++){var o=n[i];if((new Date).getTime()>o.flushAfter&&!r[o.id]&&(o.orphaned=!0,t.push(o),t.length>=e))break}}}return t};var hn=function(e,t){var n=[];return Rt.each(e,(function(e){e.id&&!t[e.id]&&n.push(e)})),n};ln.prototype.removeItemsByID=function(e,t){var n={};if(Rt.each(e,(function(e){n[e]=!0})),this.memQueue=hn(this.memQueue,n),this.usePersistence){var r=Rt.bind((function(){var t;try{var r=this.readFromStorage();if(r=hn(r,n),t=this.saveToStorage(r)){r=this.readFromStorage();for(var i=0;i<r.length;i++){var o=r[i];if(o.id&&n[o.id])return this.reportError("Item not removed from storage"),!1}}}catch(s){this.reportError("Error removing items",e),t=!1}return t}),this);this.lock.withLock((function(){var e=r();t&&t(e)}),Rt.bind((function(e){var n=!1;if(this.reportError("Error acquiring storage lock",e),!Ft(this.storage,!0)&&!(n=r()))try{this.storage.removeItem(this.storageKey)}catch(e){this.reportError("Error clearing queue",e)}t&&t(n)}),this),this.pid)}else t&&t(!0)};var dn=function(e,t){var n=[];return Rt.each(e,(function(e){var r=e.id;if(r in t){var i=t[r];null!==i&&(e.payload=i,n.push(e))}else n.push(e)})),n};ln.prototype.updatePayloads=function(e,t){this.memQueue=dn(this.memQueue,e),this.usePersistence?this.lock.withLock(Rt.bind((function(){var n;try{var r=this.readFromStorage();r=dn(r,e),n=this.saveToStorage(r)}catch(i){this.reportError("Error updating items",e),n=!1}t&&t(n)}),this),Rt.bind((function(e){this.reportError("Error acquiring storage lock",e),t&&t(!1)}),this),this.pid):t&&t(!0)},ln.prototype.readFromStorage=function(){var e;try{(e=this.storage.getItem(this.storageKey))&&(e=Wt(e),Rt.isArray(e)||(this.reportError("Invalid storage entry:",e),e=null))}catch(t){this.reportError("Error retrieving queue",t),e=null}return e||[]},ln.prototype.saveToStorage=function(e){try{return this.storage.setItem(this.storageKey,$t(e)),!0}catch(t){return this.reportError("Error saving queue",t),!1}},ln.prototype.clear=function(){this.memQueue=[],this.usePersistence&&this.storage.removeItem(this.storageKey)};var pn=Lt("batch"),fn=function(e,t){this.errorReporter=t.errorReporter,this.queue=new ln(e,{errorReporter:Rt.bind(this.reportError,this),storage:t.storage,usePersistence:t.usePersistence}),this.libConfig=t.libConfig,this.sendRequest=t.sendRequestFunc,this.beforeSendHook=t.beforeSendHook,this.stopAllBatching=t.stopAllBatchingFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!this.libConfig.batch_autostart,this.consecutiveRemovalFailures=0,this.itemIdsSentSuccessfully={},this.flushOnlyOnInterval=t.flushOnlyOnInterval||!1};fn.prototype.enqueue=function(e,t){this.queue.enqueue(e,this.flushInterval,t)},fn.prototype.start=function(){this.stopped=!1,this.consecutiveRemovalFailures=0,this.flush()},fn.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)},fn.prototype.clear=function(){this.queue.clear()},fn.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size},fn.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)},fn.prototype.scheduleFlush=function(e){this.flushInterval=e,this.stopped||(this.timeoutID=setTimeout(Rt.bind((function(){this.stopped||this.flush()}),this),this.flushInterval))},fn.prototype.flush=function(e){try{if(this.requestInProgress)return void pn.log("Flush: Request already in progress");e=e||{};var t=this.libConfig.batch_request_timeout_ms,n=(new Date).getTime(),r=this.batchSize,i=this.queue.fillBatch(r),o=i.length===r,s=[],a={};if(Rt.each(i,(function(e){var t=e.payload;if(this.beforeSendHook&&!e.orphaned&&(t=this.beforeSendHook(t)),t){t.event&&t.properties&&(t.properties=Rt.extend({},t.properties,{mp_sent_by_lib_version:ut.LIB_VERSION}));var n=!0,r=e.id;r?(this.itemIdsSentSuccessfully[r]||0)>5&&(this.reportError("[dupe] item ID sent too many times, not sending",{item:e,batchSize:i.length,timesSent:this.itemIdsSentSuccessfully[r]}),n=!1):this.reportError("[dupe] found item with no ID",{item:e}),n&&s.push(t)}a[e.id]=t}),this),s.length<1)return void this.resetFlush();this.requestInProgress=!0;var c=Rt.bind((function(s){this.requestInProgress=!1;try{var c=!1;if(e.unloading)this.queue.updatePayloads(a);else if(Rt.isObject(s)&&"timeout"===s.error&&(new Date).getTime()-n>=t)this.reportError("Network timeout; retrying"),this.flush();else if(Rt.isObject(s)&&(s.httpStatusCode>=500||429===s.httpStatusCode||s.httpStatusCode<=0&&!function(){var e=st.navigator.onLine;return Rt.isUndefined(e)||e}()||"timeout"===s.error)){var u=2*this.flushInterval;s.retryAfter&&(u=1e3*parseInt(s.retryAfter,10)||u),u=Math.min(6e5,u),this.reportError("Error; retry in "+u+" ms"),this.scheduleFlush(u)}else if(Rt.isObject(s)&&413===s.httpStatusCode)if(i.length>1){var l=Math.max(1,Math.floor(r/2));this.batchSize=Math.min(this.batchSize,l,i.length-1),this.reportError("413 response; reducing batch size to "+this.batchSize),this.resetFlush()}else this.reportError("Single-event request too large; dropping",i),this.resetBatchSize(),c=!0;else c=!0;c&&(this.queue.removeItemsByID(Rt.map(i,(function(e){return e.id})),Rt.bind((function(e){e?(this.consecutiveRemovalFailures=0,this.flushOnlyOnInterval&&!o?this.resetFlush():this.flush()):(this.reportError("Failed to remove items from queue"),++this.consecutiveRemovalFailures>5?(this.reportError("Too many queue failures; disabling batching system."),this.stopAllBatching()):this.resetFlush())}),this)),Rt.each(i,Rt.bind((function(e){var t=e.id;t?(this.itemIdsSentSuccessfully[t]=this.itemIdsSentSuccessfully[t]||0,this.itemIdsSentSuccessfully[t]++,this.itemIdsSentSuccessfully[t]>5&&this.reportError("[dupe] item ID sent too many times",{item:e,batchSize:i.length,timesSent:this.itemIdsSentSuccessfully[t]})):this.reportError("[dupe] found item with no ID while removing",{item:e})}),this)))}catch(h){this.reportError("Error handling API response",h),this.resetFlush()}}),this),u={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:t};e.unloading&&(u.transport="sendBeacon"),pn.log("MIXPANEL REQUEST:",s),this.sendRequest(s,u,c)}catch(l){this.reportError("Error flushing request queue",l),this.resetFlush()}},fn.prototype.reportError=function(e,t){if(pn.error.apply(pn.error,arguments),this.errorReporter)try{t instanceof Error||(t=new Error(e)),this.errorReporter(e,t)}catch(t){pn.error(t)}};var mn=Lt("recorder"),gn=st.CompressionStream,vn={batch_size:1e3,batch_flush_interval_ms:1e4,batch_request_timeout_ms:9e4,batch_autostart:!0},yn=new Set([ct.MouseMove,ct.MouseInteraction,ct.Scroll,ct.ViewportResize,ct.Input,ct.TouchMove,ct.MediaInteraction,ct.Drag,ct.Selection]);var _n=function(e){this._mixpanel=e,this._stopRecording=null,this.recEvents=[],this.seqNo=0,this.replayId=null,this.replayStartTime=null,this.sendBatchId=null,this.idleTimeoutId=null,this.maxTimeoutId=null,this.recordMaxMs=ht,this.recordMinMs=0,this._initBatcher()};_n.prototype._initBatcher=function(){this.batcher=new fn("__mprec",{libConfig:vn,sendRequestFunc:Rt.bind(this.flushEventsWithOptOut,this),errorReporter:Rt.bind(this.reportError,this),flushOnlyOnInterval:!0,usePersistence:!1})},_n.prototype.get_config=function(e){return this._mixpanel.get_config(e)},_n.prototype.startRecording=function(e){if(null===this._stopRecording){this.recordMaxMs=this.get_config("record_max_ms"),this.recordMaxMs>ht&&(this.recordMaxMs=ht,mn.critical("record_max_ms cannot be greater than 86400000ms. Capping value.")),this.recordMinMs=this.get_config("record_min_ms"),this.recordMinMs>dt&&(this.recordMinMs=dt,mn.critical("record_min_ms cannot be greater than 8000ms. Capping value.")),this.recEvents=[],this.seqNo=0,this.replayStartTime=(new Date).getTime(),this.replayId=Rt.UUID(),e||this.recordMinMs>0?this.batcher.stop():this.batcher.start();var t=Rt.bind((function(){clearTimeout(this.idleTimeoutId),this.idleTimeoutId=setTimeout(Rt.bind((function(){mn.log("Idle timeout reached, restarting recording."),this.resetRecording()}),this),this.get_config("record_idle_timeout_ms"))}),this),n=this.get_config("record_block_selector");""!==n&&null!==n||(n=void 0),this._stopRecording=ot({emit:Rt.bind((function(e){this.batcher.enqueue(e),function(e){return e.type===at.IncrementalSnapshot&&yn.has(e.data.source)}(e)&&(this.batcher.stopped&&(new Date).getTime()-this.replayStartTime>=this.recordMinMs&&this.batcher.start(),t())}),this),blockClass:this.get_config("record_block_class"),blockSelector:n,collectFonts:this.get_config("record_collect_fonts"),inlineImages:this.get_config("record_inline_images"),maskAllInputs:!0,maskTextClass:this.get_config("record_mask_text_class"),maskTextSelector:this.get_config("record_mask_text_selector")}),t(),this.maxTimeoutId=setTimeout(Rt.bind(this.resetRecording,this),this.recordMaxMs)}else mn.log("Recording already in progress, skipping startRecording.")},_n.prototype.resetRecording=function(){this.stopRecording(),this.startRecording(!0)},_n.prototype.stopRecording=function(){null!==this._stopRecording&&(this._stopRecording(),this._stopRecording=null),this.batcher.stopped?this.batcher.clear():(this.batcher.flush(),this.batcher.stop()),this.replayId=null,clearTimeout(this.idleTimeoutId),clearTimeout(this.maxTimeoutId)},_n.prototype.flushEventsWithOptOut=function(e,t,n){this._flushEvents(e,t,n,Rt.bind(this._onOptOut,this))},_n.prototype._onOptOut=function(e){0===e&&(this.recEvents=[],this.stopRecording())},_n.prototype._sendRequest=function(e,t,n,r){var i=Rt.bind((function(t,n){200===t.status&&this.replayId===e&&this.seqNo++,r({status:0,httpStatusCode:t.status,responseBody:n,retryAfter:t.headers.get("Retry-After")})}),this);st.fetch(this.get_config("api_host")+"/"+this.get_config("api_routes").record+"?"+new URLSearchParams(t),{method:"POST",headers:{Authorization:"Basic "+btoa(this.get_config("token")+":"),"Content-Type":"application/octet-stream"},body:n}).then((function(e){e.json().then((function(t){i(e,t)})).catch((function(e){r({error:e})}))})).catch((function(e){r({error:e,httpStatusCode:0})}))},_n.prototype._flushEvents=Xt((function(e,t,n){const r=e.length;if(r>0){var i=this.replayId,o=e[0].timestamp;0!==this.seqNo&&this.replayStartTime||(0!==this.seqNo&&this.reportError("Replay start time not set but seqNo is not 0. Using current batch start time as a fallback."),this.replayStartTime=o);var s=e[r-1].timestamp-this.replayStartTime,a={distinct_id:String(this._mixpanel.get_distinct_id()),seq:this.seqNo,batch_start_time:o/1e3,replay_id:i,replay_length_ms:s,replay_start_time:this.replayStartTime/1e3},c=Rt.JSONEncode(e),u=this._mixpanel.get_property("$device_id");u&&(a.$device_id=u);var l=this._mixpanel.get_property("$user_id");if(l&&(a.$user_id=l),gn){var h=new Blob([c],{type:"application/json"}).stream().pipeThrough(new gn("gzip"));new Response(h).blob().then(Rt.bind((function(e){a.format="gzip",this._sendRequest(i,a,e,n)}),this))}else a.format="body",this._sendRequest(i,a,c,n)}})),_n.prototype.reportError=function(e,t){mn.error.apply(mn.error,arguments);try{t||e instanceof Error||(e=new Error(e)),this.get_config("error_reporter")(e,t)}catch(t){mn.error(t)}},st.__mp_recorder=_n;var bn=function(){};bn.prototype.create_properties=function(){},bn.prototype.event_handler=function(){},bn.prototype.after_track_handler=function(){},bn.prototype.init=function(e){return this.mp=e,this},bn.prototype.track=function(e,t,n,r){var i=this,o=Rt.dom_query(e);if(0!==o.length)return Rt.each(o,(function(e){Rt.register_event(e,this.override_event,(function(e){var o={},s=i.create_properties(n,this),a=i.mp.get_config("track_links_timeout");i.event_handler(e,this,o),window.setTimeout(i.track_callback(r,s,o,!0),a),i.mp.track(t,s,i.track_callback(r,s,o))}))}),this),!0;Mt.error("The DOM query ("+e+") returned 0 elements")},bn.prototype.track_callback=function(e,t,n,r){r=r||!1;var i=this;return function(){n.callback_fired||(n.callback_fired=!0,e&&!1===e(r,t)||i.after_track_handler(t,n,r))}},bn.prototype.create_properties=function(e,t){return"function"===typeof e?e(t):Rt.extend({},e)};var wn=function(){this.override_event="click"};Rt.inherit(wn,bn),wn.prototype.create_properties=function(e,t){var n=wn.superclass.create_properties.apply(this,arguments);return t.href&&(n.url=t.href),n},wn.prototype.event_handler=function(e,t,n){n.new_tab=2===e.which||e.metaKey||e.ctrlKey||"_blank"===t.target,n.href=t.href,n.new_tab||e.preventDefault()},wn.prototype.after_track_handler=function(e,t){t.new_tab||setTimeout((function(){window.location=t.href}),0)};var Cn=function(){this.override_event="submit"};Rt.inherit(Cn,bn),Cn.prototype.event_handler=function(e,t,n){n.element=t,e.preventDefault()},Cn.prototype.after_track_handler=function(e,t){setTimeout((function(){t.element.submit()}),0)};var En="$set",Sn="$set_once",Tn="$unset",In="$add",kn="$append",xn="$union",An="$remove",Dn={set_action:function(e,t){var n={},r={};return Rt.isObject(e)?Rt.each(e,(function(e,t){this._is_reserved_property(t)||(r[t]=e)}),this):r[e]=t,n.$set=r,n},unset_action:function(e){var t={},n=[];return Rt.isArray(e)||(e=[e]),Rt.each(e,(function(e){this._is_reserved_property(e)||n.push(e)}),this),t.$unset=n,t},set_once_action:function(e,t){var n={},r={};return Rt.isObject(e)?Rt.each(e,(function(e,t){this._is_reserved_property(t)||(r[t]=e)}),this):r[e]=t,n.$set_once=r,n},union_action:function(e,t){var n={},r={};return Rt.isObject(e)?Rt.each(e,(function(e,t){this._is_reserved_property(t)||(r[t]=Rt.isArray(e)?e:[e])}),this):r[e]=Rt.isArray(t)?t:[t],n.$union=r,n},append_action:function(e,t){var n={},r={};return Rt.isObject(e)?Rt.each(e,(function(e,t){this._is_reserved_property(t)||(r[t]=e)}),this):r[e]=t,n.$append=r,n},remove_action:function(e,t){var n={},r={};return Rt.isObject(e)?Rt.each(e,(function(e,t){this._is_reserved_property(t)||(r[t]=e)}),this):r[e]=t,n.$remove=r,n},delete_action:function(){var e={$delete:""};return e}},Rn=function(){};Rt.extend(Rn.prototype,Dn),Rn.prototype._init=function(e,t,n){this._mixpanel=e,this._group_key=t,this._group_id=n},Rn.prototype.set=Qt((function(e,t,n){var r=this.set_action(e,t);return Rt.isObject(e)&&(n=t),this._send_request(r,n)})),Rn.prototype.set_once=Qt((function(e,t,n){var r=this.set_once_action(e,t);return Rt.isObject(e)&&(n=t),this._send_request(r,n)})),Rn.prototype.unset=Qt((function(e,t){var n=this.unset_action(e);return this._send_request(n,t)})),Rn.prototype.union=Qt((function(e,t,n){Rt.isObject(e)&&(n=t);var r=this.union_action(e,t);return this._send_request(r,n)})),Rn.prototype.delete=Qt((function(e){var t=this.delete_action();return this._send_request(t,e)})),Rn.prototype.remove=Qt((function(e,t,n){var r=this.remove_action(e,t);return this._send_request(r,n)})),Rn.prototype._send_request=function(e,t){e.$group_key=this._group_key,e.$group_id=this._group_id,e.$token=this._get_config("token");var n=Rt.encodeDates(e);return this._mixpanel._track_or_batch({type:"groups",data:n,endpoint:this._get_config("api_host")+"/"+this._get_config("api_routes").groups,batcher:this._mixpanel.request_batchers.groups},t)},Rn.prototype._is_reserved_property=function(e){return"$group_key"===e||"$group_id"===e},Rn.prototype._get_config=function(e){return this._mixpanel.get_config(e)},Rn.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id},Rn.prototype.remove=Rn.prototype.remove,Rn.prototype.set=Rn.prototype.set,Rn.prototype.set_once=Rn.prototype.set_once,Rn.prototype.union=Rn.prototype.union,Rn.prototype.unset=Rn.prototype.unset,Rn.prototype.toString=Rn.prototype.toString;var Mn=function(){};Rt.extend(Mn.prototype,Dn),Mn.prototype._init=function(e){this._mixpanel=e},Mn.prototype.set=Yt((function(e,t,n){var r=this.set_action(e,t);return Rt.isObject(e)&&(n=t),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),r.$set=Rt.extend({},Rt.info.people_properties(),r.$set),this._send_request(r,n)})),Mn.prototype.set_once=Yt((function(e,t,n){var r=this.set_once_action(e,t);return Rt.isObject(e)&&(n=t),this._send_request(r,n)})),Mn.prototype.unset=Yt((function(e,t){var n=this.unset_action(e);return this._send_request(n,t)})),Mn.prototype.increment=Yt((function(e,t,n){var r={},i={};return Rt.isObject(e)?(Rt.each(e,(function(e,t){if(!this._is_reserved_property(t)){if(isNaN(parseFloat(e)))return void Mt.error("Invalid increment value passed to mixpanel.people.increment - must be a number");i[t]=e}}),this),n=t):(Rt.isUndefined(t)&&(t=1),i[e]=t),r.$add=i,this._send_request(r,n)})),Mn.prototype.append=Yt((function(e,t,n){Rt.isObject(e)&&(n=t);var r=this.append_action(e,t);return this._send_request(r,n)})),Mn.prototype.remove=Yt((function(e,t,n){Rt.isObject(e)&&(n=t);var r=this.remove_action(e,t);return this._send_request(r,n)})),Mn.prototype.union=Yt((function(e,t,n){Rt.isObject(e)&&(n=t);var r=this.union_action(e,t);return this._send_request(r,n)})),Mn.prototype.track_charge=Yt((function(e,t,n){if(Rt.isNumber(e)||(e=parseFloat(e),!isNaN(e)))return this.append("$transactions",Rt.extend({$amount:e},t),n);Mt.error("Invalid value passed to mixpanel.people.track_charge - must be a number")})),Mn.prototype.clear_charges=function(e){return this.set("$transactions",[],e)},Mn.prototype.delete_user=function(){if(this._identify_called()){var e={$delete:this._mixpanel.get_distinct_id()};return this._send_request(e)}Mt.error("mixpanel.people.delete_user() requires you to call identify() first")},Mn.prototype.toString=function(){return this._mixpanel.toString()+".people"},Mn.prototype._send_request=function(e,t){e.$token=this._get_config("token"),e.$distinct_id=this._mixpanel.get_distinct_id();var n=this._mixpanel.get_property("$device_id"),r=this._mixpanel.get_property("$user_id"),i=this._mixpanel.get_property("$had_persisted_distinct_id");n&&(e.$device_id=n),r&&(e.$user_id=r),i&&(e.$had_persisted_distinct_id=i);var o=Rt.encodeDates(e);return this._identify_called()?this._mixpanel._track_or_batch({type:"people",data:o,endpoint:this._get_config("api_host")+"/"+this._get_config("api_routes").engage,batcher:this._mixpanel.request_batchers.people},t):(this._enqueue(e),Rt.isUndefined(t)||(this._get_config("verbose")?t({status:-1,error:null}):t(-1)),Rt.truncate(o,255))},Mn.prototype._get_config=function(e){return this._mixpanel.get_config(e)},Mn.prototype._identify_called=function(){return!0===this._mixpanel._flags.identify_called},Mn.prototype._enqueue=function(e){En in e?this._mixpanel.persistence._add_to_people_queue(En,e):Sn in e?this._mixpanel.persistence._add_to_people_queue(Sn,e):Tn in e?this._mixpanel.persistence._add_to_people_queue(Tn,e):In in e?this._mixpanel.persistence._add_to_people_queue(In,e):kn in e?this._mixpanel.persistence._add_to_people_queue(kn,e):An in e?this._mixpanel.persistence._add_to_people_queue(An,e):xn in e?this._mixpanel.persistence._add_to_people_queue(xn,e):Mt.error("Invalid call to _enqueue():",e)},Mn.prototype._flush_one_queue=function(e,t,n,r){var i=this,o=Rt.extend({},this._mixpanel.persistence.load_queue(e)),s=o;Rt.isUndefined(o)||!Rt.isObject(o)||Rt.isEmptyObject(o)||(i._mixpanel.persistence._pop_from_people_queue(e,o),i._mixpanel.persistence.save(),r&&(s=r(o)),t.call(i,s,(function(t,r){0===t&&i._mixpanel.persistence._add_to_people_queue(e,o),Rt.isUndefined(n)||n(t,r)})))},Mn.prototype._flush=function(e,t,n,r,i,o,s){var a=this;this._flush_one_queue(En,this.set,e),this._flush_one_queue(Sn,this.set_once,r),this._flush_one_queue(Tn,this.unset,o,(function(e){return Rt.keys(e)})),this._flush_one_queue(In,this.increment,t),this._flush_one_queue(xn,this.union,i);var c=this._mixpanel.persistence.load_queue(kn);if(!Rt.isUndefined(c)&&Rt.isArray(c)&&c.length)for(var u,l=function(e,t){0===e&&a._mixpanel.persistence._add_to_people_queue(kn,u),Rt.isUndefined(n)||n(e,t)},h=c.length-1;h>=0;h--)c=this._mixpanel.persistence.load_queue(kn),u=c.pop(),a._mixpanel.persistence.save(),Rt.isEmptyObject(u)||a.append(u,l);var d=this._mixpanel.persistence.load_queue(An);if(!Rt.isUndefined(d)&&Rt.isArray(d)&&d.length)for(var p,f=function(e,t){0===e&&a._mixpanel.persistence._add_to_people_queue(An,p),Rt.isUndefined(s)||s(e,t)},m=d.length-1;m>=0;m--)d=this._mixpanel.persistence.load_queue(An),p=d.pop(),a._mixpanel.persistence.save(),Rt.isEmptyObject(p)||a.remove(p,f)},Mn.prototype._is_reserved_property=function(e){return"$distinct_id"===e||"$token"===e||"$device_id"===e||"$user_id"===e||"$had_persisted_distinct_id"===e},Mn.prototype.set=Mn.prototype.set,Mn.prototype.set_once=Mn.prototype.set_once,Mn.prototype.unset=Mn.prototype.unset,Mn.prototype.increment=Mn.prototype.increment,Mn.prototype.append=Mn.prototype.append,Mn.prototype.remove=Mn.prototype.remove,Mn.prototype.union=Mn.prototype.union,Mn.prototype.track_charge=Mn.prototype.track_charge,Mn.prototype.clear_charges=Mn.prototype.clear_charges,Mn.prototype.delete_user=Mn.prototype.delete_user,Mn.prototype.toString=Mn.prototype.toString;var On,Ln="__mps",Nn="__mpso",Pn="__mpus",Fn="__mpa",jn="__mpap",Bn="__mpr",Un="__mpu",Vn="$people_distinct_id",Hn="__alias",qn="__timers",zn=[Ln,Nn,Pn,Fn,jn,Bn,Un,Vn,Hn,qn],$n=function(e){this.props={},this.campaign_params_saved=!1,e.persistence_name?this.name="mp_"+e.persistence_name:this.name="mp_"+e.token+"_mixpanel";var t=e.persistence;"cookie"!==t&&"localStorage"!==t&&(Mt.critical("Unknown persistence type "+t+"; falling back to cookie"),t=e.persistence="cookie"),"localStorage"===t&&Rt.localStorage.is_supported()?this.storage=Rt.localStorage:this.storage=Rt.cookie,this.load(),this.update_config(e),this.upgrade(),this.save()};$n.prototype.properties=function(){var e={};return this.load(),Rt.each(this.props,(function(t,n){Rt.include(zn,n)||(e[n]=t)})),e},$n.prototype.load=function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=Rt.extend({},e))}},$n.prototype.upgrade=function(){var e,t;this.storage===Rt.localStorage?(e=Rt.cookie.parse(this.name),Rt.cookie.remove(this.name),Rt.cookie.remove(this.name,!0),e&&this.register_once(e)):this.storage===Rt.cookie&&(t=Rt.localStorage.parse(this.name),Rt.localStorage.remove(this.name),t&&this.register_once(t))},$n.prototype.save=function(){this.disabled||this.storage.set(this.name,Rt.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain)},$n.prototype.load_prop=function(e){return this.load(),this.props[e]},$n.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)},$n.prototype.clear=function(){this.remove(),this.props={}},$n.prototype.register_once=function(e,t,n){return!!Rt.isObject(e)&&("undefined"===typeof t&&(t="None"),this.expire_days="undefined"===typeof n?this.default_expiry:n,this.load(),Rt.each(e,(function(e,n){this.props.hasOwnProperty(n)&&this.props[n]!==t||(this.props[n]=e)}),this),this.save(),!0)},$n.prototype.register=function(e,t){return!!Rt.isObject(e)&&(this.expire_days="undefined"===typeof t?this.default_expiry:t,this.load(),Rt.extend(this.props,e),this.save(),!0)},$n.prototype.unregister=function(e){this.load(),e in this.props&&(delete this.props[e],this.save())},$n.prototype.update_search_keyword=function(e){this.register(Rt.info.searchInfo(e))},$n.prototype.update_referrer_info=function(e){this.register_once({$initial_referrer:e||"$direct",$initial_referring_domain:Rt.info.referringDomain(e)||"$direct"},"")},$n.prototype.get_referrer_info=function(){return Rt.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})},$n.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cookie_domain(e.cookie_domain),this.set_cross_site(e.cross_site_cookie),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)},$n.prototype.set_disabled=function(e){this.disabled=e,this.disabled?this.remove():this.save()},$n.prototype.set_cookie_domain=function(e){e!==this.cookie_domain&&(this.remove(),this.cookie_domain=e,this.save())},$n.prototype.set_cross_site=function(e){e!==this.cross_site&&(this.cross_site=e,this.remove(),this.save())},$n.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())},$n.prototype.get_cross_subdomain=function(){return this.cross_subdomain},$n.prototype.set_secure=function(e){e!==this.secure&&(this.secure=!!e,this.remove(),this.save())},$n.prototype._add_to_people_queue=function(e,t){var n=this._get_queue_key(e),r=t[e],i=this._get_or_create_queue(En),o=this._get_or_create_queue(Sn),s=this._get_or_create_queue(Tn),a=this._get_or_create_queue(In),c=this._get_or_create_queue(xn),u=this._get_or_create_queue(An,[]),l=this._get_or_create_queue(kn,[]);n===Ln?(Rt.extend(i,r),this._pop_from_people_queue(In,r),this._pop_from_people_queue(xn,r),this._pop_from_people_queue(Tn,r)):n===Nn?(Rt.each(r,(function(e,t){t in o||(o[t]=e)})),this._pop_from_people_queue(Tn,r)):n===Pn?Rt.each(r,(function(e){Rt.each([i,o,a,c],(function(t){e in t&&delete t[e]})),Rt.each(l,(function(t){e in t&&delete t[e]})),s[e]=!0})):n===Fn?(Rt.each(r,(function(e,t){t in i?i[t]+=e:(t in a||(a[t]=0),a[t]+=e)}),this),this._pop_from_people_queue(Tn,r)):n===Un?(Rt.each(r,(function(e,t){Rt.isArray(e)&&(t in c||(c[t]=[]),c[t]=c[t].concat(e))})),this._pop_from_people_queue(Tn,r)):n===Bn?(u.push(r),this._pop_from_people_queue(kn,r)):n===jn&&(l.push(r),this._pop_from_people_queue(Tn,r)),Mt.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),Mt.log(t),this.save()},$n.prototype._pop_from_people_queue=function(e,t){var n=this.props[this._get_queue_key(e)];Rt.isUndefined(n)||Rt.each(t,(function(t,r){e===kn||e===An?Rt.each(n,(function(e){e[r]===t&&delete e[r]})):delete n[r]}),this)},$n.prototype.load_queue=function(e){return this.load_prop(this._get_queue_key(e))},$n.prototype._get_queue_key=function(e){return e===En?Ln:e===Sn?Nn:e===Tn?Pn:e===In?Fn:e===kn?jn:e===An?Bn:e===xn?Un:void Mt.error("Invalid queue:",e)},$n.prototype._get_or_create_queue=function(e,t){var n=this._get_queue_key(e);return t=Rt.isUndefined(t)?{}:t,this.props[n]||(this.props[n]=t)},$n.prototype.set_event_timer=function(e,t){var n=this.load_prop(qn)||{};n[e]=t,this.props.__timers=n,this.save()},$n.prototype.remove_event_timer=function(e){var t=(this.load_prop(qn)||{})[e];return Rt.isUndefined(t)||(delete this.props.__timers[e],this.save()),t};var Wn,Gn=function(e,t){throw new Error(e+" not available in this build.")},Zn=function(e){return e},Kn=function(){},Jn="mixpanel",Xn="base64",Yn="$device:",Qn=st.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,er=!Qn&&-1===St.indexOf("MSIE")&&-1===St.indexOf("Mozilla"),tr=null;bt.sendBeacon&&(tr=function(){return bt.sendBeacon.apply(bt,arguments)});var nr={track:"track/",engage:"engage/",groups:"groups/",record:"record/"},rr={api_host:"https://api-js.mixpanel.com",api_routes:nr,api_method:"POST",api_transport:"XHR",api_payload_format:Xn,app_host:"https://mixpanel.com",cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,error_reporter:Kn,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:Kn,mp_loader:null,track_marketing:!0,track_pageview:!1,skip_first_touch_marketing:!1,store_google:!0,stop_utm_persistence:!1,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},ignore_dnt:!1,batch_requests:!0,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4,batch_autostart:!0,hooks:{},record_block_class:new RegExp("^(mp-block|fs-exclude|amp-block|rr-block|ph-no-capture)$"),record_block_selector:"img, video",record_collect_fonts:!1,record_idle_timeout_ms:18e5,record_inline_images:!1,record_mask_text_class:new RegExp("^(mp-mask|fs-mask|amp-mask|rr-mask|ph-mask)$"),record_mask_text_selector:"*",record_max_ms:ht,record_min_ms:0,record_sessions_percent:0,recorder_src:"https://cdn.mxpnl.com/libs/mixpanel-recorder.min.js"},ir=!1,or=function(){},sr=function(e,t,n){var r,i=n===Jn?Wn:Wn[n];if(i&&0===On)r=i;else{if(i&&!Rt.isArray(i))return void Mt.error("You have already initialized "+n);r=new or}if(r._cached_groups={},r._init(e,t,n),r.people=new Mn,r.people._init(r),!r.get_config("skip_first_touch_marketing")){var o=Rt.info.campaignParams(null),s={},a=!1;Rt.each(o,(function(e,t){s["initial_"+t]=e,e&&(a=!0)})),a&&r.people.set_once(s)}return ut.DEBUG=ut.DEBUG||r.get_config("debug"),!Rt.isUndefined(i)&&Rt.isArray(i)&&(r._execute_array.call(r.people,i.people),r._execute_array(i)),r};or.prototype.init=function(e,t,n){if(Rt.isUndefined(n))this.report_error("You must name your new library: init(token, config, name)");else{if(n!==Jn){var r=sr(e,t,n);return Wn[n]=r,r._loaded(),r}this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet")}},or.prototype._init=function(e,t,n){t=t||{},this.__loaded=!0,this.config={};var r={};"api_payload_format"in t||(t.api_host||rr.api_host).match(/\.mixpanel\.com/)&&(r.api_payload_format="json");if(this.set_config(Rt.extend({},rr,r,t,{name:n,token:e,callback_fn:(n===Jn?n:"mixpanel."+n)+"._jsc"})),this._jsc=Kn,this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests)if(Rt.localStorage.is_supported(!0)&&Qn){if(this.init_batchers(),tr&&st.addEventListener){var i=Rt.bind((function(){this.request_batchers.events.stopped||this.request_batchers.events.flush({unloading:!0})}),this);st.addEventListener("pagehide",(function(e){e.persisted&&i()})),st.addEventListener("visibilitychange",(function(){"hidden"===wt.visibilityState&&i()}))}}else this._batch_requests=!1,Mt.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support"),Rt.each(this.get_batcher_configs(),(function(e){Mt.log("Clearing batch queue "+e.queue_key),Rt.localStorage.remove(e.queue_key)}));this.persistence=this.cookie=new $n(this.config),this.unpersisted_superprops={},this._gdpr_init();var o=Rt.UUID();this.get_distinct_id()||this.register_once({distinct_id:Yn+o,$device_id:o},"");var s=this.get_config("track_pageview");s&&this._init_url_change_tracking(s),this.get_config("record_sessions_percent")>0&&100*Math.random()<=this.get_config("record_sessions_percent")&&this.start_session_recording()},or.prototype.start_session_recording=Xt((function(){if(st.MutationObserver){var e=Rt.bind((function(){this._recorder=this._recorder||new st.__mp_recorder(this),this._recorder.startRecording()}),this);Rt.isUndefined(st.__mp_recorder)?Gn(this.get_config("recorder_src"),e):e()}else Mt.critical("Browser does not support MutationObserver; skipping session recording")})),or.prototype.stop_session_recording=function(){this._recorder?this._recorder.stopRecording():Mt.critical("Session recorder module not loaded")},or.prototype.get_session_recording_properties=function(){var e={};if(this._recorder){var t=this._recorder.replayId;t&&(e.$mp_replay_id=t)}return e},or.prototype._loaded=function(){if(this.get_config("loaded")(this),this._set_default_superprops(),this.people.set_once(this.persistence.get_referrer_info()),this.get_config("store_google")&&this.get_config("stop_utm_persistence")){var e=Rt.info.campaignParams(null);Rt.each(e,function(e,t){this.unregister(t)}.bind(this))}},or.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(wt.referrer),this.get_config("store_google")&&!this.get_config("stop_utm_persistence")&&this.register(Rt.info.campaignParams()),this.get_config("save_referrer")&&this.persistence.update_referrer_info(wt.referrer)},or.prototype._dom_loaded=function(){Rt.each(this.__dom_loaded_queue,(function(e){this._track_dom.apply(this,e)}),this),this.has_opted_out_tracking()||Rt.each(this.__request_queue,(function(e){this._send_request.apply(this,e)}),this),delete this.__dom_loaded_queue,delete this.__request_queue},or.prototype._track_dom=function(e,t){if(this.get_config("img"))return this.report_error("You can't use DOM tracking functions with img = true."),!1;if(!ir)return this.__dom_loaded_queue.push([e,t]),!1;var n=(new e).init(this);return n.track.apply(n,t)},or.prototype._init_url_change_tracking=function(e){var t="";if(this.track_pageview()&&(t=Rt.info.currentUrl()),Rt.include(["full-url","url-with-path-and-query-string","url-with-path"],e)){st.addEventListener("popstate",(function(){st.dispatchEvent(new Event("mp_locationchange"))})),st.addEventListener("hashchange",(function(){st.dispatchEvent(new Event("mp_locationchange"))}));var n=st.history.pushState;"function"===typeof n&&(st.history.pushState=function(e,t,r){n.call(st.history,e,t,r),st.dispatchEvent(new Event("mp_locationchange"))});var r=st.history.replaceState;"function"===typeof r&&(st.history.replaceState=function(e,t,n){r.call(st.history,e,t,n),st.dispatchEvent(new Event("mp_locationchange"))}),st.addEventListener("mp_locationchange",function(){var n=Rt.info.currentUrl(),r=!1;("full-url"===e?r=n!==t:"url-with-path-and-query-string"===e?r=n.split("#")[0]!==t.split("#")[0]:"url-with-path"===e&&(r=n.split("#")[0].split("?")[0]!==t.split("#")[0].split("?")[0]),r)&&(this.track_pageview()&&(t=n))}.bind(this))}},or.prototype._prepare_callback=function(e,t){if(Rt.isUndefined(e))return null;if(Qn){return function(n){e(n,t)}}var n=this._jsc,r=""+Math.floor(1e8*Math.random()),i=this.get_config("callback_fn")+"["+r+"]";return n[r]=function(i){delete n[r],e(i,t)},i},or.prototype._send_request=function(e,t,n,r){var i=!0;if(er)return this.__request_queue.push(arguments),i;var o={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},s=null;r||!Rt.isFunction(n)&&"string"!==typeof n||(r=n,n=null),n=Rt.extend(o,n||{}),Qn||(n.method="GET");var a="POST"===n.method,c=tr&&a&&"sendbeacon"===n.transport.toLowerCase(),u=n.verbose;t.verbose&&(u=!0),this.get_config("test")&&(t.test=1),u&&(t.verbose=1),this.get_config("img")&&(t.img=1),Qn||(r?t.callback=r:(u||this.get_config("test"))&&(t.callback="(function(){})")),t.ip=this.get_config("ip")?1:0,t._=(new Date).getTime().toString(),a&&(s="data="+encodeURIComponent(t.data),delete t.data),e+="?"+Rt.HTTPBuildQuery(t);var l=this;if("img"in t){var h=wt.createElement("img");h.src=e,wt.body.appendChild(h)}else if(c){try{i=tr(e,s)}catch(v){l.report_error(v),i=!1}try{r&&r(i?1:0)}catch(v){l.report_error(v)}}else if(Qn)try{var d=new XMLHttpRequest;d.open(n.method,e,!0);var p=this.get_config("xhr_headers");if(a&&(p["Content-Type"]="application/x-www-form-urlencoded"),Rt.each(p,(function(e,t){d.setRequestHeader(t,e)})),n.timeout_ms&&"undefined"!==typeof d.timeout){d.timeout=n.timeout_ms;var f=(new Date).getTime()}d.withCredentials=!0,d.onreadystatechange=function(){var e;if(4===d.readyState)if(200===d.status){if(r)if(u){var t;try{t=Rt.JSONDecode(d.responseText)}catch(v){if(l.report_error(v),!n.ignore_json_errors)return;t=d.responseText}r(t)}else r(Number(d.responseText))}else if(e=d.timeout&&!d.status&&(new Date).getTime()-f>=d.timeout?"timeout":"Bad HTTP status: "+d.status+" "+d.statusText,l.report_error(e),r)if(u){var i=d.responseHeaders||{};r({status:0,httpStatusCode:d.status,error:e,retryAfter:i["Retry-After"]})}else r(0)},d.send(s)}catch(v){l.report_error(v),i=!1}else{var m=wt.createElement("script");m.type="text/javascript",m.async=!0,m.defer=!0,m.src=e;var g=wt.getElementsByTagName("script")[0];g.parentNode.insertBefore(m,g)}return i},or.prototype._execute_array=function(e){var t,n=[],r=[],i=[];Rt.each(e,(function(e){e&&(t=e[0],Rt.isArray(t)?i.push(e):"function"===typeof e?e.call(this):Rt.isArray(e)&&"alias"===t?n.push(e):Rt.isArray(e)&&-1!==t.indexOf("track")&&"function"===typeof this[t]?i.push(e):r.push(e))}),this);var o=function(e,t){Rt.each(e,(function(e){if(Rt.isArray(e[0])){var n=t;Rt.each(e,(function(e){n=n[e[0]].apply(n,e.slice(1))}))}else this[e[0]].apply(this,e.slice(1))}),t)};o(n,this),o(r,this),o(i,this)},or.prototype.are_batchers_initialized=function(){return!!this.request_batchers.events},or.prototype.get_batcher_configs=function(){var e="__mpq_"+this.get_config("token"),t=this.get_config("api_routes");return this._batcher_configs=this._batcher_configs||{events:{type:"events",endpoint:"/"+t.track,queue_key:e+"_ev"},people:{type:"people",endpoint:"/"+t.engage,queue_key:e+"_pp"},groups:{type:"groups",endpoint:"/"+t.groups,queue_key:e+"_gr"}},this._batcher_configs},or.prototype.init_batchers=function(){if(!this.are_batchers_initialized()){var e=Rt.bind((function(e){return new fn(e.queue_key,{libConfig:this.config,errorReporter:this.get_config("error_reporter"),sendRequestFunc:Rt.bind((function(t,n,r){this._send_request(this.get_config("api_host")+e.endpoint,this._encode_data_for_request(t),n,this._prepare_callback(r,t))}),this),beforeSendHook:Rt.bind((function(t){return this._run_hook("before_send_"+e.type,t)}),this),stopAllBatchingFunc:Rt.bind(this.stop_batch_senders,this),usePersistence:!0})}),this),t=this.get_batcher_configs();this.request_batchers={events:e(t.events),people:e(t.people),groups:e(t.groups)}}this.get_config("batch_autostart")&&this.start_batch_senders()},or.prototype.start_batch_senders=function(){this._batchers_were_started=!0,this.are_batchers_initialized()&&(this._batch_requests=!0,Rt.each(this.request_batchers,(function(e){e.start()})))},or.prototype.stop_batch_senders=function(){this._batch_requests=!1,Rt.each(this.request_batchers,(function(e){e.stop(),e.clear()}))},or.prototype.push=function(e){this._execute_array([e])},or.prototype.disable=function(e){"undefined"===typeof e?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(e)},or.prototype._encode_data_for_request=function(e){var t=Rt.JSONEncode(e);return this.get_config("api_payload_format")===Xn&&(t=Rt.base64Encode(t)),{data:t}},or.prototype._track_or_batch=function(e,t){var n=Rt.truncate(e.data,255),r=e.endpoint,i=e.batcher,o=e.should_send_immediately,s=e.send_request_options||{};t=t||Kn;var a=!0,c=Rt.bind((function(){return s.skip_hooks||(n=this._run_hook("before_send_"+e.type,n)),n?(Mt.log("MIXPANEL REQUEST:"),Mt.log(n),this._send_request(r,this._encode_data_for_request(n),s,this._prepare_callback(t,n))):null}),this);return this._batch_requests&&!o?i.enqueue(n,(function(e){e?t(1,n):c()})):a=c(),a&&n},or.prototype.track=Xt((function(e,t,n,r){r||"function"!==typeof n||(r=n,n=null);var i=(n=n||{}).transport;i&&(n.transport=i);var o=n.send_immediately;if("function"!==typeof r&&(r=Kn),Rt.isUndefined(e))this.report_error("No event name provided to mixpanel.track");else{if(!this._event_is_disabled(e)){(t=Rt.extend({},t)).token=this.get_config("token");var s=this.persistence.remove_event_timer(e);if(!Rt.isUndefined(s)){var a=(new Date).getTime()-s;t.$duration=parseFloat((a/1e3).toFixed(3))}this._set_default_superprops();var c=this.get_config("track_marketing")?Rt.info.marketingParams():{};t=Rt.extend({},Rt.info.properties({mp_loader:this.get_config("mp_loader")}),c,this.persistence.properties(),this.unpersisted_superprops,this.get_session_recording_properties(),t);var u=this.get_config("property_blacklist");Rt.isArray(u)?Rt.each(u,(function(e){delete t[e]})):this.report_error("Invalid value for property_blacklist config: "+u);var l={event:e,properties:t};return this._track_or_batch({type:"events",data:l,endpoint:this.get_config("api_host")+"/"+this.get_config("api_routes").track,batcher:this.request_batchers.events,should_send_immediately:o,send_request_options:n},r)}r(0)}})),or.prototype.set_group=Xt((function(e,t,n){Rt.isArray(t)||(t=[t]);var r={};return r[e]=t,this.register(r),this.people.set(e,t,n)})),or.prototype.add_group=Xt((function(e,t,n){var r=this.get_property(e),i={};return void 0===r?(i[e]=[t],this.register(i)):-1===r.indexOf(t)&&(r.push(t),i[e]=r,this.register(i)),this.people.union(e,t,n)})),or.prototype.remove_group=Xt((function(e,t,n){var r=this.get_property(e);if(void 0!==r){var i=r.indexOf(t);i>-1&&(r.splice(i,1),this.register({group_key:r})),0===r.length&&this.unregister(e)}return this.people.remove(e,t,n)})),or.prototype.track_with_groups=Xt((function(e,t,n,r){var i=Rt.extend({},t||{});return Rt.each(n,(function(e,t){null!==e&&void 0!==e&&(i[t]=e)})),this.track(e,i,r)})),or.prototype._create_map_key=function(e,t){return e+"_"+JSON.stringify(t)},or.prototype._remove_group_from_cache=function(e,t){delete this._cached_groups[this._create_map_key(e,t)]},or.prototype.get_group=function(e,t){var n=this._create_map_key(e,t),r=this._cached_groups[n];return void 0!==r&&r._group_key===e&&r._group_id===t||((r=new Rn)._init(this,e,t),this._cached_groups[n]=r),r},or.prototype.track_pageview=Xt((function(e,t){"object"!==typeof e&&(e={});var n=(t=t||{}).event_name||"$mp_web_page_view",r=Rt.extend(Rt.info.mpPageViewProperties(),Rt.info.campaignParams(),Rt.info.clickParams()),i=Rt.extend({},r,e);return this.track(n,i)})),or.prototype.track_links=function(){return this._track_dom.call(this,wn,arguments)},or.prototype.track_forms=function(){return this._track_dom.call(this,Cn,arguments)},or.prototype.time_event=function(e){Rt.isUndefined(e)?this.report_error("No event name provided to mixpanel.time_event"):this._event_is_disabled(e)||this.persistence.set_event_timer(e,(new Date).getTime())};var ar={persistent:!0},cr=function(e){var t;return t=Rt.isObject(e)?e:Rt.isUndefined(e)?{}:{days:e},Rt.extend({},ar,t)};or.prototype.register=function(e,t){var n=cr(t);n.persistent?this.persistence.register(e,n.days):Rt.extend(this.unpersisted_superprops,e)},or.prototype.register_once=function(e,t,n){var r=cr(n);r.persistent?this.persistence.register_once(e,t,r.days):("undefined"===typeof t&&(t="None"),Rt.each(e,(function(e,n){this.unpersisted_superprops.hasOwnProperty(n)&&this.unpersisted_superprops[n]!==t||(this.unpersisted_superprops[n]=e)}),this))},or.prototype.unregister=function(e,t){(t=cr(t)).persistent?this.persistence.unregister(e):delete this.unpersisted_superprops[e]},or.prototype._register_single=function(e,t){var n={};n[e]=t,this.register(n)},or.prototype.identify=function(e,t,n,r,i,o,s,a){var c=this.get_distinct_id();if(e&&c!==e){if("string"===typeof e&&0===e.indexOf(Yn))return this.report_error("distinct_id cannot have $device: prefix"),-1;this.register({$user_id:e})}if(!this.get_property("$device_id")){var u=c;this.register_once({$had_persisted_distinct_id:!0,$device_id:u},"")}e!==c&&e!==this.get_property(Hn)&&(this.unregister(Hn),this.register({distinct_id:e})),this._flags.identify_called=!0,this.people._flush(t,n,r,i,o,s,a),e!==c&&this.track("$identify",{distinct_id:e,$anon_distinct_id:c},{skip_hooks:!0})},or.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1;var e=Rt.UUID();this.register_once({distinct_id:Yn+e,$device_id:e},"")},or.prototype.get_distinct_id=function(){return this.get_property("distinct_id")},or.prototype.alias=function(e,t){if(e===this.get_property(Vn))return this.report_error("Attempting to create alias for existing People user - aborting."),-2;var n=this;return Rt.isUndefined(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(Hn,e),this.track("$create_alias",{alias:e,distinct_id:t},{skip_hooks:!0},(function(){n.identify(e)}))):(this.report_error("alias matches current distinct_id - skipping api call."),this.identify(e),-1)},or.prototype.name_tag=function(e){this._register_single("mp_name_tag",e)},or.prototype.set_config=function(e){Rt.isObject(e)&&(Rt.extend(this.config,e),e.batch_size&&Rt.each(this.request_batchers,(function(e){e.resetBatchSize()})),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),ut.DEBUG=ut.DEBUG||this.get_config("debug"))},or.prototype.get_config=function(e){return this.config[e]},or.prototype._run_hook=function(e){var t=(this.config.hooks[e]||Zn).apply(this,gt.call(arguments,1));return"undefined"===typeof t&&(this.report_error(e+" hook did not return a value"),t=null),t},or.prototype.get_property=function(e){return this.persistence.load_prop([e])},or.prototype.toString=function(){var e=this.get_config("name");return e!==Jn&&(e="mixpanel."+e),e},or.prototype._event_is_disabled=function(e){return Rt.isBlockedUA(St)||this._flags.disable_all_events||Rt.include(this.__disabled_events,e)},or.prototype._gdpr_init=function(){"localStorage"===this.get_config("opt_out_tracking_persistence_type")&&Rt.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_tracking()||!this.get_config("opt_out_tracking_by_default")&&!Rt.cookie.get("mp_optout")||(Rt.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))},or.prototype._gdpr_update_persistence=function(e){var t;if(e&&e.clear_persistence)t=!0;else{if(!e||!e.enable_persistence)return;t=!1}this.get_config("disable_persistence")||this.persistence.disabled===t||this.persistence.set_disabled(t),t?this.stop_batch_senders():this._batchers_were_started&&this.start_batch_senders()},or.prototype._gdpr_call_func=function(e,t){return t=Rt.extend({track:Rt.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},t),Rt.localStorage.is_supported()||(t.persistence_type="cookie"),e(this.get_config("token"),{track:t.track,trackEventName:t.track_event_name,trackProperties:t.track_properties,persistenceType:t.persistence_type,persistencePrefix:t.cookie_prefix,cookieDomain:t.cookie_domain,cookieExpiration:t.cookie_expiration,crossSiteCookie:t.cross_site_cookie,crossSubdomainCookie:t.cross_subdomain_cookie,secureCookie:t.secure_cookie,ignoreDnt:t.ignore_dnt})},or.prototype.opt_in_tracking=function(e){e=Rt.extend({enable_persistence:!0},e),this._gdpr_call_func(Gt,e),this._gdpr_update_persistence(e)},or.prototype.opt_out_tracking=function(e){(e=Rt.extend({clear_persistence:!0,delete_user:!0},e)).delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(Zt,e),this._gdpr_update_persistence(e)},or.prototype.has_opted_in_tracking=function(e){return this._gdpr_call_func(Kt,e)},or.prototype.has_opted_out_tracking=function(e){return this._gdpr_call_func(Jt,e)},or.prototype.clear_opt_in_out_tracking=function(e){e=Rt.extend({enable_persistence:!0},e),this._gdpr_call_func(en,e),this._gdpr_update_persistence(e)},or.prototype.report_error=function(e,t){Mt.error.apply(Mt.error,arguments);try{t||e instanceof Error||(e=new Error(e)),this.get_config("error_reporter")(e,t)}catch(t){Mt.error(t)}},or.prototype.init=or.prototype.init,or.prototype.reset=or.prototype.reset,or.prototype.disable=or.prototype.disable,or.prototype.time_event=or.prototype.time_event,or.prototype.track=or.prototype.track,or.prototype.track_links=or.prototype.track_links,or.prototype.track_forms=or.prototype.track_forms,or.prototype.track_pageview=or.prototype.track_pageview,or.prototype.register=or.prototype.register,or.prototype.register_once=or.prototype.register_once,or.prototype.unregister=or.prototype.unregister,or.prototype.identify=or.prototype.identify,or.prototype.alias=or.prototype.alias,or.prototype.name_tag=or.prototype.name_tag,or.prototype.set_config=or.prototype.set_config,or.prototype.get_config=or.prototype.get_config,or.prototype.get_property=or.prototype.get_property,or.prototype.get_distinct_id=or.prototype.get_distinct_id,or.prototype.toString=or.prototype.toString,or.prototype.opt_out_tracking=or.prototype.opt_out_tracking,or.prototype.opt_in_tracking=or.prototype.opt_in_tracking,or.prototype.has_opted_out_tracking=or.prototype.has_opted_out_tracking,or.prototype.has_opted_in_tracking=or.prototype.has_opted_in_tracking,or.prototype.clear_opt_in_out_tracking=or.prototype.clear_opt_in_out_tracking,or.prototype.get_group=or.prototype.get_group,or.prototype.set_group=or.prototype.set_group,or.prototype.add_group=or.prototype.add_group,or.prototype.remove_group=or.prototype.remove_group,or.prototype.track_with_groups=or.prototype.track_with_groups,or.prototype.start_batch_senders=or.prototype.start_batch_senders,or.prototype.stop_batch_senders=or.prototype.stop_batch_senders,or.prototype.start_session_recording=or.prototype.start_session_recording,or.prototype.stop_session_recording=or.prototype.stop_session_recording,or.prototype.get_session_recording_properties=or.prototype.get_session_recording_properties,or.prototype.DEFAULT_API_ROUTES=nr,$n.prototype.properties=$n.prototype.properties,$n.prototype.update_search_keyword=$n.prototype.update_search_keyword,$n.prototype.update_referrer_info=$n.prototype.update_referrer_info,$n.prototype.get_cross_subdomain=$n.prototype.get_cross_subdomain,$n.prototype.clear=$n.prototype.clear;var ur={},lr=function(){Wn.init=function(e,t,n){if(n)return Wn[n]||(Wn[n]=ur[n]=sr(e,t,n),Wn[n]._loaded()),Wn[n];var r=Wn;ur.mixpanel?r=ur.mixpanel:e&&((r=sr(e,t,Jn))._loaded(),ur.mixpanel=r),Wn=r,1===On&&(st.mixpanel=Wn),Rt.each(ur,(function(e,t){t!==Jn&&(Wn[t]=e)})),Wn._=Rt}};var hr=(Gn=function(e,t){t()},On=0,Wn=new or,lr(),Wn.init(),function(){function e(){e.done||(e.done=!0,ir=!0,er=!1,Rt.each(ur,(function(e){e._dom_loaded()})))}if(wt.addEventListener)"complete"===wt.readyState?e():wt.addEventListener("DOMContentLoaded",e,!1);else if(wt.attachEvent){wt.attachEvent("onreadystatechange",e);var t=!1;try{t=null===st.frameElement}catch(n){}wt.documentElement.doScroll&&t&&function t(){try{wt.documentElement.doScroll("left")}catch(n){return void setTimeout(t,1)}e()}()}Rt.register_event(st,"load",e,!0)}(),Wn)},3542:function(e,t,n){"use strict";var r,i;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"===typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(2351)},283:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(5473)}])},5253:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDomainLocale=function(e,t,n,r){return!1};("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},162:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4566).Z;n(9178).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(3903).Z,o=n(5154).Z,s=i(n(2784)),a=n(9918),c=n(4400),u=n(3220),l=n(4069),h=n(2030),d=n(5253),p=n(3952),f={};function m(e,t,n,r){if(e&&a.isLocalURL(t)){Promise.resolve(e.prefetch(t,n,r)).catch((function(e){0}));var i=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;f[t+"%"+n+(i?"%"+i:"")]=!0}}var g=s.default.forwardRef((function(e,t){var n,i=e.href,g=e.as,v=e.children,y=e.prefetch,_=e.passHref,b=e.replace,w=e.shallow,C=e.scroll,E=e.locale,S=e.onClick,T=e.onMouseEnter,I=e.onTouchStart,k=e.legacyBehavior,x=void 0===k?!0!==Boolean(!1):k,A=o(e,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter","onTouchStart","legacyBehavior"]);n=v,!x||"string"!==typeof n&&"number"!==typeof n||(n=s.default.createElement("a",null,n));var D=!1!==y,R=s.default.useContext(u.RouterContext),M=s.default.useContext(l.AppRouterContext);M&&(R=M);var O,L=s.default.useMemo((function(){var e=r(a.resolveHref(R,i,!0),2),t=e[0],n=e[1];return{href:t,as:g?a.resolveHref(R,g):n||t}}),[R,i,g]),N=L.href,P=L.as,F=s.default.useRef(N),j=s.default.useRef(P);x&&(O=s.default.Children.only(n));var B=x?O&&"object"===typeof O&&O.ref:t,U=r(h.useIntersection({rootMargin:"200px"}),3),V=U[0],H=U[1],q=U[2],z=s.default.useCallback((function(e){j.current===P&&F.current===N||(q(),j.current=P,F.current=N),V(e),B&&("function"===typeof B?B(e):"object"===typeof B&&(B.current=e))}),[P,B,N,q,V]);s.default.useEffect((function(){var e=H&&D&&a.isLocalURL(N),t="undefined"!==typeof E?E:R&&R.locale,n=f[N+"%"+P+(t?"%"+t:"")];e&&!n&&m(R,N,P,{locale:t})}),[P,N,H,E,D,R]);var $={ref:z,onClick:function(e){x||"function"!==typeof S||S(e),x&&O.props&&"function"===typeof O.props.onClick&&O.props.onClick(e),e.defaultPrevented||function(e,t,n,r,i,o,c,u,l,h){if("A"!==e.currentTarget.nodeName.toUpperCase()||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&a.isLocalURL(n)){e.preventDefault();var d=function(){"beforePopState"in t?t[i?"replace":"push"](n,r,{shallow:o,locale:u,scroll:c}):t[i?"replace":"push"](n,{forceOptimisticNavigation:!h})};l?s.default.startTransition(d):d()}}(e,R,N,P,b,w,C,E,Boolean(M),D)},onMouseEnter:function(e){x||"function"!==typeof T||T(e),x&&O.props&&"function"===typeof O.props.onMouseEnter&&O.props.onMouseEnter(e),!D&&M||a.isLocalURL(N)&&m(R,N,P,{priority:!0})},onTouchStart:function(e){x||"function"!==typeof I||I(e),x&&O.props&&"function"===typeof O.props.onTouchStart&&O.props.onTouchStart(e),!D&&M||a.isLocalURL(N)&&m(R,N,P,{priority:!0})}};if(!x||_||"a"===O.type&&!("href"in O.props)){var W="undefined"!==typeof E?E:R&&R.locale,G=R&&R.isLocaleDomain&&d.getDomainLocale(P,W,R.locales,R.domainLocales);$.href=G||p.addBasePath(c.addLocale(P,W,R&&R.defaultLocale))}return x?s.default.cloneElement(O,$):s.default.createElement("a",Object.assign({},A,$),n)}));t.default=g,("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2030:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4566).Z;Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootRef,n=e.rootMargin,u=e.disabled||!s,l=r(i.useState(!1),2),h=l[0],d=l[1],p=r(i.useState(null),2),f=p[0],m=p[1];i.useEffect((function(){if(s){if(u||h)return;if(f&&f.tagName){var e=function(e,t,n){var r=function(e){var t,n={root:e.root||null,margin:e.rootMargin||""},r=c.find((function(e){return e.root===n.root&&e.margin===n.margin}));if(r&&(t=a.get(r)))return t;var i=new Map,o=new IntersectionObserver((function(e){e.forEach((function(e){var t=i.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return t={id:n,observer:o,elements:i},c.push(n),a.set(n,t),t}(n),i=r.id,o=r.observer,s=r.elements;return s.set(e,t),o.observe(e),function(){if(s.delete(e),o.unobserve(e),0===s.size){o.disconnect(),a.delete(i);var t=c.findIndex((function(e){return e.root===i.root&&e.margin===i.margin}));t>-1&&c.splice(t,1)}}}(f,(function(e){return e&&d(e)}),{root:null==t?void 0:t.current,rootMargin:n});return e}}else if(!h){var r=o.requestIdleCallback((function(){return d(!0)}));return function(){return o.cancelIdleCallback(r)}}}),[f,u,n,t,h]);var g=i.useCallback((function(){d(!1)}),[]);return[m,h,g]};var i=n(2784),o=n(9071),s="function"===typeof IntersectionObserver,a=new Map,c=[];("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4069:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateContext=t.GlobalLayoutRouterContext=t.LayoutRouterContext=t.AppRouterContext=void 0;var r=(0,n(3903).Z)(n(2784)),i=r.default.createContext(null);t.AppRouterContext=i;var o=r.default.createContext(null);t.LayoutRouterContext=o;var s=r.default.createContext(null);t.GlobalLayoutRouterContext=s;var a=r.default.createContext(null);t.TemplateContext=a},5407:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,{FunctionToString:function(){return c},InboundFilters:function(){return f}});var i={};n.r(i),n.d(i,{Breadcrumbs:function(){return Fe},Dedupe:function(){return Ge},GlobalHandlers:function(){return Ee},LinkedErrors:function(){return qe},TryCatch:function(){return De},UserAgent:function(){return We}});var o,s=n(157),a=n(1995),c=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){o=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,a.HK)(this)||this;return o.apply(n,e)}},e.id="FunctionToString",e}(),u=n(8536),l=n(3699),h=n(9660),d="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,p=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],f=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(t,n){t((function(t){var r=n();if(r){var i=r.getIntegration(e);if(i){var o=r.getClient(),a=o?o.getOptions():{},c=function(e,t){void 0===e&&(e={});void 0===t&&(t={});return{allowUrls:(0,s.fl)(e.whitelistUrls||[],e.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:(0,s.fl)(e.blacklistUrls||[],e.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:(0,s.fl)(e.ignoreErrors||[],t.ignoreErrors||[],p),ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(i._options,a);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(t){}return!1}(e))return d&&u.kg.warn("Event dropped due to being internal Sentry Error.\nEvent: "+(0,l.jH)(e)),!0;if(function(e,t){if(!t||!t.length)return!1;return function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,r=void 0===n?"":n,i=t.value,o=void 0===i?"":i;return[""+o,r+": "+o]}catch(s){return d&&u.kg.error("Cannot extract message for event "+(0,l.jH)(e)),[]}return[]}(e).some((function(e){return t.some((function(t){return(0,h.zC)(e,t)}))}))}(e,t.ignoreErrors))return d&&u.kg.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,l.jH)(e)),!0;if(function(e,t){if(!t||!t.length)return!1;var n=g(e);return!!n&&t.some((function(e){return(0,h.zC)(n,e)}))}(e,t.denyUrls))return d&&u.kg.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,l.jH)(e)+".\nUrl: "+g(e)),!0;if(!function(e,t){if(!t||!t.length)return!0;var n=g(e);return!n||t.some((function(e){return(0,h.zC)(n,e)}))}(e,t.allowUrls))return d&&u.kg.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,l.jH)(e)+".\nUrl: "+g(e)),!0;return!1}(t,c)?null:t}}return t}))},e.id="InboundFilters",e}();function m(e){void 0===e&&(e=[]);for(var t=e.length-1;t>=0;t--){var n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}function g(e){try{if(e.stacktrace)return m(e.stacktrace.frames);var t;try{t=e.exception.values[0].stacktrace.frames}catch(n){}return t?m(t):null}catch(r){return d&&u.kg.error("Cannot extract url for event "+(0,l.jH)(e)),null}}var v,y=n(5907),_=n(7183);!function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(v||(v={}));var b=n(4005),w=n(1757),C=n(4194),E=n(4715);var S=n(9038);function T(e,t,n){void 0===t&&(t=1/0),void 0===n&&(n=1/0);try{return k("",e,t,n)}catch(r){return{ERROR:"**non-serializable** ("+r+")"}}}function I(e,t,n){void 0===t&&(t=3),void 0===n&&(n=102400);var r,i=T(e,t);return r=i,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(r))>n?I(e,t-1,n):i}function k(e,t,r,i,o){void 0===r&&(r=1/0),void 0===i&&(i=1/0),void 0===o&&(o=function(){var e="function"===typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(var r=0;r<t.length;r++)if(t[r]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(var r=0;r<t.length;r++)if(t[r]===n){t.splice(r,1);break}}]}());var s=(0,E.CR)(o,2),c=s[0],u=s[1],l=t;if(l&&"function"===typeof l.toJSON)try{return l.toJSON()}catch(v){}if(null===t||["number","boolean","string"].includes(typeof t)&&!(0,w.i2)(t))return t;var h=function(e,t){try{return"domain"===e&&t&&"object"===typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!==typeof n.g&&t===n.g?"[Global]":"undefined"!==typeof window&&t===window?"[Window]":"undefined"!==typeof document&&t===document?"[Document]":(0,w.Cy)(t)?"[SyntheticEvent]":"number"===typeof t&&t!==t?"[NaN]":void 0===t?"[undefined]":"function"===typeof t?"[Function: "+(0,S.$P)(t)+"]":"symbol"===typeof t?"["+String(t)+"]":"bigint"===typeof t?"[BigInt: "+String(t)+"]":"[object "+Object.getPrototypeOf(t).constructor.name+"]"}catch(v){return"**non-serializable** ("+v+")"}}(e,t);if(!h.startsWith("[object "))return h;if(0===r)return h.replace("object ","");if(c(t))return"[Circular ~]";var d=Array.isArray(t)?[]:{},p=0,f=(0,w.VZ)(t)||(0,w.cO)(t)?(0,a.Sh)(t):t;for(var m in f)if(Object.prototype.hasOwnProperty.call(f,m)){if(p>=i){d[m]="[MaxProperties ~]";break}var g=f[m];d[m]=k(m,g,r-1,i,o),p+=1}return u(t),d}var x=n(7946),A="?";function D(e,t,n,r){var i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}var R=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,M=/\((\S*)(?::(\d+))(?::(\d+))\)/,O=[30,function(e){var t=R.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){var n=M.exec(t[2]);n&&(t[2]=n[1],t[3]=n[2],t[4]=n[3])}var r=(0,s.CR)(q(t[1]||A,t[2]),2),i=r[0];return D(r[1],i,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],L=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,N=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,P=[50,function(e){var t,n=L.exec(e);if(n){if(n[3]&&n[3].indexOf(" > eval")>-1){var r=N.exec(n[3]);r&&(n[1]=n[1]||"eval",n[3]=r[1],n[4]=r[2],n[5]="")}var i=n[3],o=n[1]||A;return o=(t=(0,s.CR)(q(o,i),2))[0],D(i=t[1],o,n[4]?+n[4]:void 0,n[5]?+n[5]:void 0)}}],F=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,j=[40,function(e){var t=F.exec(e);return t?D(t[2],t[1]||A,+t[3],t[4]?+t[4]:void 0):void 0}],B=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,U=[10,function(e){var t=B.exec(e);return t?D(t[2],t[3]||A,+t[1]):void 0}],V=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,H=[20,function(e){var t=V.exec(e);return t?D(t[5],t[3]||t[4]||A,+t[1],+t[2]):void 0}],q=function(e,t){var n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:A,n?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]};function z(e){var t=W(e),n={type:e&&e.name,value:Z(e)};return t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function $(e){return{exception:{values:[z(e)]}}}function W(e){var t=e.stacktrace||e.stack||"",n=function(e){if(e){if("number"===typeof e.framesToPop)return e.framesToPop;if(G.test(e.message))return 1}return 0}(e);try{return(0,S.pE)(U,H,O,j,P)(t,n)}catch(r){}return[]}var G=/Minified React error #\d+;/i;function Z(e){var t=e&&e.message;return t?t.error&&"string"===typeof t.error.message?t.error.message:t:"No error message"}function K(e,t,n,r){var i;if((0,w.VW)(e)&&e.error)return $(e.error);if((0,w.TX)(e)||(0,w.fm)(e)){var o=e;if("stack"in e)i=$(e);else{var c=o.name||((0,w.TX)(o)?"DOMError":"DOMException"),u=o.message?c+": "+o.message:c;i=J(u,t,n),(0,l.Db)(i,u)}return"code"in o&&(i.tags=(0,s.pi)((0,s.pi)({},i.tags),{"DOMException.code":""+o.code})),i}return(0,w.VZ)(e)?$(e):(0,w.PO)(e)||(0,w.cO)(e)?(i=function(e,t,n){var r={exception:{values:[{type:(0,w.cO)(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+(0,a.zf)(e)}]},extra:{__serialized__:I(e)}};if(t){var i=W(t);i.length&&(r.stacktrace={frames:i})}return r}(e,t,r),(0,l.EG)(i,{synthetic:!0}),i):(i=J(e,t,n),(0,l.Db)(i,""+e,void 0),(0,l.EG)(i,{synthetic:!0}),i)}function J(e,t,n){var r={message:e};if(n&&t){var i=W(t);i.length&&(r.stacktrace={frames:i})}return r}var X="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Y(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Q(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Y(arguments[t]));return e}function ee(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=(0,_.Gd)();if(r&&r[e])return r[e].apply(r,Q(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function te(e,t){return ee("captureException",e,{captureContext:t,originalException:e,syntheticException:new Error("Sentry syntheticException")})}function ne(e){ee("withScope",e)}var re=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n]);return e});var ie=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return r.message=t,r.name=n.prototype.constructor.name,re(r,n.prototype),r}return(0,E.ZT)(t,e),t}(Error),oe=n(1923),se=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ae(e,t){void 0===t&&(t=!1);var n=e.host,r=e.path,i=e.pass,o=e.port,s=e.projectId;return e.protocol+"://"+e.publicKey+(t&&i?":"+i:"")+"@"+n+(o?":"+o:"")+"/"+(r?r+"/":r)+s}function ce(e){return"user"in e&&!("publicKey"in e)&&(e.publicKey=e.user),{user:e.publicKey||"",protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function ue(e){var t="string"===typeof e?function(e){var t=se.exec(e);if(!t)throw new ie("Invalid Sentry Dsn: "+e);var n=(0,E.CR)(t.slice(1),6),r=n[0],i=n[1],o=n[2],s=void 0===o?"":o,a=n[3],c=n[4],u=void 0===c?"":c,l="",h=n[5],d=h.split("/");if(d.length>1&&(l=d.slice(0,-1).join("/"),h=d.pop()),h){var p=h.match(/^\d+/);p&&(h=p[0])}return ce({host:a,pass:s,path:l,projectId:h,port:u,protocol:r,publicKey:i})}(e):ce(e);return function(e){if(oe.h){var t=e.port,n=e.projectId,r=e.protocol;if(["protocol","publicKey","host","projectId"].forEach((function(t){if(!e[t])throw new ie("Invalid Sentry Dsn: "+t+" missing")})),!n.match(/^\d+$/))throw new ie("Invalid Sentry Dsn: Invalid projectId "+n);if(!function(e){return"http"===e||"https"===e}(r))throw new ie("Invalid Sentry Dsn: Invalid protocol "+r);if(t&&isNaN(parseInt(t,10)))throw new ie("Invalid Sentry Dsn: Invalid port "+t)}}(t),t}!function(){function e(e,t,n){void 0===t&&(t={}),this.dsn=e,this._dsnObject=ue(e),this.metadata=t,this._tunnel=n}e.prototype.getDsn=function(){return this._dsnObject},e.prototype.forceEnvelope=function(){return!!this._tunnel},e.prototype.getBaseApiEndpoint=function(){return he(this._dsnObject)},e.prototype.getStoreEndpoint=function(){return fe(this._dsnObject)},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return me(this._dsnObject)},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return ge(this._dsnObject,this._tunnel)}}();function le(e,t,n){return{initDsn:e,metadata:t||{},dsn:ue(e),tunnel:n}}function he(e){var t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n+(e.path?"/"+e.path:"")+"/api/"}function de(e,t){return""+he(e)+e.projectId+"/"+t+"/"}function pe(e){return(0,a._j)({sentry_key:e.publicKey,sentry_version:"7"})}function fe(e){return de(e,"store")}function me(e){return fe(e)+"?"+pe(e)}function ge(e,t){return t||function(e){return de(e,"envelope")}(e)+"?"+pe(e)}var ve=(0,y.R)(),ye=0;function _e(){return ye>0}function be(){ye+=1,setTimeout((function(){ye-=1}))}function we(e,t,n){if(void 0===t&&(t={}),"function"!==typeof e)return e;try{var r=e.__sentry_wrapped__;if(r)return r;if((0,a.HK)(e))return e}catch(c){return e}var i=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"===typeof n&&n.apply(this,arguments);var i=r.map((function(e){return we(e,t)}));return e.apply(this,i)}catch(o){throw be(),ne((function(e){e.addEventProcessor((function(e){return t.mechanism&&((0,l.Db)(e,void 0,void 0),(0,l.EG)(e,t.mechanism)),e.extra=(0,s.pi)((0,s.pi)({},e.extra),{arguments:r}),e})),te(o)})),o}};try{for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}catch(u){}(0,a.$Q)(i,e),(0,a.xp)(e,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:function(){return e.name}})}catch(u){}return i}function Ce(e){if(void 0===e&&(e={}),ve.document)if(e.eventId)if(e.dsn){var t=ve.document.createElement("script");t.async=!0,t.src=function(e,t){var n=ue(e),r=he(n)+"embed/error-page/",i="dsn="+ae(n);for(var o in t)if("dsn"!==o)if("user"===o){if(!t.user)continue;t.user.name&&(i+="&name="+encodeURIComponent(t.user.name)),t.user.email&&(i+="&email="+encodeURIComponent(t.user.email))}else i+="&"+encodeURIComponent(o)+"="+encodeURIComponent(t[o]);return r+"?"+i}(e.dsn,e),e.onLoad&&(t.onload=e.onLoad);var n=ve.document.head||ve.document.body;n&&n.appendChild(t)}else X&&u.kg.error("Missing dsn option in showReportDialog call");else X&&u.kg.error("Missing eventId option in showReportDialog call")}var Ee=function(){function e(t){this.name=e.id,this._installFunc={onerror:Se,onunhandledrejection:Te},this._options=(0,s.pi)({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50;var e,t=this._options;for(var n in t){var r=this._installFunc[n];r&&t[n]&&(e=n,X&&u.kg.log("Global Handler attached: "+e),r(),this._installFunc[n]=void 0)}},e.id="GlobalHandlers",e}();function Se(){(0,b.o)("error",(function(e){var t=(0,s.CR)(xe(),2),n=t[0],r=t[1];if(n.getIntegration(Ee)){var i=e.msg,o=e.url,a=e.line,c=e.column,u=e.error;if(!(_e()||u&&u.__sentry_own_request__)){var l=void 0===u&&(0,w.HD)(i)?function(e,t,n,r){var i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,o=(0,w.VW)(e)?e.message:e,s="Error",a=o.match(i);a&&(s=a[1],o=a[2]);return Ie({exception:{values:[{type:s,value:o}]}},t,n,r)}(i,o,a,c):Ie(K(u||i,void 0,r,!1),o,a,c);l.level=v.Error,ke(n,u,l,"onerror")}}}))}function Te(){(0,b.o)("unhandledrejection",(function(e){var t=(0,s.CR)(xe(),2),n=t[0],r=t[1];if(n.getIntegration(Ee)){var i=e;try{"reason"in e?i=e.reason:"detail"in e&&"reason"in e.detail&&(i=e.detail.reason)}catch(a){}if(_e()||i&&i.__sentry_own_request__)return!0;var o=(0,w.pt)(i)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(i)}]}}:K(i,void 0,r,!0);o.level=v.Error,ke(n,i,o,"onunhandledrejection")}}))}function Ie(e,t,n,r){var i=e.exception=e.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,h=(0,w.HD)(t)&&t.length>0?t:(0,C.l)();return 0===c.length&&c.push({colno:u,filename:h,function:"?",in_app:!0,lineno:l}),e}function ke(e,t,n,r){(0,l.EG)(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function xe(){var e=(0,_.Gd)(),t=e.getClient();return[e,t&&t.getOptions().attachStacktrace]}var Ae=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],De=function(){function e(t){this.name=e.id,this._options=(0,s.pi)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var e=(0,y.R)();this._options.setTimeout&&(0,a.hl)(e,"setTimeout",Re),this._options.setInterval&&(0,a.hl)(e,"setInterval",Re),this._options.requestAnimationFrame&&(0,a.hl)(e,"requestAnimationFrame",Me),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&(0,a.hl)(XMLHttpRequest.prototype,"send",Oe);var t=this._options.eventTarget;t&&(Array.isArray(t)?t:Ae).forEach(Le)},e.id="TryCatch",e}();function Re(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0];return t[0]=we(r,{mechanism:{data:{function:(0,S.$P)(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function Me(e){return function(t){return e.apply(this,[we(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,S.$P)(e)},handled:!0,type:"instrument"}})])}}function Oe(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach((function(e){e in r&&"function"===typeof r[e]&&(0,a.hl)(r,e,(function(t){var n={mechanism:{data:{function:e,handler:(0,S.$P)(t)},handled:!0,type:"instrument"}},r=(0,a.HK)(t);return r&&(n.mechanism.data.handler=(0,S.$P)(r)),we(t,n)}))})),e.apply(this,t)}}function Le(e){var t=(0,y.R)(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,a.hl)(n,"addEventListener",(function(t){return function(n,r,i){try{"function"===typeof r.handleEvent&&(r.handleEvent=we(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:(0,S.$P)(r),target:e},handled:!0,type:"instrument"}}))}catch(o){}return t.apply(this,[n,we(r,{mechanism:{data:{function:"addEventListener",handler:(0,S.$P)(r),target:e},handled:!0,type:"instrument"}}),i])}})),(0,a.hl)(n,"removeEventListener",(function(e){return function(t,n,r){var i=n;try{var o=i&&i.__sentry_wrapped__;o&&e.call(this,t,o,r)}catch(s){}return e.call(this,t,i,r)}})))}var Ne=["fatal","error","warning","log","info","debug","critical"];function Pe(e){return"warn"===e?v.Warning:function(e){return-1!==Ne.indexOf(e)}(e)?e:v.Log}var Fe=function(){function e(t){this.name=e.id,this._options=(0,s.pi)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(e){this._options.sentry&&(0,_.Gd)().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:(0,l.jH)(e)},{event:e})},e.prototype.setupOnce=function(){this._options.console&&(0,b.o)("console",je),this._options.dom&&(0,b.o)("dom",function(e){function t(t){var n,r="object"===typeof e?e.serializeAttribute:void 0;"string"===typeof r&&(r=[r]);try{n=t.event.target?(0,C.R)(t.event.target,r):(0,C.R)(t.event,r)}catch(i){n="<unknown>"}0!==n.length&&(0,_.Gd)().addBreadcrumb({category:"ui."+t.name,message:n},{event:t.event,name:t.name,global:t.global})}return t}(this._options.dom)),this._options.xhr&&(0,b.o)("xhr",Be),this._options.fetch&&(0,b.o)("fetch",Ue),this._options.history&&(0,b.o)("history",Ve)},e.id="Breadcrumbs",e}();function je(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:Pe(e.level),message:(0,h.nK)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+((0,h.nK)(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1)}(0,_.Gd)().addBreadcrumb(t,{input:e.args,level:e.level})}function Be(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;var t=e.xhr.__sentry_xhr__||{},n=t.method,r=t.url,i=t.status_code,o=t.body;(0,_.Gd)().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:e.xhr,input:o})}else;}function Ue(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?(0,_.Gd)().addBreadcrumb({category:"fetch",data:e.fetchData,level:v.Error,type:"http"},{data:e.error,input:e.args}):(0,_.Gd)().addBreadcrumb({category:"fetch",data:(0,s.pi)((0,s.pi)({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))}function Ve(e){var t=(0,y.R)(),n=e.from,r=e.to,i=(0,l.en)(t.location.href),o=(0,l.en)(n),s=(0,l.en)(r);o.path||(o=i),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),(0,_.Gd)().addBreadcrumb({category:"navigation",data:{from:n,to:r}})}var He=n(1684),qe=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||"cause",this._limit=t.limit||5}return e.prototype.setupOnce=function(){(0,He.c)((function(t,n){var r=(0,_.Gd)().getIntegration(e);return r?function(e,t,n,r){if(!n.exception||!n.exception.values||!r||!(0,w.V9)(r.originalException,Error))return n;var i=ze(t,r.originalException,e);return n.exception.values=(0,s.fl)(i,n.exception.values),n}(r._key,r._limit,t,n):t}))},e.id="LinkedErrors",e}();function ze(e,t,n,r){if(void 0===r&&(r=[]),!(0,w.V9)(t[n],Error)||r.length+1>=e)return r;var i=z(t[n]);return ze(e,t[n],n,(0,s.fl)([i],r))}var $e=(0,y.R)(),We=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){(0,He.c)((function(t){if((0,_.Gd)().getIntegration(e)){if(!$e.navigator&&!$e.location&&!$e.document)return t;var n=t.request&&t.request.url||$e.location&&$e.location.href,r=($e.document||{}).referrer,i=($e.navigator||{}).userAgent,o=(0,s.pi)((0,s.pi)((0,s.pi)({},t.request&&t.request.headers),r&&{Referer:r}),i&&{"User-Agent":i}),a=(0,s.pi)((0,s.pi)({},n&&{url:n}),{headers:o});return(0,s.pi)((0,s.pi)({},t),{request:a})}return t}))},e.id="UserAgent",e}(),Ge=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,n){t((function(t){var r=n().getIntegration(e);if(r){try{if(function(e,t){if(!t)return!1;if(function(e,t){var n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!Ke(e,t))return!1;if(!Ze(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){var n=Je(t),r=Je(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!Ke(e,t))return!1;if(!Ze(e,t))return!1;return!0}(e,t))return!0;return!1}(t,r._previousEvent))return X&&u.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(i){return r._previousEvent=t}return r._previousEvent=t}return t}))},e.id="Dedupe",e}();function Ze(e,t){var n=Xe(e),r=Xe(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++){var o=r[i],s=n[i];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0}function Ke(e,t){var n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(i){return!1}}function Je(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Xe(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(n){return}else if(e.stacktrace)return e.stacktrace.frames}var Ye={},Qe=(0,y.R)();Qe.Sentry&&Qe.Sentry.Integrations&&(Ye=Qe.Sentry.Integrations);var et=(0,s.pi)((0,s.pi)((0,s.pi)({},Ye),r),i),tt="6.19.7";var nt=n(7790),rt=[];function it(e){return e.reduce((function(e,t){return e.every((function(e){return t.name!==e.name}))&&e.push(t),e}),[])}function ot(e){var t={};return function(e){var t=e.defaultIntegrations&&(0,s.fl)(e.defaultIntegrations)||[],n=e.integrations,r=(0,s.fl)(it(t));Array.isArray(n)?r=(0,s.fl)(r.filter((function(e){return n.every((function(t){return t.name!==e.name}))})),it(n)):"function"===typeof n&&(r=n(r),r=Array.isArray(r)?r:[r]);var i=r.map((function(e){return e.name})),o="Debug";return-1!==i.indexOf(o)&&r.push.apply(r,(0,s.fl)(r.splice(i.indexOf(o),1))),r}(e).forEach((function(e){t[e.name]=e,function(e){-1===rt.indexOf(e.name)&&(e.setupOnce(He.c,_.Gd),rt.push(e.name),d&&u.kg.log("Integration installed: "+e.name))}(e)})),(0,a.xp)(t,"initialized",!0),t}var st="Not capturing exception because it's already been captured.",at=function(){function e(e,t){this._integrations={},this._numProcessing=0,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=ue(t.dsn))}return e.prototype.captureException=function(e,t,n){var r=this;if(!(0,l.YO)(e)){var i=t&&t.event_id;return this._process(this._getBackend().eventFromException(e,t).then((function(e){return r._captureEvent(e,t,n)})).then((function(e){i=e}))),i}d&&u.kg.log(st)},e.prototype.captureMessage=function(e,t,n,r){var i=this,o=n&&n.event_id,s=(0,w.pt)(e)?this._getBackend().eventFromMessage(String(e),t,n):this._getBackend().eventFromException(e,n);return this._process(s.then((function(e){return i._captureEvent(e,n,r)})).then((function(e){o=e}))),o},e.prototype.captureEvent=function(e,t,n){if(!(t&&t.originalException&&(0,l.YO)(t.originalException))){var r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((function(e){r=e}))),r}d&&u.kg.log(st)},e.prototype.captureSession=function(e){this._isEnabled()?"string"!==typeof e.release?d&&u.kg.warn("Discarded session because of missing or non-string release"):(this._sendSession(e),e.update({init:!1})):d&&u.kg.warn("SDK not enabled, will not capture session.")},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.getTransport=function(){return this._getBackend().getTransport()},e.prototype.flush=function(e){var t=this;return this._isClientDoneProcessing(e).then((function(n){return t.getTransport().close(e).then((function(e){return n&&e}))}))},e.prototype.close=function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,e}))},e.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=ot(this._options))},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return d&&u.kg.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(e,t){var n,r,i=!1,o=!1,a=t.exception&&t.exception.values;if(a){o=!0;try{for(var c=(0,s.XA)(a),u=c.next();!u.done;u=c.next()){var l=u.value.mechanism;if(l&&!1===l.handled){i=!0;break}}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}var h="ok"===e.status;(h&&0===e.errors||h&&i)&&(e.update((0,s.pi)((0,s.pi)({},i&&{status:"crashed"}),{errors:e.errors||Number(o||i)})),this.captureSession(e))},e.prototype._sendSession=function(e){this._getBackend().sendSession(e)},e.prototype._isClientDoneProcessing=function(e){var t=this;return new x.cW((function(n){var r=0,i=setInterval((function(){0==t._numProcessing?(clearInterval(i),n(!0)):(r+=1,e&&r>=e&&(clearInterval(i),n(!1)))}),1)}))},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,n){var r=this,i=this.getOptions(),o=i.normalizeDepth,a=void 0===o?3:o,c=i.normalizeMaxBreadth,u=void 0===c?1e3:c,h=(0,s.pi)((0,s.pi)({},e),{event_id:e.event_id||(n&&n.event_id?n.event_id:(0,l.DM)()),timestamp:e.timestamp||(0,nt.yW)()});this._applyClientOptions(h),this._applyIntegrationsMetadata(h);var d=t;n&&n.captureContext&&(d=He.s.clone(d).update(n.captureContext));var p=(0,x.WD)(h);return d&&(p=d.applyToEvent(h,n)),p.then((function(e){return e&&(e.sdkProcessingMetadata=(0,s.pi)((0,s.pi)({},e.sdkProcessingMetadata),{normalizeDepth:T(a)+" ("+typeof a+")"})),"number"===typeof a&&a>0?r._normalizeEvent(e,a,u):e}))},e.prototype._normalizeEvent=function(e,t,n){if(!e)return null;var r=(0,s.pi)((0,s.pi)((0,s.pi)((0,s.pi)((0,s.pi)({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((function(e){return(0,s.pi)((0,s.pi)({},e),e.data&&{data:T(e.data,t,n)})}))}),e.user&&{user:T(e.user,t,n)}),e.contexts&&{contexts:T(e.contexts,t,n)}),e.extra&&{extra:T(e.extra,t,n)});return e.contexts&&e.contexts.trace&&(r.contexts.trace=e.contexts.trace),r.sdkProcessingMetadata=(0,s.pi)((0,s.pi)({},r.sdkProcessingMetadata),{baseClientNormalized:!0}),r},e.prototype._applyClientOptions=function(e){var t=this.getOptions(),n=t.environment,r=t.release,i=t.dist,o=t.maxValueLength,s=void 0===o?250:o;"environment"in e||(e.environment="environment"in t?n:"production"),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=(0,h.$G)(e.message,s));var a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=(0,h.$G)(a.value,s));var c=e.request;c&&c.url&&(c.url=(0,h.$G)(c.url,s))},e.prototype._applyIntegrationsMetadata=function(e){var t=Object.keys(this._integrations);t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=(0,s.fl)(e.sdk.integrations||[],t))},e.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},e.prototype._captureEvent=function(e,t,n){return this._processEvent(e,t,n).then((function(e){return e.event_id}),(function(e){d&&u.kg.error(e)}))},e.prototype._processEvent=function(e,t,n){var r=this,i=this.getOptions(),o=i.beforeSend,s=i.sampleRate,a=this.getTransport();function c(e,t){a.recordLostEvent&&a.recordLostEvent(e,t)}if(!this._isEnabled())return(0,x.$2)(new ie("SDK not enabled, will not capture event."));var u="transaction"===e.type;return!u&&"number"===typeof s&&Math.random()>s?(c("sample_rate","event"),(0,x.$2)(new ie("Discarding event because it's not included in the random sample (sampling rate = "+s+")"))):this._prepareEvent(e,n,t).then((function(n){if(null===n)throw c("event_processor",e.type||"event"),new ie("An event processor returned null, will not send event.");return t&&t.data&&!0===t.data.__sentry__||u||!o?n:function(e){var t="`beforeSend` method has to return `null` or a valid event.";if((0,w.J8)(e))return e.then((function(e){if(!(0,w.PO)(e)&&null!==e)throw new ie(t);return e}),(function(e){throw new ie("beforeSend rejected with "+e)}));if(!(0,w.PO)(e)&&null!==e)throw new ie(t);return e}(o(n,t))})).then((function(t){if(null===t)throw c("before_send",e.type||"event"),new ie("`beforeSend` returned `null`, will not send event.");var i=n&&n.getSession&&n.getSession();return!u&&i&&r._updateSessionFromEvent(i,t),r._sendEvent(t),t})).then(null,(function(e){if(e instanceof ie)throw e;throw r.captureException(e,{data:{__sentry__:!0},originalException:e}),new ie("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e)}))},e.prototype._process=function(e){var t=this;this._numProcessing+=1,e.then((function(e){return t._numProcessing-=1,e}),(function(e){return t._numProcessing-=1,e}))},e}();function ct(e,t){return void 0===t&&(t=[]),[e,t]}function ut(e){var t=(0,E.CR)(e,2),n=t[0],r=t[1],i=JSON.stringify(n);return r.reduce((function(e,t){var n=(0,E.CR)(t,2),r=n[0],i=n[1],o=(0,w.pt)(i)?String(i):JSON.stringify(i);return e+"\n"+JSON.stringify(r)+"\n"+o}),i)}function lt(e){if(e.metadata&&e.metadata.sdk){var t=e.metadata.sdk;return{name:t.name,version:t.version}}}function ht(e,t){return t?(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=(0,s.fl)(e.sdk.integrations||[],t.integrations||[]),e.sdk.packages=(0,s.fl)(e.sdk.packages||[],t.packages||[]),e):e}function dt(e,t){var n=lt(t),r="aggregates"in e?"sessions":"session";return[ct((0,s.pi)((0,s.pi)({sent_at:(new Date).toISOString()},n&&{sdk:n}),!!t.tunnel&&{dsn:ae(t.dsn)}),[[{type:r},e]]),r]}var pt=function(){function e(){}return e.prototype.sendEvent=function(e){return(0,x.WD)({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:"skipped"})},e.prototype.close=function(e){return(0,x.WD)(!0)},e}(),ft=function(){function e(e){this._options=e,this._options.dsn||d&&u.kg.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(e,t){throw new ie("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,n){throw new ie("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var t=function(e,t){var n=lt(t),r=e.type||"event",i=(e.sdkProcessingMetadata||{}).transactionSampling||{},o=i.method,a=i.rate;return ht(e,t.metadata.sdk),e.tags=e.tags||{},e.extra=e.extra||{},e.sdkProcessingMetadata&&e.sdkProcessingMetadata.baseClientNormalized||(e.tags.skippedNormalization=!0,e.extra.normalizeDepth=e.sdkProcessingMetadata?e.sdkProcessingMetadata.normalizeDepth:"unset"),delete e.sdkProcessingMetadata,ct((0,s.pi)((0,s.pi)({event_id:e.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n}),!!t.tunnel&&{dsn:ae(t.dsn)}),[[{type:r,sample_rates:[{id:o,rate:a}]},e]])}(e,le(this._options.dsn,this._options._metadata,this._options.tunnel));this._newTransport.send(t).then(null,(function(e){d&&u.kg.error("Error while sending event:",e)}))}else this._transport.sendEvent(e).then(null,(function(e){d&&u.kg.error("Error while sending event:",e)}))},e.prototype.sendSession=function(e){if(this._transport.sendSession)if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var t=le(this._options.dsn,this._options._metadata,this._options.tunnel),n=(0,s.CR)(dt(e,t),1)[0];this._newTransport.send(n).then(null,(function(e){d&&u.kg.error("Error while sending session:",e)}))}else this._transport.sendSession(e).then(null,(function(e){d&&u.kg.error("Error while sending session:",e)}));else d&&u.kg.warn("Dropping session because custom transport doesn't implement sendSession")},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new pt},e}(),mt=n(9798);function gt(e){var t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return(0,x.$2)(new ie("Not adding Promise due to buffer limit reached."));var i=r();return-1===t.indexOf(i)&&t.push(i),i.then((function(){return n(i)})).then(null,(function(){return n(i).then(null,(function(){}))})),i},drain:function(e){return new x.cW((function(n,r){var i=t.length;if(!i)return n(!0);var o=setTimeout((function(){e&&e>0&&n(!1)}),e);t.forEach((function(e){(0,x.WD)(e).then((function(){--i||(clearTimeout(o),n(!0))}),r)}))}))}}}function vt(e,t){return e[t]||e.all||0}function yt(e,t,n){return void 0===n&&(n=Date.now()),vt(e,t)>n}function _t(e,t,n){var r,i,o,s;void 0===n&&(n=Date.now());var a=(0,E.pi)({},e),c=t["x-sentry-rate-limits"],u=t["retry-after"];if(c)try{for(var l=(0,E.XA)(c.trim().split(",")),h=l.next();!h.done;h=l.next()){var d=h.value.split(":",2),p=parseInt(d[0],10),f=1e3*(isNaN(p)?60:p);if(d[1])try{for(var m=(o=void 0,(0,E.XA)(d[1].split(";"))),g=m.next();!g.done;g=m.next()){a[g.value]=n+f}}catch(v){o={error:v}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}else a.all=n+f}}catch(y){r={error:y}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}else u&&(a.all=n+function(e,t){void 0===t&&(t=Date.now());var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+e);return isNaN(r)?6e4:r-t}(u,n));return a}function bt(e){return e>=200&&e<300?"success":429===e?"rate_limit":e>=400&&e<500?"invalid":e>=500?"failed":"unknown"}function wt(e,t,n){void 0===n&&(n=gt(e.bufferSize||30));var r={};return{send:function(e){var i=function(e){var t=(0,E.CR)(e,2),n=(0,E.CR)(t[1],1);return(0,E.CR)(n[0],1)[0].type}(e),o="event"===i?"error":i,s={category:o,body:ut(e)};return yt(r,o)?(0,x.$2)({status:"rate_limit",reason:Ct(r,o)}):n.add((function(){return t(s).then((function(e){var t=e.body,n=e.headers,i=e.reason,s=bt(e.statusCode);return n&&(r=_t(r,n)),"success"===s?(0,x.WD)({status:s,reason:i}):(0,x.$2)({status:s,reason:i||t||("rate_limit"===s?Ct(r,o):"Unknown transport error")})}))}))},flush:function(e){return n.drain(e)}}}function Ct(e,t){return"Too many "+t+" requests, backing off until: "+new Date(vt(e,t)).toISOString()}var Et,St=(0,y.R)();function Tt(){if(Et)return Et;if((0,mt.Du)(St.fetch))return Et=St.fetch.bind(St);var e=St.document,t=St.fetch;if(e&&"function"===typeof e.createElement)try{var n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);var r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(i){X&&u.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return Et=t.bind(St)}function It(e,t){if("[object Navigator]"===Object.prototype.toString.call(St&&St.navigator)&&"function"===typeof St.navigator.sendBeacon)return St.navigator.sendBeacon.bind(St.navigator)(e,t);if((0,mt.Ak)()){var n=Tt();n(e,{body:t,method:"POST",credentials:"omit",keepalive:!0}).then(null,(function(e){console.error(e)}))}else;}function kt(e){return"event"===e?"error":e}var xt=(0,y.R)(),At=function(){function e(e){var t=this;this.options=e,this._buffer=gt(30),this._rateLimits={},this._outcomes={},this._api=le(e.dsn,e._metadata,e.tunnel),this.url=me(this._api.dsn),this.options.sendClientReports&&xt.document&&xt.document.addEventListener("visibilitychange",(function(){"hidden"===xt.document.visibilityState&&t._flushOutcomes()}))}return e.prototype.sendEvent=function(e){return this._sendRequest(function(e,t){var n,r=lt(t),i=e.type||"event",o="transaction"===i||!!t.tunnel,a=(e.sdkProcessingMetadata||{}).transactionSampling||{},c=a.method,u=a.rate;ht(e,t.metadata.sdk),e.tags=e.tags||{},e.extra=e.extra||{},e.sdkProcessingMetadata&&e.sdkProcessingMetadata.baseClientNormalized||(e.tags.skippedNormalization=!0,e.extra.normalizeDepth=e.sdkProcessingMetadata?e.sdkProcessingMetadata.normalizeDepth:"unset"),delete e.sdkProcessingMetadata;try{n=JSON.stringify(e)}catch(p){e.tags.JSONStringifyError=!0,e.extra.JSONStringifyError=p;try{n=JSON.stringify(T(e))}catch(f){var l=f;n=JSON.stringify({message:"JSON.stringify error after renormalization",extra:{message:l.message,stack:l.stack}})}}var h={body:n,type:i,url:o?ge(t.dsn,t.tunnel):me(t.dsn)};if(o){var d=ct((0,s.pi)((0,s.pi)({event_id:e.event_id,sent_at:(new Date).toISOString()},r&&{sdk:r}),!!t.tunnel&&{dsn:ae(t.dsn)}),[[{type:i,sample_rates:[{id:c,rate:u}]},h.body]]);h.body=ut(d)}return h}(e,this._api),e)},e.prototype.sendSession=function(e){return this._sendRequest(function(e,t){var n=(0,s.CR)(dt(e,t),2),r=n[0],i=n[1];return{body:ut(r),type:i,url:ge(t.dsn,t.tunnel)}}(e,this._api),e)},e.prototype.close=function(e){return this._buffer.drain(e)},e.prototype.recordLostEvent=function(e,t){var n;if(this.options.sendClientReports){var r=kt(t)+":"+e;X&&u.kg.log("Adding outcome: "+r),this._outcomes[r]=(null!==(n=this._outcomes[r])&&void 0!==n?n:0)+1}},e.prototype._flushOutcomes=function(){if(this.options.sendClientReports){var e=this._outcomes;if(this._outcomes={},Object.keys(e).length){X&&u.kg.log("Flushing outcomes:\n"+JSON.stringify(e,null,2));var t,n,r,i=ge(this._api.dsn,this._api.tunnel),o=Object.keys(e).map((function(t){var n=(0,s.CR)(t.split(":"),2),r=n[0];return{reason:n[1],category:r,quantity:e[t]}})),a=(t=o,ct((n=this._api.tunnel&&ae(this._api.dsn))?{dsn:n}:{},[[{type:"client_report"},{timestamp:r||(0,nt.yW)(),discarded_events:t}]]));try{It(i,ut(a))}catch(c){X&&u.kg.error(c)}}else X&&u.kg.log("No outcomes to flush")}},e.prototype._handleResponse=function(e){var t=e.requestType,n=e.response,r=e.headers,i=e.resolve,o=e.reject,s=bt(n.status);this._rateLimits=_t(this._rateLimits,r),this._isRateLimited(t)&&X&&u.kg.warn("Too many "+t+" requests, backing off until: "+this._disabledUntil(t)),"success"!==s?o(n):i({status:s})},e.prototype._disabledUntil=function(e){var t=kt(e);return new Date(vt(this._rateLimits,t))},e.prototype._isRateLimited=function(e){var t=kt(e);return yt(this._rateLimits,t)},e}(),Dt=function(e){function t(t,n){void 0===n&&(n=Tt());var r=e.call(this,t)||this;return r._fetch=n,r}return(0,s.ZT)(t,e),t.prototype._sendRequest=function(e,t){var n=this;if(this._isRateLimited(e.type))return this.recordLostEvent("ratelimit_backoff",e.type),Promise.reject({event:t,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429});var r={body:e.body,method:"POST",referrerPolicy:(0,mt.hv)()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add((function(){return new x.cW((function(t,i){n._fetch(e.url,r).then((function(r){var o={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:e.type,response:r,headers:o,resolve:t,reject:i})})).catch(i)}))})).then(void 0,(function(t){throw t instanceof ie?n.recordLostEvent("queue_overflow",e.type):n.recordLostEvent("network_error",e.type),t}))},t}(At);var Rt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,s.ZT)(t,e),t.prototype._sendRequest=function(e,t){var n=this;return this._isRateLimited(e.type)?(this.recordLostEvent("ratelimit_backoff",e.type),Promise.reject({event:t,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429})):this._buffer.add((function(){return new x.cW((function(t,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var o={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};n._handleResponse({requestType:e.type,response:i,headers:o,resolve:t,reject:r})}},i.open("POST",e.url),n.options.headers)Object.prototype.hasOwnProperty.call(n.options.headers,o)&&i.setRequestHeader(o,n.options.headers[o]);i.send(e.body)}))})).then(void 0,(function(t){throw t instanceof ie?n.recordLostEvent("queue_overflow",e.type):n.recordLostEvent("network_error",e.type),t}))},t}(At),Mt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,s.ZT)(t,e),t.prototype.eventFromException=function(e,t){return function(e,t,n){var r=K(e,t&&t.syntheticException||void 0,n);return(0,l.EG)(r),r.level=v.Error,t&&t.event_id&&(r.event_id=t.event_id),(0,x.WD)(r)}(e,t,this._options.attachStacktrace)},t.prototype.eventFromMessage=function(e,t,n){return void 0===t&&(t=v.Info),function(e,t,n,r){void 0===t&&(t=v.Info);var i=J(e,n&&n.syntheticException||void 0,r);return i.level=t,n&&n.event_id&&(i.event_id=n.event_id),(0,x.WD)(i)}(e,t,n,this._options.attachStacktrace)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t,n,r=(0,s.pi)((0,s.pi)({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata}),i=le(r.dsn,r._metadata,r.tunnel),o=ge(i.dsn,i.tunnel);if(this._options.transport)return new this._options.transport(r);if((0,mt.Ak)()){var a=(0,s.pi)({},r.fetchParameters);return this._newTransport=(t={requestOptions:a,url:o},void 0===n&&(n=Tt()),wt({bufferSize:t.bufferSize},(function(e){var r=(0,s.pi)({body:e.body,method:"POST",referrerPolicy:"origin"},t.requestOptions);return n(t.url,r).then((function(e){return e.text().then((function(t){return{body:t,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")},reason:e.statusText,statusCode:e.status}}))}))}))),new Dt(r)}return this._newTransport=function(e){return wt({bufferSize:e.bufferSize},(function(t){return new x.cW((function(n,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var e={body:i.response,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")},reason:i.statusText,statusCode:i.status};n(e)}},i.open("POST",e.url),e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&i.setRequestHeader(o,e.headers[o]);i.send(t.body)}))}))}({url:o,headers:r.headers}),new Rt(r)},t}(ft),Ot=function(e){function t(t){void 0===t&&(t={});return t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:tt}],version:tt},e.call(this,Mt,t)||this}return(0,s.ZT)(t,e),t.prototype.showReportDialog=function(e){void 0===e&&(e={}),(0,y.R)().document&&(this._isEnabled()?Ce((0,s.pi)((0,s.pi)({},e),{dsn:e.dsn||this.getDsn()})):X&&u.kg.error("Trying to call showReportDialog with Sentry Client disabled"))},t.prototype._prepareEvent=function(t,n,r){return t.platform=t.platform||"javascript",e.prototype._prepareEvent.call(this,t,n,r)},t.prototype._sendEvent=function(t){var n=this.getIntegration(Fe);n&&n.addSentryBreadcrumb(t),e.prototype._sendEvent.call(this,t)},t}(at),Lt=[new f,new c,new De,new Fe,new Ee,new qe,new Ge,new We];function Nt(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=Lt),void 0===e.release){var t=(0,y.R)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0),function(e,t){!0===t.debug&&(d?u.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var n=(0,_.Gd)(),r=n.getScope();r&&r.update(t.initialScope);var i=new e(t);n.bindClient(i)}(Ot,e),e.autoSessionTracking&&function(){if("undefined"===typeof(0,y.R)().document)return void(X&&u.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));var e=(0,_.Gd)();if(!e.captureSession)return;Pt(e),(0,b.o)("history",(function(e){var t=e.from,n=e.to;void 0!==t&&t!==n&&Pt((0,_.Gd)())}))}()}function Pt(e){e.startSession({ignoreDuration:!0}),e.captureSession()}var Ft=n(2252),jt=n(4741),Bt=n(1177),Ut=n(1265),Vt=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");var Ht=n(7734),qt=(0,y.R)();var zt=n(4266),$t=function(e,t,n){var r;return function(i){t.value>=0&&(i||n)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},Wt=function(e,t){return{name:e,value:null!==t&&void 0!==t?t:-1,delta:0,entries:[],id:"v2-"+Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12)}},Gt=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(r){}},Zt=function(e,t){var n=function(r){"pagehide"!==r.type&&"hidden"!==(0,y.R)().document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Kt=-1,Jt=function(){return Kt<0&&(Kt="hidden"===(0,y.R)().document.visibilityState?0:1/0,Zt((function(e){var t=e.timeStamp;Kt=t}),!0)),{get firstHiddenTime(){return Kt}}},Xt={},Yt=(0,y.R)(),Qt=function(){function e(e){void 0===e&&(e=!1),this._reportAllChanges=e,this._measurements={},this._performanceCursor=0,!(0,zt.KV)()&&Yt&&Yt.performance&&Yt.document&&(Yt.performance.mark&&Yt.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return e.prototype.addPerformanceEntries=function(e){var t=this;if(Yt&&Yt.performance&&Yt.performance.getEntries&&nt.Z1){jt.h&&u.kg.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,i=(0,Ut.XL)(nt.Z1);if(Yt.performance.getEntries().slice(this._performanceCursor).forEach((function(o){var s=(0,Ut.XL)(o.startTime),a=(0,Ut.XL)(o.duration);if(!("navigation"===e.op&&i+s<e.startTimestamp))switch(o.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((function(r){en(e,t,r,n)})),en(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),en(e,t,"fetch",n,"cache","domainLookupStart"),en(e,t,"domainLookup",n,"DNS"),function(e,t,n){tn(e,{op:"browser",description:"request",startTimestamp:n+(0,Ut.XL)(t.requestStart),endTimestamp:n+(0,Ut.XL)(t.responseEnd)}),tn(e,{op:"browser",description:"response",startTimestamp:n+(0,Ut.XL)(t.responseStart),endTimestamp:n+(0,Ut.XL)(t.responseEnd)})}(e,t,n)}(e,o,i),n=i+(0,Ut.XL)(o.responseStart),r=i+(0,Ut.XL)(o.requestStart);break;case"mark":case"paint":case"measure":var c=function(e,t,n,r,i){var o=i+n,s=o+r;return tn(e,{description:t.name,endTimestamp:s,op:t.entryType,startTimestamp:o}),o}(e,o,s,a,i),l=Jt(),h=o.startTime<l.firstHiddenTime;"first-paint"===o.name&&h&&(jt.h&&u.kg.log("[Measurements] Adding FP"),t._measurements.fp={value:o.startTime},t._measurements["mark.fp"]={value:c}),"first-contentful-paint"===o.name&&h&&(jt.h&&u.kg.log("[Measurements] Adding FCP"),t._measurements.fcp={value:o.startTime},t._measurements["mark.fcp"]={value:c});break;case"resource":var d=o.name.replace(Yt.location.origin,"");!function(e,t,n,r,i,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;var s={};"transferSize"in t&&(s["Transfer Size"]=t.transferSize);"encodedBodySize"in t&&(s["Encoded Body Size"]=t.encodedBodySize);"decodedBodySize"in t&&(s["Decoded Body Size"]=t.decodedBodySize);var a=o+r;tn(e,{description:n,endTimestamp:a+i,op:t.initiatorType?"resource."+t.initiatorType:"resource",startTimestamp:a,data:s})}(e,o,d,s,a,i)}})),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(e),"pageload"===e.op){var o=(0,Ut.XL)(nt.Z1);"number"===typeof n&&(jt.h&&u.kg.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:1e3*(n-e.startTimestamp)},"number"===typeof r&&r<=n&&(this._measurements["ttfb.requestTime"]={value:1e3*(n-r)})),["fcp","fp","lcp"].forEach((function(n){if(t._measurements[n]&&!(o>=e.startTimestamp)){var r=t._measurements[n].value,i=o+(0,Ut.XL)(r),s=Math.abs(1e3*(i-e.startTimestamp)),a=s-r;jt.h&&u.kg.log("[Measurements] Normalized "+n+" from "+r+" to "+s+" ("+a+")"),t._measurements[n].value=s}})),this._measurements["mark.fid"]&&this._measurements.fid&&tn(e,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+(0,Ut.XL)(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),"fcp"in this._measurements||delete this._measurements.cls,e.setMeasurements(this._measurements),function(e,t,n){t&&(jt.h&&u.kg.log("[Measurements] Adding LCP Data"),t.element&&e.setTag("lcp.element",(0,C.R)(t.element)),t.id&&e.setTag("lcp.id",t.id),t.url&&e.setTag("lcp.url",t.url.trim().slice(0,200)),e.setTag("lcp.size",t.size));n&&n.sources&&(jt.h&&u.kg.log("[Measurements] Adding CLS Data"),n.sources.forEach((function(t,n){return e.setTag("cls.source."+(n+1),(0,C.R)(t.node))})))}(e,this._lcpEntry,this._clsEntry),e.setTag("sentry_reportAllChanges",this._reportAllChanges)}}},e.prototype._trackNavigator=function(e){var t=Yt.navigator;if(t){var n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),nn(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),nn(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),nn(t.deviceMemory)&&e.setTag("deviceMemory",String(t.deviceMemory)),nn(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}},e.prototype._trackCLS=function(){var e=this;!function(e,t){var n,r=Wt("CLS",0),i=0,o=[],s=function(e){if(e&&!e.hadRecentInput){var t=o[0],s=o[o.length-1];i&&0!==o.length&&e.startTime-s.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,o.push(e)):(i=e.value,o=[e]),i>r.value&&(r.value=i,r.entries=o,n&&n())}},a=Gt("layout-shift",s);a&&(n=$t(e,r,t),Zt((function(){a.takeRecords().map(s),n(!0)})))}((function(t){var n=t.entries.pop();n&&(jt.h&&u.kg.log("[Measurements] Adding CLS"),e._measurements.cls={value:t.value},e._clsEntry=n)}))},e.prototype._trackLCP=function(){var e=this;!function(e,t){var n,r=Jt(),i=Wt("LCP"),o=function(e){var t=e.startTime;t<r.firstHiddenTime&&(i.value=t,i.entries.push(e)),n&&n()},s=Gt("largest-contentful-paint",o);if(s){n=$t(e,i,t);var a=function(){Xt[i.id]||(s.takeRecords().map(o),s.disconnect(),Xt[i.id]=!0,n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,a,{once:!0,capture:!0})})),Zt(a,!0)}}((function(t){var n=t.entries.pop();if(n){var r=(0,Ut.XL)(nt.Z1),i=(0,Ut.XL)(n.startTime);jt.h&&u.kg.log("[Measurements] Adding LCP"),e._measurements.lcp={value:t.value},e._measurements["mark.lcp"]={value:r+i},e._lcpEntry=n}}),this._reportAllChanges)},e.prototype._trackFID=function(){var e=this;!function(e,t){var n,r=Jt(),i=Wt("FID"),o=function(e){n&&e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),n(!0))},s=Gt("first-input",o);s&&(n=$t(e,i,t),Zt((function(){s.takeRecords().map(o),s.disconnect()}),!0))}((function(t){var n=t.entries.pop();if(n){var r=(0,Ut.XL)(nt.Z1),i=(0,Ut.XL)(n.startTime);jt.h&&u.kg.log("[Measurements] Adding FID"),e._measurements.fid={value:t.value},e._measurements["mark.fid"]={value:r+i}}}))},e}();function en(e,t,n,r,i,o){var s=o?t[o]:t[n+"End"],a=t[n+"Start"];a&&s&&tn(e,{op:"browser",description:null!==i&&void 0!==i?i:n,startTimestamp:r+(0,Ut.XL)(a),endTimestamp:r+(0,Ut.XL)(s)})}function tn(e,t){var n=t.startTimestamp,r=(0,s._T)(t,["startTimestamp"]);return n&&e.startTimestamp>n&&(e.startTimestamp=n),e.startChild((0,s.pi)({startTimestamp:n},r))}function nn(e){return"number"===typeof e&&isFinite(e)}var rn={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};function on(e){var t=(0,s.pi)((0,s.pi)({},rn),e),n=t.traceFetch,r=t.traceXHR,i=t.tracingOrigins,o=t.shouldCreateSpanForRequest,a={},c=function(e){if(a[e])return a[e];var t=i;return a[e]=t.some((function(t){return(0,h.zC)(e,t)}))&&!(0,h.zC)(e,"sentry_key"),a[e]},u=c;"function"===typeof o&&(u=function(e){return c(e)&&o(e)});var l={};n&&(0,b.o)("fetch",(function(e){!function(e,t,n){if(!(0,Ut.zu)()||!e.fetchData||!t(e.fetchData.url))return;if(e.endTimestamp){var r=e.fetchData.__span;if(!r)return;return void((o=n[r])&&(e.response?o.setHttpStatus(e.response.status):e.error&&o.setStatus("internal_error"),o.finish(),delete n[r]))}var i=(0,Ut.x1)();if(i){var o=i.startChild({data:(0,s.pi)((0,s.pi)({},e.fetchData),{type:"fetch"}),description:e.fetchData.method+" "+e.fetchData.url,op:"http.client"});e.fetchData.__span=o.spanId,n[o.spanId]=o;var a=e.args[0]=e.args[0],c=e.args[1]=e.args[1]||{},u=c.headers;(0,w.V9)(a,Request)&&(u=a.headers),u?"function"===typeof u.append?u.append("sentry-trace",o.toTraceparent()):u=Array.isArray(u)?(0,s.fl)(u,[["sentry-trace",o.toTraceparent()]]):(0,s.pi)((0,s.pi)({},u),{"sentry-trace":o.toTraceparent()}):u={"sentry-trace":o.toTraceparent()},c.headers=u}}(e,u,l)})),r&&(0,b.o)("xhr",(function(e){!function(e,t,n){if(!(0,Ut.zu)()||e.xhr&&e.xhr.__sentry_own_request__||!(e.xhr&&e.xhr.__sentry_xhr__&&t(e.xhr.__sentry_xhr__.url)))return;var r=e.xhr.__sentry_xhr__;if(e.endTimestamp){var i=e.xhr.__sentry_xhr_span_id__;if(!i)return;return void((a=n[i])&&(a.setHttpStatus(r.status_code),a.finish(),delete n[i]))}var o=(0,Ut.x1)();if(o){var a=o.startChild({data:(0,s.pi)((0,s.pi)({},r.data),{type:"xhr",method:r.method,url:r.url}),description:r.method+" "+r.url,op:"http.client"});if(e.xhr.__sentry_xhr_span_id__=a.spanId,n[e.xhr.__sentry_xhr_span_id__]=a,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",a.toTraceparent())}catch(c){}}}(e,u,l)}))}var sn=(0,y.R)();var an=(0,s.pi)({idleTimeout:Bt.nT,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!0),sn&&sn.location){var r,i=sn.location.href;t&&(r=e({name:sn.location.pathname,op:"pageload"})),n&&(0,b.o)("history",(function(t){var n=t.to,o=t.from;void 0===o&&i&&-1!==i.indexOf(n)?i=void 0:o!==n&&(i=void 0,r&&(jt.h&&u.kg.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=e({name:sn.location.pathname,op:"navigation"}))}))}else jt.h&&u.kg.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},rn),cn=function(){function e(t){this.name=e.id,this._configuredIdleTimeout=void 0;var n=rn.tracingOrigins;t&&(this._configuredIdleTimeout=t.idleTimeout,t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&0!==t.tracingOrigins.length?n=t.tracingOrigins:jt.h&&(this._emitOptionsWarning=!0)),this.options=(0,s.pi)((0,s.pi)((0,s.pi)({},an),t),{tracingOrigins:n});var r=this.options._metricOptions;this._metrics=new Qt(r&&r._reportAllChanges)}return e.prototype.setupOnce=function(e,t){var n=this;this._getCurrentHub=t,this._emitOptionsWarning&&(jt.h&&u.kg.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),jt.h&&u.kg.warn("[Tracing] We added a reasonable default for you: "+rn.tracingOrigins));var r=this.options,i=r.routingInstrumentation,o=r.startTransactionOnLocationChange,s=r.startTransactionOnPageLoad,a=r.markBackgroundTransactions,c=r.traceFetch,l=r.traceXHR,h=r.tracingOrigins,d=r.shouldCreateSpanForRequest;i((function(e){return n._createRouteTransaction(e)}),s,o),a&&(qt&&qt.document?qt.document.addEventListener("visibilitychange",(function(){var e=(0,Ut.x1)();if(qt.document.hidden&&e){var t="cancelled";jt.h&&u.kg.log("[Tracing] Transaction: cancelled -> since tab moved to the background, op: "+e.op),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.setTag(Ht.d,Ht.x[2]),e.finish()}})):jt.h&&u.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")),on({traceFetch:c,traceXHR:l,tracingOrigins:h,shouldCreateSpanForRequest:d})},e.prototype._createRouteTransaction=function(e){var t=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,i=n.idleTimeout,o=n.maxTransactionDuration,a="pageload"===e.op?function(){var e=function(e){var t=(0,y.R)().document.querySelector("meta[name="+e+"]");return t?t.getAttribute("content"):null}("sentry-trace");if(e)return function(e){var t=e.match(Vt);if(t){var n=void 0;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}}(e);return}():void 0,c=(0,s.pi)((0,s.pi)((0,s.pi)({},e),a),{trimEnd:!0}),l="function"===typeof r?r(c):c,h=void 0===l?(0,s.pi)((0,s.pi)({},c),{sampled:!1}):l;!1===h.sampled&&jt.h&&u.kg.log("[Tracing] Will not send "+h.op+" transaction because of beforeNavigate."),jt.h&&u.kg.log("[Tracing] Starting "+h.op+" transaction on scope");var d=this._getCurrentHub(),p=(0,y.R)().location,f=(0,Ft.lb)(d,h,i,!0,{location:p});return f.registerBeforeFinishCallback((function(e,n){t._metrics.addPerformanceEntries(e),function(e,t,n){var r=n-t.startTimestamp;n&&(r>e||r<0)&&(t.setStatus("deadline_exceeded"),t.setTag("maxTransactionDurationExceeded","true"))}((0,Ut.WB)(o),e,n)})),f.setTag("idleTimeout",this._configuredIdleTimeout),f}jt.h&&u.kg.warn("[Tracing] Did not create "+e.op+" transaction because _getCurrentHub is invalid.")},e.id="BrowserTracing",e}();(0,Ft.ro)();var un=n(5632),ln=n.n(un),hn=(0,y.R)(),dn={"routing.instrumentation":"next-router"},pn=void 0,fn=void 0,mn=void 0;function gn(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!0),mn=e,ln().ready((function(){if(t&&(fn=null!==ln().route?(0,l.rt)(ln().route):hn.location.pathname,pn=e({name:fn,op:"pageload",tags:dn})),n){var r=Object.getPrototypeOf(ln().router);(0,a.hl)(r,"changeState",vn)}}))}function vn(e){return function(t,n,r,i){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];var c=(0,l.rt)(n);if(void 0!==mn&&fn!==c){pn&&pn.finish();var u=(0,s.pi)((0,s.pi)((0,s.pi)({},dn),{method:t}),i);fn&&(u.from=fn),pn=mn({name:fn=c,op:"navigation",tags:u})}return e.call.apply(e,(0,s.fl)([this,t,n,r,i],o))}}function yn(e,t,n){var r=t.match(/([a-z]+)\.(.*)/i);null===r?e[t]=n:yn(e[r[1]],r[2],n)}function _n(e,t,n){return void 0===n&&(n={}),Array.isArray(t)?bn(e,t,n):function(e,t,n){var r=function(r){var i=t(r);return bn(e,i,n)};return r}(e,t,n)}function bn(e,t,n){for(var r=!1,i=0;i<t.length;i++){t[i].name===e.name&&(r=!0);var o=n[t[i].name];o&&yn(t[i],o.keyPath,o.value)}return r?t:(0,s.fl)(t,[e])}(0,s.pi)((0,s.pi)({},et),{BrowserTracing:cn});var wn=new cn({tracingOrigins:(0,s.fl)(rn.tracingOrigins,[/^(api\/)/]),routingInstrumentation:gn});var Cn=n(3542);!function(e){!function(e,t){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.nextjs",packages:t.map((function(e){return{name:"npm:@sentry/"+e,version:tt}})),version:tt}}(e,["nextjs","react"]),e.environment=e.environment||"production";var t=void 0===e.tracesSampleRate&&void 0===e.tracesSampler?e.integrations:function(e){return e?_n(wn,e,{BrowserTracing:{keyPath:"options.routingInstrumentation",value:gn}}):[wn]}(e.integrations);!function(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:tt}],version:tt},Nt(e)}((0,s.pi)((0,s.pi)({},e),{integrations:t})),ee("configureScope",(function(e){e.setTag("runtime","browser"),e.addEventProcessor((function(e){return"transaction"===e.type&&"/404"===e.transaction?null:e}))}))}({dsn:Cn.env.SENTRY_DSN||Cn.env.NEXT_PUBLIC_SENTRY_DSN||"https://0ea8c10c315f41fb946c2f2b112963ca@o235797.ingest.sentry.io/5896987",tracesSampleRate:.3})},3029:function(e,t,n){"use strict";n.d(t,{k:function(){return d}});var r,i,o,s,a=n(7842),c=n(2322),u=n(7500),l=(r={},(0,a.Z)(r,u.BattleStatuses.UPCOMING,"pill--warning"),(0,a.Z)(r,u.BattleStatuses.ONGOING,"pill--success"),(0,a.Z)(r,u.BattleStatuses.FINISHED,"pill--danger"),r),h=(i={},(0,a.Z)(i,u.BattleStatuses.UPCOMING,"#feda44"),(0,a.Z)(i,u.BattleStatuses.ONGOING,"#46d158"),(0,a.Z)(i,u.BattleStatuses.FINISHED,"#a3483d"),o={},(0,a.Z)(o,u.BattleStatuses.UPCOMING,"#000"),(0,a.Z)(o,u.BattleStatuses.ONGOING,"#000"),(0,a.Z)(o,u.BattleStatuses.FINISHED,"#fff"),s={},(0,a.Z)(s,u.BattleStatuses.UPCOMING,"Upcoming"),(0,a.Z)(s,u.BattleStatuses.ONGOING,"Ongoing"),(0,a.Z)(s,u.BattleStatuses.FINISHED,"Finished"),s);function d(e){var t=e.status,n=e.minimal;return(0,c.jsx)("div",{className:"pill\n      ".concat(l[t],"\n      \n      ").concat(n?"battle-status--minimal hint--right":""),"aria-label":n?h[t]:"",children:n?"":h[t]})}},2220:function(e,t,n){"use strict";n.d(t,{z:function(){return u}});var r=n(865),i=n(6670),o=n(6297),s=n(2322),a=n(2784),c=n(9241),u=(0,a.forwardRef)((function(e,t){var n=e.type,a=void 0===n?"button":n,u=e.primary,l=e.danger,h=e.success,d=e.cool,p=e.size,f=e.extraClasses,m=void 0===f?"":f,g=e.children,v=e.isLoading,y=e.noTransition,_=void 0!==y&&y,b=e.tooltipClass,w=void 0===b?"":b,C=(0,o.Z)(e,["type","primary","danger","success","cool","size","extraClasses","children","isLoading","noTransition","tooltipClass"]);return(0,s.jsxs)("button",(0,i.Z)((0,r.Z)({type:a,ref:t,className:"button ".concat(w," ").concat(u?"button--primary":""," \n      ").concat(d?"button--cssbattle":"","\n      ").concat(p?"button--".concat(p):"","\n      ").concat(h?"button--success":""," ").concat(l?"button--danger":""," ").concat(m),disabled:v,"data-transition":!_},C),{children:[g,(0,s.jsx)("div",{style:{display:"flex",transition:"max-width 0.3s ease",overflow:"hidden",maxWidth:v?"1.6em":0},children:(0,s.jsx)(c.a,{height:"1.2em",leftMargin:"0.5rem"})})]}))}))},1251:function(e,t,n){"use strict";n.d(t,{qE:function(){return v},F$:function(){return g},xu:function(){return T},hE:function(){return E},XZ:function(){return w},e9:function(){return S},dy:function(){return k},II:function(){return b},bN:function(){return I},Rj:function(){return _},Y8:function(){return C},Z0:function(){return x}});var r=n(865),i=n(6670),o=n(6297),s=n(2322),a=n(2784),c=n(9097),u=n.n(c),l=n(3552),h=n(8329),d=n(9241);function p(e){var t=e.gap,n=void 0===t?"1rem":t,r=e.align,i=void 0===r?"center":r,o=e.justify,a=void 0===o?"flex-start":o,c=e.children;return(0,s.jsx)("div",{style:{display:"flex",gap:n,alignItems:i,justifyContent:a},children:c})}var f=n(9604),m=n(2367);function g(e){var t=e.url,n=e.userId,c=e.username,u=e.size,d=void 0===u?24:u,p=e.small,f=e.isPro,g=e.useCdnUrl,v=e.highlight,y=void 0===v||v,_=(0,o.Z)(e,["url","userId","username","size","small","isPro","useCdnUrl","highlight"]),b=(0,a.useContext)(l.S),w=t||(b&&n===b.uid?b.photoURL:"");return(w=g&&w?(0,m.X2)(t):t)?p&&(w=t):w=n&&!isNaN(parseFloat(n.slice(-1)))?"/images/catto-2.png":"/images/catto-1.png",(0,s.jsxs)("div",{style:{position:"relative"},children:[(0,s.jsx)("div",{className:"avatar-link__image ".concat(y&&b&&n===b.uid?"avatar-link__image--self":""," ").concat(f?"avatar-link__image--pro":""),children:(0,s.jsx)("img",(0,i.Z)((0,r.Z)({src:w,alt:c?"".concat(c," avatar"):""},_),{width:d,height:d}))}),f&&(0,s.jsxs)("div",{className:"avatar-link__probadge-wrap",children:[" ",(0,s.jsx)(h.Z,{height:"15"})]})]})}function v(e){var t=e.url,n=e.userId,i=e.username,a=e.size,c=void 0===a?24:a,l=e.small,h=e.isPro,d=e.useCdnUrl,p=e.highlight,f=void 0===p||p,m=e.disableLink,v=void 0!==m&&m,y=(0,o.Z)(e,["url","userId","username","size","small","isPro","useCdnUrl","highlight","disableLink"]);return(0,s.jsx)(u(),{href:"/player/".concat(i||n),children:(0,s.jsx)("a",{className:"avatar-link link hint--top","aria-label":i?"@".concat(i):"",style:{pointerEvents:v?"none":"auto"},children:(0,s.jsx)(g,(0,r.Z)({url:t,userId:n,username:i,size:c,small:l,isPro:h,useCdnUrl:d,highlight:f},y))})})}var y=["var(--clr-gold-crown)","var(--clr-silver-crown)","var(--clr-bronze-crown)"];function _(e){var t=e.name,n=e.userId,r=e.username,i=e.className,o=void 0===i?"":i,c=(e.isPro,e.rank),h=e.maxWidth,d=e.ellipsis,p=e.disableLink,m=void 0!==p&&p,g=(0,a.useContext)(l.S),v=(0,s.jsx)("span",{className:"".concat(o," ").concat(g&&n===g.uid?"append-star":""),children:t});return(0,s.jsxs)("div",{style:{display:d?"flex":"inline-block",gap:"0.25rem",alignItems:"center"},children:[c<=3?(0,s.jsx)(f.J,{name:"crown",size:"1em",color:y[c-1],marginRight:"0"}):null,(0,s.jsx)(u(),{href:"/player/".concat(r||n),children:(0,s.jsx)("a",{style:{pointerEvents:m?"none":"auto",maxWidth:h||"auto"},className:"name-link",children:v})})]})}function b(e){var t=e.label,n=e.help,a=e.classes,c=e.fullWidth,u=void 0!==c&&c,l=(0,o.Z)(e,["label","help","classes","fullWidth"]),h="input-".concat(~~(1e3*Math.random()));return(0,s.jsxs)("div",{className:"input-container ".concat(u?"input-container--full-width":""," ").concat(a),children:[(0,s.jsx)("label",{htmlFor:h,children:t}),(0,s.jsx)("input",(0,i.Z)((0,r.Z)({id:h},l),{style:{"--numDigits":l.maxLength}})),n?(0,s.jsx)("p",{className:"input-hint",children:n}):null]})}function w(e){var t=e.label,n=e.value,i=e.help,a=e.noMargin,c=void 0!==a&&a,u=e.fullWidth,l=void 0!==u&&u,h=(0,o.Z)(e,["label","value","help","noMargin","fullWidth"]);return(0,s.jsxs)("div",{className:"input-container ".concat(l?"input-container--full-width":""," ").concat(c?"input-container--no-margin":""),children:[(0,s.jsxs)("label",{children:[(0,s.jsx)("input",(0,r.Z)({type:"checkbox",checked:n},h))," ",t]}),i?(0,s.jsx)("p",{className:"input-hint",children:i}):null]})}function C(e){var t=e.label,n=e.value,i=e.help,a=e.noMargin,c=void 0!==a&&a,u=e.fullWidth,l=void 0!==u&&u,h=(0,o.Z)(e,["label","value","help","noMargin","fullWidth"]);return(0,s.jsxs)("div",{className:"input-container ".concat(l?"input-container--full-width":""," ").concat(c?"input-container--no-margin":""),children:[(0,s.jsxs)("label",{children:[(0,s.jsx)("input",(0,r.Z)({type:"radio",checked:n},h))," ",t]}),i?(0,s.jsx)("p",{className:"input-hint",children:i}):null]})}function E(e){var t=e.children,n=e.noPadding,r=e.center;return(0,s.jsx)("div",{className:"btn-group ".concat(r?"btn-group--center":"","  ").concat(n?"btn-group--nopadding":""," "),children:t})}function S(){return(0,s.jsx)("div",{style:{padding:"1rem"},children:(0,s.jsxs)(p,{gap:"5px",children:[(0,s.jsx)(d.a,{}),(0,s.jsx)("span",{children:"Loading..."})]})})}function T(e){var t=e.tag,n=void 0===t?"div":t,r=e.inline,i=e.style,o=e.className,a=e.children,c=n;return r&&(i.display="inline-block"),(0,s.jsx)(c,{style:i,className:o,children:a})}function I(e){var t=e.id;return t?t.length>5?"":"#".concat(t):""}function k(e){var t=e.label,n=e.children;return(0,s.jsx)("span",{role:"img","aria-label":t,children:n})}function x(e){var t=e.vertical,n=void 0!==t&&t;return(0,s.jsx)("div",{className:"separator ".concat(n&&"separator--vertical")})}},1551:function(e,t,n){"use strict";n.d(t,{W:function(){return p}});var r=n(7842),i=n(930),o=n(2322),s=n(2784),a=n(2367),c=n(1251),u=n(1211),l=n(5598),h=n(7841);function d(e){var t=e.count,n=e.label,r=e.shortUnits,i=e.minimal,s=e.size,a=e.padLength,c=e.showUnits;return(0,o.jsx)(l.VStack,{gap:"0.4rem",children:i?(0,o.jsxs)("span",{className:"countdown__number ".concat(r?"countdown__number--small":""),children:[a?t.toString().padStart(a,"0"):t,c?n:null,1===t||r?"":"s"]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.z,{countDigits:2,number:t,size:s}),c?(0,o.jsxs)(h.x,{appearance:"tertiary",mono:!1,transform:"capitalize",children:[n,1===t||r?"":"s"]}):null]})})}function p(e){var t=e.date,n=e.prefix,u=void 0===n?"":n,h=e.suffix,p=void 0===h?"remaining":h,f=e.separator,m=void 0===f?" : ":f,g=e.hideSeconds,v=void 0!==g&&g,y=e.onFinish,_=e.maxLength,b=void 0===_?4:_,w=e.shortUnits,C=void 0!==w&&w,E=e.showEmoji,S=void 0===E||E,T=e.minimal,I=void 0!==T&&T,k=e.big,x=void 0!==k&&k,A=e.size,D=void 0===A?.2:A,R=e.showUnits,M=void 0===R||R,O=e.justify,L=void 0===O?"flex-start":O,N=function(){var e=Date.now();if(e>new Date(t))return clearInterval(B.current),void("function"===typeof y&&y());var n=(0,a.hM)(e,t);if(b){var o,s=["days","hours","minutes","seconds"].map((function(e){var t;return t={},(0,r.Z)(t,e,n[e]),(0,r.Z)(t,"val",n[e]),t})),c=s.findIndex((function(e){return e.val}));s.splice(0,c),s.length=b,n=(o=Object).assign.apply(o,[{}].concat((0,i.Z)(s)))}j(n)},P=(0,s.useState)({}),F=P[0],j=P[1],B=(0,s.useRef)();(0,s.useEffect)((function(){N();var e=B.current=setInterval(N,1e3);return function(){clearInterval(e)}}),[t]);var U=F.days||F.hours,V=(F.days||F.hours||F.minutes)&&void 0!==F.minutes,H=!v&&(F.days||F.hours||F.minutes||F.seconds)&&void 0!==F.seconds,q=C||I;return(0,o.jsx)("div",{className:"countdown ".concat(I?"countdown--minimal":"countdown--primary","\n      ").concat(x?"countdown--big":"","\n      "),style:{"--size":D},children:(0,o.jsxs)(l.HStack,{gap:I?"0.1rem":0,align:"center",justify:L,children:[S?(0,o.jsx)(c.dy,{label:"watch",children:"\u23f0"}):null," ",u?" ".concat(u," "):null,F.days?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d,{label:"".concat(q?"d":"day"),count:F.days,shortUnits:q,size:D,minimal:I,showUnits:M}),U&&(0,o.jsx)("div",{className:"countdown__separator",children:m})]}):null," ",U?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d,{label:"".concat(q?"h":"hour"),count:F.hours,shortUnits:q,minimal:I,size:D,padLength:2,showUnits:M}),V&&(0,o.jsx)("div",{className:"countdown__separator",children:m})]}):null," ",V?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d,{label:"".concat(q?"m":"minute"),count:F.minutes,shortUnits:q,size:D,minimal:I,showUnits:M,padLength:2}),H&&(0,o.jsx)("div",{className:"countdown__separator",children:m})]}):null," ",H?(0,o.jsx)(d,{label:"".concat(q?"s":"second"),count:F.seconds,shortUnits:q,size:D,minimal:I,padLength:2,showUnits:M}):null,p?" ".concat(p):null]})})}},8724:function(e,t,n){"use strict";n.d(t,{L:function(){return a}});var r=n(2322),i=n(2784),o=n(8316),s=n(7414),a=function(e){var t=e.dropdownContainerClasses,n=void 0===t?"":t,o=e.dropdownBtnClasses,s=void 0===o?"":o,a=e.dropdownMenuClasses,u=void 0===a?"":a,l=e.dropdownBtnContent,h=e.alignRight,d=e.alignTop,p=e.isFixed,f=e.onOpen,m=e.minimal,g=e.fullWidth,v=void 0!==g&&g,y=e.direction,_=void 0===y?"bottom":y,b=e.ignoreScrollTop,w=void 0!==b&&b,C=e.children,E=e.disabled,S=void 0!==E&&E,T=function(e){A&&(k.current.contains(e.target)||I.current.contains(e.target)||D(!1))},I=(0,i.useRef)(),k=(0,i.useRef)(),x=(0,i.useState)(!1),A=x[0],D=x[1],R=(0,i.useState)(),M=R[0],O=R[1],L=(0,i.useState)(),N=L[0],P=L[1],F=(0,i.useState)(),j=F[0],B=F[1],U=function(){var e,t;if(null!=I.current){var n=I.current.getBoundingClientRect(),r=null===(e=I.current)||void 0===e||null===(t=e.parentElement)||void 0===t?void 0:t.getBoundingClientRect(),i=document.body,o=document.documentElement,s=w?0:window.pageYOffset||o.scrollTop||i.scrollTop,a=window.pageXOffset||o.scrollLeft||i.scrollLeft,c=o.clientTop||i.clientTop||0,u=o.clientLeft||i.clientLeft||0,l=n.top+s-c+n.height+8;l=p?l-s:l;var f=n.left+a-u,m=null===r||void 0===r?void 0:r.width,g=document.body.clientWidth,v=document.body.clientHeight,y=I.current.clientWidth,b=(I.current.clientHeight,n.left),C=n.top;switch(h&&(f=g-b-y-a+u),d&&(l=v-C-s+c),_){case"top":l=v-n.top-s+c+8;break;case"right":l=n.top+s-c,f=b+y+a+u+8}O(f),P(l),B(m)}};return(0,i.useEffect)((function(){if(U(),A){var e=k.current.querySelector(".dropdown-menu");e.setAttribute("tabindex","0"),e.focus()}return document.addEventListener("click",T,!1),function(){document.removeEventListener("click",T)}}),[A]),(0,i.useEffect)((function(){window.addEventListener("resize",U)}),[]),(0,r.jsxs)("button",{type:"button",ref:I,className:"dropdown-container ".concat(n),onClick:function(e){"INPUT"===e.target.tagName||"LABEL"===e.target.tagName||e.target.dataset.dropdownInteractive||(D(!A),f&&!A&&f())},disabled:S,children:[(0,r.jsx)("div",{className:"dropdown-btn ".concat(m?"dropdown-btn--minimal":""," ").concat("right"===_?"dropdown-btn--dir-right":""," ").concat(s),children:l}),(0,r.jsx)(c,{ref:k,isOpen:A,children:(0,r.jsx)("div",{style:{position:p?"fixed":"absolute",left:h?"auto":M+"px",top:d?"auto":N+"px",bottom:d?N+"px":"auto",right:h?M+"px":"auto",width:v?j:"null"},className:"dropdown-menu  ".concat(u),children:C})})]})},c=(0,i.forwardRef)((function(e,t){var n=e.isOpen,i=e.children;return(0,s.P)()&&n?(0,o.createPortal)((0,r.jsx)("div",{ref:t,children:i}),document.getElementById("portal-root")):null}))},2260:function(e,t,n){"use strict";n.d(t,{h:function(){return z}});var r=n(865),i=n(6670),o=n(2322),s=n(2784),a=n(5632),c=n(9097),u=n.n(c),l=n(9604),h=n(8724),d=n(3552),p=n(8387),f=n(7500),m=n(3029),g=n(3290),v=n(7037),y=n(6578),_=n.n(y),b=n(1251),w=n(7414),C=n(5598),E=n(9288),S=n(1551),T=n(2367),I=n(8788),k=n(2970),x=function(){var e=(0,s.useState)(0),t=e[0],n=e[1],r=(0,s.useState)("\ud83d\ude42"),i=(r[0],r[1]);return(0,s.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=(0,I.Z)((function(){var e;return(0,k.__generator)(this,(function(t){switch(t.label){case 0:return"visible"!==document.visibilityState?[2]:[4,fetch("/api/session")];case 1:return[4,t.sent().text()];case 2:return(e=parseInt.apply(void 0,[t.sent(),10]))&&n(e),[2]}}))}))).apply(this,arguments)}var r=window.setInterval(e,15e3);return e(),function(){clearInterval(r)}}),[]),(0,s.useEffect)((function(){t>=400&&i("\ud83d\udd25"),t<400&&i("\ud83e\udd2f"),t<350&&i("\ud83e\udd29"),t<250&&i("\ud83d\ude00"),t<150&&i("\ud83d\ude42")}),[t]),(0,o.jsxs)("div",{className:"header__live-counter",children:[(0,o.jsx)("div",{className:"header__live-counter-pulse"}),(0,o.jsx)("span",{className:"header__live-counter-number",children:t})," Online"]})},A=n(7841),D=n(5932),R=n.n(D),M=n(2548),O=n(5416),L=n(2220),N=n(1893),P=n(7892),F=(0,M.E)(A.x),j=function(){var e=(0,s.useContext)(d.k).streak,t=(0,s.useState)(!1),n=t[0],r=t[1],i=(0,N.a)(),a=(0,s.useState)(),c=a[0],h=a[1],p=(0,s.useState)(),f=p[0],m=p[1];return(0,s.useEffect)((function(){var e=new Date;e.setDate(e.getDate()+1),e.setHours(0,0,0,0),m(e)}),[]),isNaN(null===e||void 0===e?void 0:e.count)?null:(0,o.jsxs)(M.E.div,{className:R().widget,initial:{y:-100},animate:{y:0},onMouseOver:function(){return r(!0)},onMouseOut:function(){return r(!1)},children:[!!(null===e||void 0===e?void 0:e.count)&&(0,o.jsx)("img",{className:R().rays}),(0,o.jsx)(u(),{href:"/leaderboard/streak",children:(0,o.jsxs)("a",{className:R().widgetMain,children:[(0,o.jsxs)("svg",{width:"103",height:"110",viewBox:"0 0 103 110",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:R().bg,children:[(0,o.jsx)("g",{clipPath:"url(#clip0_974_2969)",children:(0,o.jsx)("g",{filter:"url(#filter0_di_974_2969)",children:(0,o.jsx)("path",{d:"M0 0H103V90.7685C103 94.4326 100.511 97.6284 96.958 98.5252L55.416 109.011C52.8456 109.66 50.1544 109.66 47.584 109.011L6.042 98.5252C2.4893 97.6284 0 94.4326 0 90.7685V0Z",fill:"url(#paint0_linear_974_2969)"})})}),(0,o.jsxs)("defs",{children:[(0,o.jsxs)("filter",{id:"filter0_di_974_2969",x:"-60",y:"-30",width:"223",height:"221.498",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,o.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,o.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,o.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,o.jsx)("feOffset",{dx:"1",dy:"1"}),(0,o.jsx)("feGaussianBlur",{stdDeviation:"1.5"}),(0,o.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,o.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"}),(0,o.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_974_2969"})]}),(0,o.jsxs)("linearGradient",{id:"paint0_linear_974_2969",x1:"-40",y1:"-31",x2:"101",y2:"106",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"var(--streak-widget-clr-1)"}),(0,o.jsx)("stop",{offset:"1",stopColor:"var(--streak-widget-clr-2)"})]}),(0,o.jsx)("clipPath",{id:"clip0_974_2969",children:(0,o.jsx)("rect",{width:"103",height:"110",fill:"white"})})]})]}),(0,o.jsx)("div",{className:R().widgetShineBig}),(0,o.jsx)("div",{className:R().widgetShineSmall}),(0,o.jsx)("div",{className:R().widgetText,children:(0,o.jsxs)(C.VStack,{gap:"0.4rem",children:[(0,o.jsx)(l.J,{name:(null===e||void 0===e?void 0:e.hasPlayedToday)?"tick-round":"clock",color:(null===e||void 0===e?void 0:e.hasPlayedToday)?"var(--clr-green-bright)":"var(--clr-text-lightest-final)",size:"14",marginRight:"0"}),(0,o.jsxs)(C.VStack,{gap:"0rem",children:[n&&!(null===e||void 0===e?void 0:e.hasPlayedToday)?null:(0,o.jsx)(F,{size:3,weight:"700",appearance:"primary",mono:!1,lineHeight:"1",animate:{opacity:1},initial:{opacity:0},exit:{opacity:0},children:null===e||void 0===e?void 0:e.count}),n&&!(null===e||void 0===e?void 0:e.hasPlayedToday)?(0,o.jsxs)(C.VStack,{gap:"0rem",children:[(0,o.jsx)(F,{size:0,weight:"600",appearance:"tertiary",mono:!1,animate:{y:0,opacity:1},initial:{y:-10,opacity:0},exit:{y:-10,opacity:0},transition:{delay:.1},children:f?(0,o.jsx)(S.W,{date:f,minimal:!0,suffix:"",showEmoji:!1,showUnits:!1}):null}),(0,o.jsx)(F,{appearance:"tertiary",size:0,animate:{y:0,opacity:1},initial:{y:-10,opacity:0},exit:{y:-10,opacity:0},transition:{delay:.2},children:"left"})]}):(0,o.jsx)(F,{size:0,weight:"600",appearance:"tertiary",mono:!1,animate:{y:0,opacity:1},initial:{y:10,opacity:0},exit:{y:10,opacity:0},transition:{delay:.1},children:"day streak"})]})]})})]})}),function(){var e;return i&&!(null===(e=i.settings)||void 0===e?void 0:e.streakMailNotifications)&&!1!==c}()&&(null===e||void 0===e?void 0:e.count)>0?(0,o.jsxs)("div",{className:R().reminderPopup,children:[(0,o.jsx)(O.s,{padding:"1.5rem",children:(0,o.jsxs)(C.VStack,{children:[(0,o.jsx)(A.x,{appearance:"primary",weight:"600",size:"2",mono:!1,children:"Streak reminders"}),(0,o.jsx)(A.x,{appearance:"secondary",weight:"500",size:"1",align:"center",mono:!1,children:"Don't wanna break your streak? Get reminded via email 4 hrs before your streak is about to break"}),(0,o.jsx)(L.z,{size:"full-width",onClick:function(){h(!0),(0,g.q)({name:"streakMailNotifications",label:1}),(0,v.Ii)(i.uid,{"settings.streakMailNotifications":!0}).then((function(){h(!1),P.Am.success('Reminder set! You can change this from "Settings" anytime.')}))},isLoading:c,primary:!0,children:c?"Enabling...":"Enable reminders"})]})})," "]}):null,(0,o.jsx)("div",{className:R().bar}),(0,o.jsx)("div",{className:R().bar}),(0,o.jsx)("div",{className:R().bar}),(0,o.jsx)("div",{className:R().bar})]})},B=n(4675),U=n(3947);function V(e){return e.endDate||+new Date(1e3*e.startDate.seconds)+60*e.duration*1e3}function H(e){var t=e.battleId;e.battleName;return(0,o.jsx)(h.L,{dropdownBtnClasses:"dropdown-btn--minimal",dropdownMenuClasses:"dropdown-menu--scrollable",isFixed:!0,onOpen:function(){(0,g.q)({name:t?"switchBattleDropdownOpen":"chooseBattleDropdownOpen"})},dropdownBtnContent:t?(0,o.jsxs)(o.Fragment,{children:["Battle ",(0,o.jsx)(b.bN,{id:t})]}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("span",{className:"desktop-only",children:"Choose Battle"})}),children:f.battles.slice(0).reverse().map((function(e,t){return(0,o.jsx)(u(),{href:"/battle/".concat(e.id),children:(0,o.jsxs)("a",{className:"dropdown-menu__item",children:["#",e.id," - ",e.name," ",(0,o.jsx)(m.k,{status:(0,f.getBattleStatus)(e)})]})},e.id)}))})}function q(e){var t=e.levels,n=e.currentLevel,r=(0,E.I)();return(0,o.jsx)(h.L,{dropdownBtnClasses:"dropdown-btn--minimal",dropdownMenuClasses:"dropdown-menu--scrollable",isFixed:!0,onOpen:function(){(0,g.q)({name:"switchTargetDropdownOpen"})},dropdownBtnContent:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(b.bN,{id:n.id}),(0,o.jsxs)("span",{className:"desktop-only",children:[". ",n.name]})]}),children:(0,o.jsxs)(C.VStack,{gap:"1rem",align:"stretch",children:[(0,o.jsx)("div",{children:t.map((function(e){var t=e.id,n=e.name;return t?(0,o.jsx)(u(),{href:"/play/".concat(t),children:(0,o.jsxs)("a",{className:"dropdown-menu__item",children:[(0,o.jsx)(b.bN,{id:t}),". ",n]})},t):(0,o.jsx)("div",{className:"dropdown-menu__item",style:{color:"var(--clr-text-light)"},children:"Locked"})}))}),(0,o.jsxs)("p",{style:{color:"var(--clr-text-lightest)"},children:["Tip: Use ",r,"+K for quick navigation"]})]})})}function z(e){e.levelId;var t=e.level,n=e.battle,c=(e.battleId,e.battleName,e.onToggleSidebar),m=e.isSidebarVisible,y=(0,s.useContext)(d.S),E=(0,s.useContext)(d.k),I=E.theme,k=E.setTheme,D=y?(y.displayName||"User").split(" ")[0]:"",R=(0,s.useState)(),O=R[0],L=R[1],N=(0,a.useRouter)(),P=N.pathname.match(/learn/),F=(0,w.P)();(0,s.useEffect)((function(){n&&(0,v.TU)(n.levelIds).then(L)}),[n]);var z=n?(0,f.getBattleStatus)(n):null,$=/\/(play\/\S+)|(learn\/\w+\/\d+)/.test(N.asPath),W=(0,s.useMemo)((function(){return"daily"===(null===t||void 0===t?void 0:t.type)?(0,T.dQ)(t.startDate,!0):null}),[null===t||void 0===t?void 0:t.name]);return(0,o.jsxs)("div",{className:"v2-header",children:[(0,o.jsxs)("div",{className:"header__left",children:[($||(0,T.tq)())&&(0,o.jsxs)(C.HStack,{children:[c&&(0,o.jsx)("button",{className:"button button--circular",onClick:c,children:m?(0,o.jsx)(l.J,{name:"cross",marginRight:"0",size:"20"}):(0,o.jsx)(l.J,{name:"menu",marginRight:"0",size:"24"})}),(0,o.jsx)("div",{className:"".concat(_().headerLogo," desktop-only"),children:(0,o.jsx)(u(),{href:"/",children:(0,o.jsx)("a",{className:"logo-image logo-image--full"})})}),(0,T.tq)()&&!$?(0,o.jsx)("div",{className:"".concat(_().headerLogo," mobile-only"),children:(0,o.jsx)(u(),{href:"/",children:(0,o.jsx)("a",{className:"logo-image logo-image--full"})})}):null,(0,T.tq)()&&$?(0,o.jsx)("div",{className:"".concat(_().headerLogoSmall," mobile-only"),children:(0,o.jsx)(u(),{href:"/",children:(0,o.jsx)("a",{className:"logo-image logo-image--glyph"})})}):null]}),(0,o.jsxs)("div",{className:_().breadcrumbs,children:[t||n?(0,o.jsx)(u(),{href:"daily"===(null===t||void 0===t?void 0:t.type)?"/daily":"/battles",children:(0,o.jsx)("a",{style:{display:"block"},children:(0,o.jsxs)(C.HStack,{gap:"0.2rem",children:[(0,o.jsx)(l.J,{name:"daily"===(null===t||void 0===t?void 0:t.type)?"daily-targets":"battle",size:"18",marginRight:"0",color:"var(--clr-text-lightest-final)"}),(0,o.jsx)(A.x,{appearance:"tertiary",size:1,weight:"500",mono:!1,classes:"desktop-only",children:"daily"===(null===t||void 0===t?void 0:t.type)?"Daily Targets":"Battles"})]})})}):null,!n&&t?(0,o.jsx)(M.E.h2,{className:"level",initial:{x:-10,opacity:0},exit:{x:-10,opacity:0},animate:{x:0,opacity:1},children:W||t.name}):null,n&&t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(M.E.h2,{className:"level",initial:{x:-10,opacity:0},exit:{x:-10,opacity:0},animate:{x:0,opacity:1},children:(0,o.jsx)(u(),{href:"/battle/".concat(n.id),children:(0,o.jsxs)("a",{children:[(0,o.jsx)("span",{className:"desktop-only",children:"Battle "}),(0,o.jsx)(b.bN,{id:n.id})]})},n.id)}),O?(0,o.jsx)(M.E.div,{initial:{x:-10,opacity:0},exit:{x:-10,opacity:0},animate:{x:0,opacity:1,transition:{delay:.2}},children:(0,o.jsx)(q,{levels:O,currentLevel:t})}):null]}):null,n&&!t?(0,o.jsx)(M.E.div,{initial:{x:-10,opacity:0},exit:{x:-10,opacity:0},animate:{x:0,opacity:1},children:(0,o.jsx)(H,{battleId:n.id,battleName:n.name})}):null,P?(0,o.jsx)(u(),{href:"/learn",children:(0,o.jsx)("a",{style:{display:"block"},className:"desktop-only",children:(0,o.jsxs)(C.HStack,{gap:"0.2rem",children:[(0,o.jsx)(l.J,{name:"learn",size:"18",marginRight:"0",color:"var(--clr-text-lightest-final)"}),(0,o.jsx)(A.x,{appearance:"tertiary",size:1,weight:"500",mono:!1,children:"Learn"})]})})}):null]})]}),(0,o.jsxs)("div",{children:[z===f.BattleStatuses.ONGOING&&(null===n||void 0===n?void 0:n.startDate)&&n.gameMode===f.BattleGameModes.FIRST_TO_MATCH?(0,o.jsx)("div",{style:{display:"flex",alignItems:"center",height:"100%"},children:(0,o.jsx)(S.W,{date:V(n),suffix:"left",onFinish:function(){},minimal:!0})}):null,$||(0,T.tq)()||(null===n||void 0===n?void 0:n.gameMode)===f.BattleGameModes.FIRST_TO_MATCH?null:(0,o.jsx)(j,{})]}),(0,o.jsxs)("div",{className:"header__right",children:[(0,o.jsx)(C.Spacer,{}),(0,o.jsx)(x,{}),(0,o.jsx)("button",{"aria-label":"light"===I?"Dark mode":"Light mode",className:"button button--circular",onClick:function(){var e="dark"===I?"light":"dark";k(e);var t=JSON.parse(window.localStorage.getItem("lastUser")||null);t&&(t.settings=(0,i.Z)((0,r.Z)({},t.settings),{theme:e}),(0,T.xX)(t)),(0,g.q)({name:"themeChanged",label:e}),y&&(0,v.Ii)(y.uid,{"settings.theme":e})},children:"light"===I?(0,o.jsx)(l.J,{name:"moon",marginRight:"0",size:"24"}):(0,o.jsx)(l.J,{name:"sun",marginRight:"0",size:"24"})}),F&&y?(0,o.jsx)("div",{className:"user-info",children:(0,o.jsxs)(h.L,{isFixed:!0,alignRight:!0,dropdownBtnClasses:"dropdown-btn--user",dropdownBtnContent:(0,o.jsxs)(C.HStack,{gap:"0.3rem",align:"center",children:[y.photoURL?(0,o.jsx)("img",{src:y.photoURL,className:"user-info__avatar",alt:"User profile"}):(0,o.jsx)(l.J,{name:"user",size:"1.75rem"}),(0,o.jsx)("span",{className:"desktop-only",children:D}),y.isPro&&(0,o.jsxs)("div",{className:"desktop-only d-f",children:[" ",(0,o.jsx)(p.Z,{})," "]})]}),children:[y.isPro?null:(0,o.jsx)(u(),{href:"/plus",children:(0,o.jsx)("a",{className:"dropdown-menu__item highlighted-link",children:(0,o.jsxs)(C.HStack,{align:"center",gap:"0.3rem",children:[(0,o.jsx)(l.J,{name:"sparkle",size:"1.25rem"}),(0,o.jsxs)(C.HStack,{align:"center",gap:"0.5rem",children:[(0,o.jsx)("span",{children:"Upgrade to"}),(0,o.jsx)(p.Z,{})]})]})})}),(0,o.jsx)(u(),{href:"/player/".concat(y.username||y.uid),children:(0,o.jsx)("a",{className:"dropdown-menu__item",children:(0,o.jsxs)(C.HStack,{align:"center",gap:"0.3rem",children:[(0,o.jsx)(l.J,{name:"profile",size:"1.25rem"}),"View Profile"]})})}),!y.username&&(0,o.jsx)(u(),{href:"/settings",children:(0,o.jsx)("a",{className:"dropdown-menu__item",children:(0,o.jsxs)(C.HStack,{align:"center",gap:"0.3rem",children:[(0,o.jsx)(l.J,{name:"profile",size:"1.25rem"}),"Claim a username"]})})}),(0,o.jsx)(u(),{href:"/my-battles",children:(0,o.jsx)("a",{className:"dropdown-menu__item",children:(0,o.jsxs)(C.HStack,{align:"center",gap:"0.3rem",children:[(0,o.jsx)(l.J,{name:"battle",size:"1.25rem"}),"My Battles"]})})}),y?(0,o.jsx)(u(),{href:"/me",children:(0,o.jsx)("a",{className:"dropdown-menu__item",children:(0,o.jsxs)(C.HStack,{align:"center",gap:"0.3rem",children:[(0,o.jsx)(l.J,{name:"stats",size:"1.25rem"}),"My Analytics"]})})}):null,(0,o.jsx)(u(),{href:"/settings",children:(0,o.jsx)("a",{className:"dropdown-menu__item",children:(0,o.jsxs)(C.HStack,{align:"center",gap:"0.3rem",children:[(0,o.jsx)(l.J,{name:"gear",size:"1.25rem"}),"Settings"]})})}),(0,o.jsx)("button",{type:"button",className:"dropdown-menu__item",onClick:function(){window.confirm("Are you sure you want to logout?")&&(window.localStorage.removeItem("lastUser"),(0,U.w7)(B.I8).then((function(){window.location.reload()})))},children:(0,o.jsxs)(C.HStack,{align:"center",gap:"0.3rem",children:[(0,o.jsx)(l.J,{name:"logout",size:"1.25rem"}),"Logout"]})})]})}):(0,o.jsx)(u(),{href:"/login",children:(0,o.jsxs)("a",{className:"button",children:[(0,o.jsx)("div",{className:"desktop-only",children:"Sign In / Sign Up"}),(0,o.jsx)("span",{className:"mobile-only",children:"Login"})]})})]})]})}},9604:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var r=n(2322),i=(0,n(2784).forwardRef)((function(e,t){var n,i=e.name,o=e.color,s=e.size,a=void 0===s?20:s,c=e.marginRight,u=e.marginLeft;return"tick"===i?n=(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.1858 5.62463C21.9571 6.37987 21.9701 7.61737 21.2149 8.38867L10.4647 19.3675C10.097 19.743 9.59362 19.9546 9.0681 19.9546C8.54258 19.9546 8.0392 19.743 7.67154 19.3675L2.78507 14.3771C2.02983 13.6058 2.04285 12.3683 2.81415 11.6131C3.58545 10.8578 4.82296 10.8708 5.5782 11.6421L9.0681 15.2063L18.4218 5.65371C19.177 4.88241 20.4145 4.86939 21.1858 5.62463Z",fill:"currentColor"}):"tick-round"===i?n=(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12ZM6.366 13.1931C5.69036 12.5298 5.68031 11.4444 6.34356 10.7688C7.00681 10.0932 8.09219 10.0831 8.76782 10.7464L11.2143 13.148L16.0178 8.25473C16.681 7.57909 17.7664 7.56905 18.442 8.23229C19.1177 8.89554 19.1277 9.98092 18.4645 10.6566L12.4839 16.7488C12.4762 16.7571 12.4683 16.7652 12.4603 16.7734C12.0652 17.1759 11.5202 17.3422 11.0013 17.2706C10.6491 17.222 10.3089 17.0639 10.0356 16.7957C10.0287 16.7889 10.0218 16.782 10.0149 16.7751L6.366 13.1931Z",fill:"currentColor"}):"cross"===i?n=(0,r.jsx)("path",{d:"M4.47383 4.4705C5.1056 3.83873 6.14668 3.84763 6.76955 4.4705L12.0017 9.70261L17.2338 4.4705C17.8567 3.84763 18.8977 3.83873 19.5295 4.4705C20.1613 5.10226 20.1524 6.14335 19.5295 6.76622L14.2974 11.9983L19.5295 17.2304C20.1613 17.8622 20.1613 18.8944 19.5295 19.5262C18.8977 20.1579 17.8656 20.1579 17.2338 19.5262L12.0017 14.2941L6.76955 19.5262C6.13778 20.1579 5.1056 20.1579 4.47383 19.5262C3.84206 18.8944 3.84206 17.8622 4.47383 17.2304L9.70594 11.9983L4.47383 6.76622C3.85096 6.14335 3.84206 5.10226 4.47383 4.4705Z",fill:"currentColor"}):"cross-round"===i?n=(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M24 12c0 6.627-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0s12 5.373 12 12Zm-8.878-5.202a1.7 1.7 0 0 1 2.404 2.404l-2.758 2.758 2.758 2.757a1.7 1.7 0 0 1-2.404 2.405l-2.758-2.758-2.757 2.758a1.7 1.7 0 0 1-2.404-2.405L9.96 11.96 7.202 9.202a1.7 1.7 0 1 1 2.404-2.404l2.758 2.758 2.758-2.758Z",clipRule:"evenodd"}):"sword-round"===i?n=(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12Zm4.016-10.09L8.182 6H6.318v1.881l7.835 7.911-.928.948.928.937 1.139-1.18 2.12 2.107c.257.26.671.26.928 0l.467-.472a.667.667 0 0 0 0-.937l-2.093-2.114 1.214-1.144L17 13l-.984.91Zm1.666-6.035-3.121 3.15-1.863-1.874L15.818 6h1.864v1.875Zm-8.243 4.567 1.863 1.908-1.455 1.442.928.948-.928.937-1.139-1.18-2.12 2.114a.651.651 0 0 1-.928 0l-.467-.472a.667.667 0 0 1 0-.938l2.093-2.12-.968-.97.929-.938.737.738 1.455-1.47Z",clipRule:"evenodd"}):"error"===i?n=(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM10 6C10 4.89543 10.8954 4 12 4C13.1046 4 14 4.89543 14 6V12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12V6ZM12 16C10.8954 16 10 16.8954 10 18C10 19.1046 10.8954 20 12 20C13.1046 20 14 19.1046 14 18C14 16.8954 13.1046 16 12 16Z",fill:"currentColor"}):"user"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M12 19.2c-2.5 0-4.71-1.28-6-3.2.03-2 4-3.1 6-3.1s5.97 1.1 6 3.1a7.232 7.232 0 0 1-6 3.2M12 5a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3m0-3A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10z"}):"help"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"}):"battle"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M6.2,2.44L18.1,14.34L20.22,12.22L21.63,13.63L19.16,16.1L22.34,19.28C22.73,19.67 22.73,20.3 22.34,20.69L21.63,21.4C21.24,21.79 20.61,21.79 20.22,21.4L17,18.23L14.56,20.7L13.15,19.29L15.27,17.17L3.37,5.27V2.44H6.2M15.89,10L20.63,5.26V2.44H17.8L13.06,7.18L15.89,10M10.94,15L8.11,12.13L5.9,14.34L3.78,12.22L2.37,13.63L4.84,16.1L1.66,19.29C1.27,19.68 1.27,20.31 1.66,20.7L2.37,21.41C2.76,21.8 3.39,21.8 3.78,21.41L7,18.23L9.44,20.7L10.85,19.29L8.73,17.17L10.94,15Z"}):"link"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M14.6667 0V2.66667H19.4533L6.34667 15.7733L8.22667 17.6533L21.3333 4.54667V9.33333H24V0H14.6667ZM21.3333 21.3333H2.66667V2.66667H12V0H2.66667C1.18667 0 0 1.2 0 2.66667V21.3333C0 22.0406 0.280951 22.7189 0.781048 23.219C1.28115 23.719 1.95942 24 2.66667 24H21.3333C22.0406 24 22.7189 23.719 23.219 23.219C23.719 22.7189 24 22.0406 24 21.3333V12H21.3333V21.3333Z"}):"bell"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M21,19V20H3V19L5,17V11C5,7.9 7.03,5.17 10,4.29C10,4.19 10,4.1 10,4A2,2 0 0,1 12,2A2,2 0 0,1 14,4C14,4.1 14,4.19 14,4.29C16.97,5.17 19,7.9 19,11V17L21,19M14,21A2,2 0 0,1 12,23A2,2 0 0,1 10,21"}):"twitter-old"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"}):"twitter"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M13.9027 10.4643L21.3482 2H19.5838L13.1189 9.34942L7.95547 2H2L9.8082 13.1136L2 21.9897H3.76443L10.5915 14.2285L16.0445 21.9897H22L13.9027 10.4643ZM11.4861 13.2115L10.695 12.1049L4.40018 3.29901H7.11025L12.1902 10.4056L12.9813 11.5123L19.5847 20.7498H16.8746L11.4861 13.2115Z"}):"github"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z"}):"codepen"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M15.09,12L12,14.08V14.09L8.91,12L12,9.92V9.92L15.09,12M12,2C11.84,2 11.68,2.06 11.53,2.15L2.5,8.11C2.27,8.22 2.09,8.43 2,8.67V14.92C2,15.33 2,15.33 2.15,15.53L11.53,21.86C11.67,21.96 11.84,22 12,22C12.16,22 12.33,21.95 12.47,21.85L21.85,15.5C22,15.33 22,15.33 22,14.92V8.67C21.91,8.42 21.73,8.22 21.5,8.1L12.47,2.15C12.32,2.05 12.16,2 12,2M16.58,13L19.59,15.04L12.83,19.6V15.53L16.58,13M19.69,8.9L16.58,11L12.83,8.47V4.38L19.69,8.9M20.33,10.47V13.53L18.07,12L20.33,10.47M7.42,13L11.17,15.54V19.6L4.41,15.04L7.42,13M4.31,8.9L11.17,4.39V8.5L7.42,11L4.31,8.9M3.67,10.5L5.93,12L3.67,13.54V10.5Z"}):"earth"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M17.9,17.39C17.64,16.59 16.89,16 16,16H15V13A1,1 0 0,0 14,12H8V10H10A1,1 0 0,0 11,9V7H13A2,2 0 0,0 15,5V4.59C17.93,5.77 20,8.64 20,12C20,14.08 19.2,15.97 17.9,17.39M11,19.93C7.05,19.44 4,16.08 4,12C4,11.38 4.08,10.78 4.21,10.21L9,15V16A2,2 0 0,0 11,18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}):"plus-round"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}):"discord"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M22,24L16.75,19L17.38,21H4.5A2.5,2.5 0 0,1 2,18.5V3.5A2.5,2.5 0 0,1 4.5,1H19.5A2.5,2.5 0 0,1 22,3.5V24M12,6.8C9.32,6.8 7.44,7.95 7.44,7.95C8.47,7.03 10.27,6.5 10.27,6.5L10.1,6.33C8.41,6.36 6.88,7.53 6.88,7.53C5.16,11.12 5.27,14.22 5.27,14.22C6.67,16.03 8.75,15.9 8.75,15.9L9.46,15C8.21,14.73 7.42,13.62 7.42,13.62C7.42,13.62 9.3,14.9 12,14.9C14.7,14.9 16.58,13.62 16.58,13.62C16.58,13.62 15.79,14.73 14.54,15L15.25,15.9C15.25,15.9 17.33,16.03 18.73,14.22C18.73,14.22 18.84,11.12 17.12,7.53C17.12,7.53 15.59,6.36 13.9,6.33L13.73,6.5C13.73,6.5 15.53,7.03 16.56,7.95C16.56,7.95 14.68,6.8 12,6.8M9.93,10.59C10.58,10.59 11.11,11.16 11.1,11.86C11.1,12.55 10.58,13.13 9.93,13.13C9.29,13.13 8.77,12.55 8.77,11.86C8.77,11.16 9.28,10.59 9.93,10.59M14.1,10.59C14.75,10.59 15.27,11.16 15.27,11.86C15.27,12.55 14.75,13.13 14.1,13.13C13.46,13.13 12.94,12.55 12.94,11.86C12.94,11.16 13.45,10.59 14.1,10.59Z"}):"gear"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"}):"discord-alt"===i?n=(0,r.jsx)("path",{d:"M15.0665 3.75452H15.0213L14.7166 4.05615C17.843 4.96104 19.3557 6.37418 19.3557 6.37418C17.3408 5.36674 15.525 4.86301 13.7092 4.65941C12.3971 4.45581 11.085 4.56289 9.9765 4.65941H9.67487C8.96604 4.65941 7.45789 4.96104 5.43697 5.7679C4.73267 6.07406 4.32848 6.27464 4.32848 6.27464C4.32848 6.27464 5.83965 4.76348 9.16964 3.95662L8.96604 3.75302C8.96604 3.75302 6.44441 3.6565 3.72221 5.66836C3.72221 5.66836 1 10.41 1 16.2556C1 16.2556 2.50815 18.8797 6.645 18.9793C6.645 18.9793 7.24826 18.1754 7.85906 17.4681C5.53651 16.7623 4.63162 15.3507 4.63162 15.3507C4.63162 15.3507 4.83371 15.4502 5.13685 15.6523H5.22734C5.27258 15.6523 5.2937 15.6749 5.31783 15.6975V15.7066C5.34196 15.7307 5.36307 15.7518 5.40832 15.7518C5.90601 15.957 6.4037 16.159 6.8109 16.3551C7.51369 16.6597 8.41707 16.9629 9.52556 17.1635C10.9281 17.3671 12.5358 17.4651 14.3667 17.1635C15.2716 16.9599 16.1765 16.7608 17.0814 16.3566C17.6696 16.055 18.3935 15.7534 19.1883 15.2451C19.1883 15.2451 18.2834 16.6567 15.8628 17.3625C16.3605 18.0653 17.0618 18.8707 17.0618 18.8707C21.2001 18.7802 22.8078 16.156 22.8983 16.2676C22.8983 10.4311 20.161 5.68043 20.161 5.68043C17.6952 3.84954 15.3877 3.78016 14.9805 3.78016L15.065 3.75L15.0665 3.75452ZM15.3199 10.41C16.3801 10.41 17.2352 11.3149 17.2352 12.4234C17.2352 13.5394 16.3756 14.4443 15.3199 14.4443C14.2642 14.4443 13.4045 13.5394 13.4045 12.4324C13.4075 11.3164 14.2687 10.4145 15.3199 10.4145V10.41ZM8.46835 10.41C9.52405 10.41 10.3777 11.3149 10.3777 12.4234C10.3777 13.5394 9.51802 14.4443 8.46232 14.4443C7.40661 14.4443 6.54697 13.5394 6.54697 12.4324C6.54697 11.3164 7.40661 10.4145 8.46232 10.4145L8.46835 10.41Z",fill:"currentColor"}):"mail"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z"}):"leaderboard"===i?n=(0,r.jsx)("path",{d:"M8.26367 15.7061V5.18555C8.26367 4.5791 8.65918 4.20117 9.25684 4.20117H11.0234C11.6299 4.20117 12.0166 4.5791 12.0166 5.18555V15.7061C12.0166 16.3037 11.6299 16.6904 11.0234 16.6904H9.25684C8.65918 16.6904 8.26367 16.3037 8.26367 15.7061ZM12.9834 15.7061V7.27734C12.9834 6.67969 13.3613 6.29297 13.9678 6.29297H15.7432C16.3408 6.29297 16.7363 6.67969 16.7363 7.27734V15.7061C16.7363 16.3037 16.3408 16.6904 15.7432 16.6904H13.9678C13.3613 16.6904 12.9834 16.3037 12.9834 15.7061ZM3.54395 15.7061V8.97363C3.54395 8.37598 3.93945 7.98047 4.53711 7.98047H6.30371C6.90137 7.98047 7.29688 8.37598 7.29688 8.97363V15.7061C7.29688 16.3037 6.90137 16.6904 6.30371 16.6904H4.53711C3.93945 16.6904 3.54395 16.3037 3.54395 15.7061ZM17.7031 15.7061V10.6348C17.7031 10.0371 18.0898 9.65039 18.6963 9.65039H20.4629C21.0605 9.65039 21.4561 10.0371 21.4561 10.6348V15.7061C21.4561 16.3037 21.0605 16.6904 20.4629 16.6904H18.6963C18.0898 16.6904 17.7031 16.3037 17.7031 15.7061ZM2.39258 19.1865C2.39258 18.5186 2.90234 18.0527 3.54395 18.0527H21.4561C22.1064 18.0527 22.6074 18.5186 22.6074 19.1865C22.6074 19.8457 22.1064 20.3115 21.4561 20.3115H3.54395C2.90234 20.3115 2.39258 19.8457 2.39258 19.1865Z",fill:"currentColor"}):"home"===i?n=(0,r.jsx)("path",{d:"M1.47461 10.8613C1.47461 10.5542 1.62402 10.2305 1.90625 9.99805L10.5557 2.73486C11.4355 1.99609 12.5811 1.99609 13.4609 2.73486L16.939 5.65674V4.38672C16.939 3.99658 17.1963 3.74756 17.5864 3.74756H19.1138C19.4956 3.74756 19.7529 3.99658 19.7529 4.38672V8.01416L22.0938 9.98975C22.376 10.2222 22.5254 10.5376 22.5254 10.8696C22.5254 11.4839 22.0771 11.8823 21.438 11.8823C21.1392 11.8823 20.8403 11.7329 20.5913 11.5171L12.4731 4.70215C12.166 4.44482 11.8423 4.44482 11.5518 4.70215L3.41699 11.5171C3.16797 11.7329 2.86914 11.8823 2.56201 11.8823C1.89795 11.8823 1.47461 11.4424 1.47461 10.8613ZM4.33008 18.415V12.5298L11.4688 6.54492C11.8008 6.2627 12.1992 6.25439 12.5396 6.54492L19.6699 12.5298V18.415C19.6699 19.6768 18.8315 20.4653 17.5034 20.4653H6.49658C5.16846 20.4653 4.33008 19.6768 4.33008 18.415ZM14.2329 18.3237V13.1108C14.2329 12.7124 13.9839 12.4551 13.5854 12.4551H10.4229C10.0244 12.4551 9.75879 12.7124 9.75879 13.1108V18.3237H14.2329Z",fill:"currentColor"}):"daily-targets"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M5.374 20.065c-2.004 0-3.103-1.09-3.103-3.085V6.346c0-1.995 1.1-3.085 3.103-3.085h12.243c2.013 0 3.103 1.09 3.103 3.085V16.98c0 1.996-1.09 3.085-3.103 3.085H5.374Zm.167-2.267h11.91c.65 0 1.001-.317 1.001-1.01V8.973c0-.695-.351-1.011-1.002-1.011H5.541c-.66 0-1.002.316-1.002 1.01v7.814c0 .694.343 1.01 1.002 1.01Zm4.307-6.987c-.326 0-.44-.097-.44-.422V9.87c0-.316.114-.422.44-.422h.518c.317 0 .43.106.43.422v.519c0 .325-.113.421-.43.421h-.518Zm2.795 0c-.326 0-.44-.097-.44-.422V9.87c0-.316.114-.422.44-.422h.518c.316 0 .43.106.43.422v.519c0 .325-.114.421-.43.421h-.518Zm2.794 0c-.325 0-.439-.097-.439-.422V9.87c0-.316.114-.422.44-.422h.51c.325 0 .439.106.439.422v.519c0 .325-.114.421-.44.421h-.51Zm-8.384 2.75c-.325 0-.43-.096-.43-.421v-.519c0-.316.105-.422.43-.422h.518c.325 0 .431.106.431.422v.519c0 .325-.106.421-.43.421h-.52Zm2.795 0c-.326 0-.44-.096-.44-.421v-.519c0-.316.114-.422.44-.422h.518c.317 0 .43.106.43.422v.519c0 .325-.113.421-.43.421h-.518Zm2.795 0c-.326 0-.44-.096-.44-.421v-.519c0-.316.114-.422.44-.422h.518c.316 0 .43.106.43.422v.519c0 .325-.114.421-.43.421h-.518Zm2.794 0c-.325 0-.439-.096-.439-.421v-.519c0-.316.114-.422.44-.422h.51c.325 0 .439.106.439.422v.519c0 .325-.114.421-.44.421h-.51Zm-8.384 2.752c-.325 0-.43-.106-.43-.422v-.519c0-.325.105-.422.43-.422h.518c.325 0 .431.097.431.422v.519c0 .316-.106.421-.43.421h-.52Zm2.795 0c-.326 0-.44-.106-.44-.422v-.519c0-.325.114-.422.44-.422h.518c.317 0 .43.097.43.422v.519c0 .316-.113.421-.43.421h-.518Zm2.795 0c-.326 0-.44-.106-.44-.422v-.519c0-.325.114-.422.44-.422h.518c.316 0 .43.097.43.422v.519c0 .316-.114.421-.43.421h-.518Z"}):"profile"===i?n=(0,r.jsx)("path",{d:"M11.5 12.2275C9.4126 12.2275 7.70557 10.3999 7.70557 8.08057C7.69629 5.82617 9.43115 3.99854 11.5 3.99854C13.5688 3.99854 15.2944 5.80762 15.2944 8.07129C15.2944 10.3999 13.5874 12.2275 11.5 12.2275ZM5.41406 20.9297C4.28223 20.9297 3.60498 20.3823 3.60498 19.4731C3.60498 17.0981 6.68506 13.8511 11.5 13.8511C16.3057 13.8511 19.395 17.0981 19.395 19.4731C19.395 20.3823 18.7178 20.9297 17.5859 20.9297H5.41406Z",fill:"currentColor"}):"stats"===i?n=(0,r.jsx)("path",{d:"M8.26367 15.7061V5.18555C8.26367 4.5791 8.65918 4.20117 9.25684 4.20117H11.0234C11.6299 4.20117 12.0166 4.5791 12.0166 5.18555V15.7061C12.0166 16.3037 11.6299 16.6904 11.0234 16.6904H9.25684C8.65918 16.6904 8.26367 16.3037 8.26367 15.7061ZM12.9834 15.7061V7.27734C12.9834 6.67969 13.3613 6.29297 13.9678 6.29297H15.7432C16.3408 6.29297 16.7363 6.67969 16.7363 7.27734V15.7061C16.7363 16.3037 16.3408 16.6904 15.7432 16.6904H13.9678C13.3613 16.6904 12.9834 16.3037 12.9834 15.7061ZM3.54395 15.7061V8.97363C3.54395 8.37598 3.93945 7.98047 4.53711 7.98047H6.30371C6.90137 7.98047 7.29688 8.37598 7.29688 8.97363V15.7061C7.29688 16.3037 6.90137 16.6904 6.30371 16.6904H4.53711C3.93945 16.6904 3.54395 16.3037 3.54395 15.7061ZM17.7031 15.7061V10.6348C17.7031 10.0371 18.0898 9.65039 18.6963 9.65039H20.4629C21.0605 9.65039 21.4561 10.0371 21.4561 10.6348V15.7061C21.4561 16.3037 21.0605 16.6904 20.4629 16.6904H18.6963C18.0898 16.6904 17.7031 16.3037 17.7031 15.7061ZM2.39258 19.1865C2.39258 18.5186 2.90234 18.0527 3.54395 18.0527H21.4561C22.1064 18.0527 22.6074 18.5186 22.6074 19.1865C22.6074 19.8457 22.1064 20.3115 21.4561 20.3115H3.54395C2.90234 20.3115 2.39258 19.8457 2.39258 19.1865Z",fill:"currentColor"}):"trophy"===i?n=(0,r.jsx)("path",{d:"M2.3418 5.86914C2.3418 4.77051 3.08008 4.07617 4.23145 4.07617H5.83984C6.09473 3.14453 6.8418 2.6084 7.98438 2.6084H15.0156C16.1582 2.6084 16.9053 3.15332 17.1602 4.07617H18.7686C19.9199 4.07617 20.6582 4.77051 20.6582 5.86914C20.6582 9.34961 18.8477 11.7402 15.2881 12.8564C14.708 13.6123 14.0312 14.2451 13.3457 14.6758V18.0244H14.7256C16.0176 18.0244 16.7822 18.8242 16.7822 20.0811V21.6543C16.7822 22.2432 16.3252 22.6738 15.7627 22.6738H7.2373C6.6748 22.6738 6.21777 22.2432 6.21777 21.6543V20.0811C6.21777 18.8242 6.98242 18.0244 8.27441 18.0244H9.6543V14.6758C8.96875 14.2451 8.29199 13.6123 7.71191 12.8564C4.16113 11.7402 2.3418 9.34961 2.3418 5.86914ZM4.1875 6.2207C4.1875 8.00488 4.91699 9.38477 6.30566 10.2285C5.94531 9.38477 5.7168 8.43555 5.7168 7.44238V5.99219H4.40723C4.27539 5.99219 4.1875 6.08887 4.1875 6.2207ZM16.6943 10.2285C18.083 9.38477 18.8213 8.00488 18.8213 6.2207C18.8213 6.08887 18.7246 5.99219 18.5928 5.99219H17.2832V7.44238C17.2832 8.43555 17.0547 9.38477 16.6943 10.2285Z",fill:"currentColor"}):"open-book"===i?n=(0,r.jsx)("path",{d:"M17.5 13.2518C18.29 13.2518 19.13 13.3271 20 13.4776V14.8894C19.38 14.7388 18.54 14.6635 17.5 14.6635C15.6 14.6635 14.11 14.9741 13 15.5953V14.0047C14.17 13.5059 15.67 13.2518 17.5 13.2518ZM13 11.4918C14.29 10.9929 15.79 10.7482 17.5 10.7482C18.29 10.7482 19.13 10.8141 20 10.9647V12.3765C19.38 12.2259 18.54 12.1506 17.5 12.1506C15.6 12.1506 14.11 12.4706 13 13.0824V11.4918ZM17.5 9.64706C15.6 9.64706 14.11 9.94824 13 10.5882V9.02588C14.23 8.49882 15.73 8.23529 17.5 8.23529C18.29 8.23529 19.13 8.31059 20 8.45176V9.91059C19.26 9.73176 18.41 9.64706 17.5 9.64706ZM21 17.1765V6.35294C19.96 6.04235 18.79 5.88235 17.5 5.88235C15.45 5.88235 13.62 6.35294 12 7.29412V18.1176C13.62 17.1765 15.45 16.7059 17.5 16.7059C18.69 16.7059 19.86 16.8565 21 17.1765ZM17.5 4C19.85 4 21.69 4.47059 23 5.41176V19.1153C23 19.2282 22.95 19.3412 22.84 19.4447C22.73 19.5294 22.61 19.6047 22.5 19.6047C22.39 19.6047 22.31 19.5859 22.25 19.5576C20.97 18.9082 19.38 18.5882 17.5 18.5882C15.45 18.5882 13.62 19.0588 12 20C10.66 19.0588 8.83 18.5882 6.5 18.5882C4.84 18.5882 3.25 18.9271 1.75 19.5953C1.72 19.6047 1.68 19.6047 1.63 19.6235C1.59 19.6329 1.55 19.6424 1.5 19.6424C1.39 19.6424 1.27 19.6047 1.16 19.5294C1.05 19.4259 1 19.3224 1 19.2V5.41176C2.34 4.47059 4.18 4 6.5 4C8.83 4 10.66 4.47059 12 5.41176C13.34 4.47059 15.17 4 17.5 4Z",fill:"currentColor"}):"menu"===i?n=(0,r.jsx)("path",{d:"M4.25537 9.03516C3.72412 9.03516 3.30078 8.57861 3.30078 8.06396C3.30078 7.54102 3.72412 7.08447 4.25537 7.08447H19.7446C20.2759 7.08447 20.6992 7.52441 20.6992 8.06396C20.6992 8.58691 20.2759 9.03516 19.7446 9.03516H4.25537ZM4.25537 12.9863C3.72412 12.9863 3.30078 12.5298 3.30078 12.0151C3.30078 11.4839 3.72412 11.0356 4.25537 11.0356H19.7446C20.2759 11.0356 20.6992 11.4756 20.6992 12.0151C20.6992 12.5381 20.2759 12.9863 19.7446 12.9863H4.25537ZM4.25537 16.9458C3.72412 16.9458 3.30078 16.481 3.30078 15.9663C3.30078 15.4434 3.72412 14.9951 4.25537 14.9951H19.7446C20.2759 14.9951 20.6992 15.4268 20.6992 15.9663C20.6992 16.4893 20.2759 16.9458 19.7446 16.9458H4.25537Z",fill:"currentColor"}):"megaphone"===i?n=(0,r.jsx)("path",{d:"M18.8906 19.4922C17.8359 19.4922 17.0547 18.7031 17.0547 17.6484V5.51562C17.0547 4.46094 17.8359 3.67188 18.8906 3.67188C19.9375 3.67188 20.7188 4.46094 20.7188 5.51562V17.6484C20.7188 18.7031 19.9375 19.4922 18.8906 19.4922ZM8.39844 15.5234V7.71094C10.5234 7.47656 13.5938 6.67969 15.8828 5.52344C15.8828 5.64062 15.875 5.74219 15.875 5.85156V17.3594C15.875 17.4688 15.8828 17.5859 15.8906 17.7031C13.5 16.5234 10.7031 15.7969 8.39844 15.5234ZM5.75781 15.5156C3.50781 15.5156 2.27344 14.3125 2.27344 12.1484V11.0859C2.27344 8.91406 3.50781 7.71094 5.75781 7.71094H7.17969V15.5156H5.75781ZM9.05469 21.0469C8.02344 21.0469 7.52344 20.5234 7.05469 19.6016L5.60156 16.6875C5.78125 16.6875 5.96094 16.6953 6.08594 16.7031C8.14062 16.7266 9.28906 16.8516 10.1875 17.0469L10.6406 18.9141C10.9609 20.1875 10.1406 21.0469 9.05469 21.0469Z",fill:"currentColor"}):"bolt"===i?n=(0,r.jsx)("path",{d:"M5.6084 13.0278C5.6084 12.812 5.68311 12.6211 5.84912 12.4219L13.9673 2.53564C14.6313 1.73047 15.6606 2.26172 15.2871 3.24951L12.6641 10.189H17.686C18.0845 10.189 18.3833 10.4712 18.3833 10.853C18.3833 11.0688 18.3003 11.2598 18.1426 11.459L10.0161 21.3452C9.35205 22.1504 8.32275 21.6274 8.70459 20.6313L11.3276 13.6919H6.30566C5.89893 13.6919 5.6084 13.4097 5.6084 13.0278Z",fill:"currentColor"}):"star"===i?n=(0,r.jsx)("path",{d:"M6.45312 20.1328C6.01562 19.7969 5.92188 19.2422 6.15625 18.5547L7.71875 13.9219L3.74219 11.0781C3.14062 10.6484 2.875 10.1484 3.05469 9.60938C3.23438 9.09375 3.73438 8.83594 4.46875 8.84375L9.34375 8.88281L10.8281 4.22656C11.0547 3.51562 11.4375 3.11719 12 3.11719C12.5547 3.11719 12.9375 3.51562 13.1641 4.22656L14.6484 8.88281L19.5156 8.84375C20.2578 8.83594 20.7578 9.09375 20.9375 9.61719C21.1172 10.1484 20.8516 10.6484 20.25 11.0781L16.2734 13.9219L17.8359 18.5547C18.0703 19.2422 17.9766 19.7969 17.5391 20.1328C17.0938 20.4766 16.5391 20.3672 15.9297 19.9297L12 17.0312L8.05469 19.9297C7.45312 20.3672 6.89844 20.4766 6.45312 20.1328Z",fill:"currentColor"}):"gear"===i?n=(0,r.jsx)("path",{d:"M10.7002 22.2607C10.0586 22.2607 9.5752 21.874 9.44336 21.2588L9.02148 19.501C8.78418 19.4219 8.56445 19.334 8.3623 19.2373L6.83301 20.1865C6.31445 20.5117 5.68164 20.4502 5.24219 20.0195L4.12598 18.8945C3.68652 18.4551 3.625 17.8047 3.96777 17.2861L4.89941 15.7656C4.80273 15.5635 4.71484 15.3525 4.64453 15.1416L2.87793 14.7197C2.27148 14.5879 1.88477 14.0957 1.88477 13.4629V11.8984C1.88477 11.2744 2.27148 10.7822 2.87793 10.6416L4.62695 10.2285C4.70605 9.99121 4.79395 9.77148 4.88184 9.58691L3.9502 8.04004C3.60742 7.50391 3.66016 6.87109 4.1084 6.44043L5.25098 5.31543C5.69922 4.90234 6.25293 4.84082 6.78906 5.13086L8.35352 6.08887C8.55566 5.9834 8.78418 5.89551 9.02148 5.81641L9.44336 4.05859C9.5752 3.43457 10.0586 3.04785 10.7002 3.04785H12.291C12.9238 3.04785 13.416 3.43457 13.5479 4.0498L13.9697 5.8252C14.207 5.91309 14.4268 6.00098 14.6201 6.09766L16.1934 5.13086C16.7295 4.84082 17.292 4.91992 17.7314 5.31543L18.874 6.44043C19.3311 6.87109 19.375 7.50391 19.041 8.04004L18.1006 9.58691C18.1885 9.77148 18.2764 9.99121 18.3555 10.2285L20.1045 10.6416C20.7197 10.7822 21.1064 11.2744 21.1064 11.8984V13.4629C21.1064 14.0957 20.7197 14.5879 20.1045 14.7197L18.3379 15.1416C18.2676 15.3525 18.1797 15.5635 18.0918 15.7656L19.0146 17.2861C19.3662 17.8047 19.3047 18.4551 18.8652 18.8945L17.7402 20.0195C17.3096 20.4502 16.6768 20.5117 16.1494 20.1865L14.6201 19.2373C14.418 19.334 14.1982 19.4219 13.9697 19.501L13.5479 21.2588C13.416 21.874 12.9238 22.2607 12.291 22.2607H10.7002ZM11.4912 15.6865C13.1611 15.6865 14.5234 14.3154 14.5234 12.6455C14.5234 10.9932 13.1611 9.63086 11.4912 9.63086C9.83008 9.63086 8.46777 10.9932 8.46777 12.6455C8.46777 14.3154 9.83008 15.6865 11.4912 15.6865Z",fill:"currentColor"}):"play"===i?n=(0,r.jsx)("path",{d:"M6.73633 20.2754C5.91016 20.2754 5.24219 19.6426 5.24219 18.5879V5.73828C5.24219 4.68359 5.91016 4.05957 6.73633 4.05957C7.14062 4.05957 7.50977 4.18262 8.00195 4.46387L18.5488 10.5811C19.3574 11.0557 19.7617 11.4863 19.7617 12.1631C19.7617 12.8486 19.3574 13.2793 18.5488 13.7451L8.00195 19.8623C7.50977 20.1436 7.14062 20.2754 6.73633 20.2754Z",fill:"currentColor"}):"learn"===i?n=(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.1858 5.62463C21.9571 6.37987 21.9701 7.61737 21.2149 8.38867L10.4647 19.3675C10.097 19.743 9.59362 19.9546 9.0681 19.9546C8.54258 19.9546 8.0392 19.743 7.67154 19.3675L2.78507 14.3771C2.02983 13.6058 2.04285 12.3683 2.81415 11.6131C3.58545 10.8578 4.82296 10.8708 5.5782 11.6421L9.0681 15.2063L18.4218 5.65371C19.177 4.88241 20.4145 4.86939 21.1858 5.62463Z",fill:"currentColor"})}):"crown"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M4.075 15.407h15.891l1.05-4.235c1.225-.04 2.21-1.022 2.21-2.24 0-1.224-1.026-2.23-2.284-2.23-1.257 0-2.275 1.006-2.275 2.23 0 .293.05.56.15.812L16.5 11.351c-.198.137-.339.089-.447-.065L13.2 7.27a2.23 2.23 0 0 0 1.092-1.915c0-1.225-1.017-2.231-2.274-2.231-1.266 0-2.283 1.006-2.283 2.231a2.22 2.22 0 0 0 1.1 1.915l-2.83 3.983c-.107.146-.23.187-.43.057L5.21 9.671c.082-.235.124-.478.124-.738 0-1.225-1.018-2.231-2.275-2.231S.775 7.708.775 8.932c0 1.226 1 2.224 2.242 2.24l1.058 4.235Zm.39 1.566.314 1.241c.355 1.444 1.199 2.175 2.705 2.175h9.066c1.505 0 2.34-.723 2.705-2.175l.314-1.241H4.464Z"}):"target"===i?n=(0,r.jsx)("path",{d:"M12 20.9443C6.91113 20.9443 2.71875 16.752 2.71875 11.6543C2.71875 6.56543 6.90234 2.37305 12 2.37305C17.0889 2.37305 21.2812 6.56543 21.2812 11.6543C21.2812 16.752 17.0977 20.9443 12 20.9443ZM12 18.6328C15.8672 18.6328 18.9785 15.5215 18.9697 11.6543C18.9697 7.7959 15.8584 4.68457 12 4.68457C8.13281 4.68457 5.03906 7.7959 5.03906 11.6543C5.03906 15.5215 8.1416 18.6328 12 18.6328ZM12 17.1475C9.01172 17.1475 6.50684 14.6602 6.50684 11.6631C6.50684 8.65723 8.99414 6.16113 12 6.16113C15.0234 6.16113 17.4932 8.63965 17.4932 11.6631C17.4932 14.6602 15.0059 17.1475 12 17.1475ZM12 15.1787C13.9072 15.1787 15.5156 13.5703 15.5156 11.6631C15.5156 9.75586 13.8984 8.13867 12 8.13867C10.0928 8.13867 8.48438 9.74707 8.48438 11.6631C8.48438 13.5615 10.1016 15.1787 12 15.1787ZM12.0088 13.7021C10.8926 13.7021 9.95215 12.7705 9.95215 11.6543C9.95215 10.5381 10.8838 9.61523 12.0088 9.61523C13.1162 9.61523 14.0566 10.5469 14.0566 11.6543C14.0566 12.7793 13.125 13.7021 12.0088 13.7021Z",fill:"currentColor"}):"percent"===i?n=(0,r.jsx)("path",{d:"M6.79541 19.793C6.30566 19.5024 6.17285 18.8965 6.54639 18.3403L15.7769 4.57764C16.1338 4.04639 16.7231 3.93018 17.1797 4.1875C17.6777 4.46973 17.8354 5.10889 17.4702 5.65674L8.23975 19.4692C7.90771 19.9673 7.26025 20.0669 6.79541 19.793ZM6.57129 12.2891C4.50439 12.2891 3.20947 10.7534 3.20947 8.21338C3.20947 5.66504 4.521 4.1626 6.57129 4.1626C8.62158 4.1626 9.93311 5.65674 9.93311 8.20508C9.93311 10.7368 8.63818 12.2891 6.57129 12.2891ZM6.57129 10.604C7.37646 10.604 7.81641 9.77393 7.81641 8.21338C7.81641 6.66113 7.37646 5.84766 6.57129 5.84766C5.76611 5.84766 5.32617 6.66943 5.32617 8.21338C5.32617 9.77393 5.75781 10.604 6.57129 10.604ZM17.4204 19.8594C15.3535 19.8594 14.0586 18.3154 14.0586 15.7754C14.0586 13.2271 15.3701 11.7246 17.4204 11.7246C19.4707 11.7246 20.7822 13.2188 20.7822 15.7754C20.7822 18.3071 19.4873 19.8594 17.4204 19.8594ZM17.4204 18.1743C18.2256 18.1743 18.6655 17.3442 18.6655 15.7754C18.6655 14.2231 18.2256 13.4097 17.4204 13.4097C16.6152 13.4097 16.1753 14.2314 16.1753 15.7754C16.1753 17.3442 16.6069 18.1743 17.4204 18.1743Z",fill:"currentColor"}):"characters"===i?n=(0,r.jsx)("path",{d:"M15.25 19.9688C14.6953 19.9688 14.4062 19.7109 14.4062 19.2578C14.4062 18.7969 14.6953 18.5547 15.25 18.5547H16.7109V4.14062H15.25C14.6953 4.14062 14.4062 3.89062 14.4062 3.42188C14.4062 2.97656 14.6953 2.73438 15.25 2.73438H19.7344C20.2891 2.73438 20.5781 2.97656 20.5781 3.42188C20.5781 3.89062 20.2891 4.14062 19.7344 4.14062H18.3281V18.5547H19.7344C20.2891 18.5547 20.5781 18.7969 20.5781 19.2578C20.5781 19.7109 20.2891 19.9688 19.7344 19.9688H15.25ZM4.64062 17.3594C3.88281 17.3594 3.42188 16.9219 3.42188 16.2109C3.42188 15.9844 3.46094 15.75 3.55469 15.4766L6.67969 6.84375C7.00781 5.89844 7.65625 5.42969 8.66406 5.42969C9.73438 5.42969 10.3828 5.89062 10.7109 6.85156L13.7891 15.3828C13.8828 15.6719 13.9297 15.8984 13.9297 16.1797C13.9297 16.8906 13.4297 17.3594 12.6562 17.3594C11.9453 17.3594 11.5625 17.0469 11.3516 16.2969L10.7266 14.4531H6.57031L5.9375 16.2969C5.73438 17.0469 5.35156 17.3594 4.64062 17.3594ZM7.10156 12.5547H10.2031L8.67969 7.83594H8.625L7.10156 12.5547Z",fill:"currentColor"}):"tags"===i?n=(0,r.jsx)("path",{d:"M7.26025 21.5029C6.41357 21.5029 5.86572 20.9136 5.86572 20.0005V5.39941C5.86572 3.63135 6.84521 2.65186 8.59668 2.65186H15.395C17.1465 2.65186 18.126 3.63135 18.126 5.39941V20.0005C18.126 20.9136 17.5698 21.5029 16.7314 21.5029C16.2002 21.5029 15.8599 21.2705 15.2041 20.6313L12.0664 17.4937C12.0249 17.4604 11.9668 17.4604 11.9253 17.4937L8.7959 20.623C8.14014 21.2705 7.7832 21.5029 7.26025 21.5029ZM8.23145 18.0083L11.2695 15.0698C11.7593 14.5967 12.2324 14.5967 12.7222 15.0698L15.7603 18.0083C15.8682 18.1162 15.9844 18.0747 15.9844 17.9253V5.62354C15.9844 5.04248 15.7271 4.79346 15.1543 4.79346H8.8374C8.26465 4.79346 8.00732 5.04248 8.00732 5.62354V17.9253C8.00732 18.0747 8.13184 18.1162 8.23145 18.0083Z",fill:"currentColor"}):"quote"===i?n=(0,r.jsx)("path",{d:"M24 13.7495C24 16.7766 21.7701 19 18.7831 19C15.6508 19 13.0994 16.62 13.0994 12.5073C13.0994 10.19 13.9188 8.14405 15.3812 6.6096C16.3976 5.53445 17.6837 4.73069 19.0527 4.26096C19.6335 4.07307 19.9551 4 20.4218 4C20.9818 4 21.376 4.35491 21.376 4.85595C21.376 5.11691 21.2826 5.32568 21.1063 5.48225C20.9507 5.63883 20.7018 5.74322 20.3596 5.8476C17.9222 6.48434 16.1175 8.17537 15.5782 10.0438H15.9723C16.8021 9.08351 17.9533 8.60334 19.2705 8.60334C21.9568 8.60334 24 10.8163 24 13.7495ZM10.9006 13.7495C10.9006 16.7766 8.68107 19 5.68366 19C2.5618 19 0 16.62 0 12.5073C0 10.19 0.829732 8.14405 2.29213 6.6096C3.30856 5.53445 4.58427 4.73069 5.9637 4.26096C6.53414 4.07307 6.86603 4 7.32239 4C7.88245 4 8.28695 4.35491 8.28695 4.85595C8.28695 5.11691 8.18323 5.32568 8.01729 5.48225C7.86171 5.63883 7.61279 5.74322 7.27053 5.8476C4.82282 6.48434 3.01815 8.17537 2.4892 10.0438H2.87295C3.71305 9.08351 4.8643 8.60334 6.1815 8.60334C8.86776 8.60334 10.9006 10.8163 10.9006 13.7495Z",fill:"currentColor"}):"fire"===i&&(n=(0,r.jsx)("path",{d:"M11.5693 21.707C7.19238 21.707 4.2832 19.1758 4.2832 15.3789C4.2832 12.0215 5.84766 11.1777 5.84766 9.08594C5.84766 8.57617 5.77734 8.18066 5.77734 7.83789C5.77734 7.2666 6.12012 6.93262 6.62988 6.93262C7.35938 6.93262 8.13281 7.43359 8.71289 8.62012C8.72168 8.5498 8.72168 8.47949 8.72168 8.40918C8.71289 6.80078 7.79004 5.48242 6.62988 4.08496C6.41016 3.82129 6.27832 3.50488 6.27832 3.20605C6.27832 2.43262 6.97266 2.01074 8.00098 2.01074C12.7559 2.01074 19.7168 5.40332 19.7168 13.498C19.7168 18.4287 16.4561 21.707 11.5693 21.707ZM11.666 19.791C15.3047 19.791 17.7393 17.251 17.7393 13.4453C17.7393 8.37402 14.3115 4.58594 8.90625 3.93555C9.86426 5.1748 10.4355 6.7832 10.4355 8.40039C10.4355 9.9209 9.83789 11.8369 8.87988 11.8369C8.58984 11.8369 8.39648 11.6523 8.34375 11.3271C8.19434 10.5977 7.95703 9.90332 7.61426 9.33203C7.58789 12.083 6.20801 12.8389 6.20801 15.3789C6.20801 18.0244 8.39648 19.791 11.666 19.791ZM11.8066 18.5869C10.2158 18.5869 9.16113 17.6377 9.16113 16.2227C9.16113 14.7725 10.1719 14.333 10.3037 13.1992C10.3125 13.0586 10.4531 12.9795 10.5938 13.0938C10.9453 13.4365 11.1826 13.8584 11.3672 14.4121C11.7979 13.665 11.8857 12.54 11.71 11.3184C11.6748 11.1338 11.8242 11.0459 11.9736 11.1074C13.793 11.9072 14.8037 13.6914 14.8037 15.4844C14.8037 17.2246 13.7227 18.5869 11.8066 18.5869Z",fill:"currentColor"})),"sparkle"===i&&(n=(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 2.4a1.2 1.2 0 0 1 1.2 1.2v1.2h1.2a1.2 1.2 0 0 1 0 2.4H7.2v1.2a1.2 1.2 0 0 1-2.4 0V7.2H3.6a1.2 1.2 0 0 1 0-2.4h1.2V3.6A1.2 1.2 0 0 1 6 2.4Zm0 12a1.2 1.2 0 0 1 1.2 1.2v1.2h1.2a1.2 1.2 0 1 1 0 2.4H7.2v1.2a1.2 1.2 0 1 1-2.4 0v-1.2H3.6a1.2 1.2 0 1 1 0-2.4h1.2v-1.2A1.2 1.2 0 0 1 6 14.4Zm8.4-12a1.2 1.2 0 0 1 1.16.893l1.415 5.347L21 10.96a1.2 1.2 0 0 1 0 2.08l-4.025 2.321-1.416 5.346a1.2 1.2 0 0 1-2.32 0l-1.414-5.347L7.8 13.04a1.2 1.2 0 0 1 0-2.08l4.025-2.321 1.416-5.346A1.2 1.2 0 0 1 14.4 2.4Z",clipRule:"evenodd"})),"logout"===i?n=(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.6 3.6a1.2 1.2 0 0 0-1.2 1.2v14.4a1.2 1.2 0 1 0 2.4 0V4.8a1.2 1.2 0 0 0-1.2-1.2ZM15.95 14.752a1.2 1.2 0 0 0 1.697 1.696l3.6-3.6a1.2 1.2 0 0 0 0-1.696l-3.6-3.6a1.2 1.2 0 1 0-1.697 1.697l1.552 1.551H8.4a1.2 1.2 0 1 0 0 2.4h9.103l-1.552 1.552Z",clipRule:"evenodd"}):"copy"===i&&(n=(0,r.jsx)("path",{d:"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"})),"learn"===i&&(n=(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("path",{d:"M21.3516 8.46875C21.9609 8.75 22.3047 9.26562 22.3047 9.83594C22.3047 10.4062 21.9609 10.9141 21.3516 11.1953L13.7344 14.6797C12.8906 15.0703 12.1797 15.2422 11.5 15.2344C10.8203 15.2422 10.1172 15.0703 9.26562 14.6797L5.78906 13.0938L10.6328 10.8672C10.9062 10.9531 11.2109 11 11.5156 11C12.4922 11 13.4141 10.5312 13.4141 9.83594C13.4141 9.14844 12.4922 8.69531 11.5156 8.69531C10.5391 8.69531 9.60938 9.15625 9.60938 9.83594C9.60938 9.88281 9.61719 9.92188 9.64062 9.96094L4.375 12.4062L1.65625 11.1953C1.03906 10.9297 0.695312 10.4062 0.695312 9.83594C0.695312 9.26562 1.03906 8.75 1.65625 8.46875L9.26562 4.99219C10.1172 4.60938 10.8203 4.42969 11.5 4.4375C12.1797 4.42969 12.8906 4.60938 13.7344 4.99219L21.3516 8.46875ZM5.77344 14.4766L8.73438 15.8359C9.73438 16.2891 10.6484 16.5156 11.5 16.5078C12.3516 16.5156 13.2734 16.2891 14.2656 15.8359L19.4766 13.4453V15.5625C19.4766 18.1406 16.0703 20.1406 11.5 20.1406C9.21094 20.1406 7.20312 19.6328 5.77344 18.7891V14.4766ZM3.52344 13.4531L4.39844 13.8516V17.6406C3.83594 16.9922 3.52344 16.2422 3.52344 15.5625V13.4531ZM3.60156 20.625C3.60156 20.0391 3.90625 19.6094 4.39844 19.4531V17.6406C4.75 18.0703 5.21094 18.4531 5.77344 18.7891V19.4531C6.26562 19.6094 6.5625 20.0391 6.5625 20.625V22.6094C6.5625 23.3516 6.07031 23.8438 5.32812 23.8438H4.83594C4.09375 23.8438 3.60156 23.3516 3.60156 22.6094V20.625Z",fill:"currentColor"})})),"crown"===i&&(n=(0,r.jsx)("path",{fill:"currentColor",d:"M4.075 15.407h15.891l1.05-4.235c1.225-.04 2.21-1.022 2.21-2.24 0-1.224-1.026-2.23-2.284-2.23-1.257 0-2.275 1.006-2.275 2.23 0 .293.05.56.15.812L16.5 11.351c-.198.137-.339.089-.447-.065L13.2 7.27a2.23 2.23 0 0 0 1.092-1.915c0-1.225-1.017-2.231-2.274-2.231-1.266 0-2.283 1.006-2.283 2.231a2.22 2.22 0 0 0 1.1 1.915l-2.83 3.983c-.107.146-.23.187-.43.057L5.21 9.671c.082-.235.124-.478.124-.738 0-1.225-1.018-2.231-2.275-2.231S.775 7.708.775 8.932c0 1.226 1 2.224 2.242 2.24l1.058 4.235Zm.39 1.566.314 1.241c.355 1.444 1.199 2.175 2.705 2.175h9.066c1.505 0 2.34-.723 2.705-2.175l.314-1.241H4.464Z"})),"fire-filled"===i&&(n=(0,r.jsx)("path",{d:"M11.5693 21.707C7.19238 21.707 4.2832 19.1758 4.2832 15.3789C4.2832 12.0215 5.84766 11.1777 5.84766 9.08594C5.84766 8.57617 5.77734 8.18066 5.77734 7.83789C5.77734 7.2666 6.12012 6.93262 6.62988 6.93262C7.35938 6.93262 8.13281 7.43359 8.71289 8.62012C8.72168 8.5498 8.72168 8.47949 8.72168 8.40918C8.71289 6.80078 7.79004 5.48242 6.62988 4.08496C6.41016 3.82129 6.27832 3.50488 6.27832 3.20605C6.27832 2.43262 6.97266 2.01074 8.00098 2.01074C12.7559 2.01074 19.7168 5.40332 19.7168 13.498C19.7168 18.4287 16.4561 21.707 11.5693 21.707ZM11.7979 18.5869C13.7578 18.5869 14.8652 17.1982 14.8652 15.4141C14.8652 13.5859 13.8281 11.7666 11.9736 10.9492C11.8154 10.8877 11.666 10.9756 11.7012 11.1602C11.877 12.4082 11.7891 13.5508 11.3584 14.3154C11.1738 13.7617 10.9277 13.3223 10.5674 12.9707C10.4268 12.8477 10.2773 12.9355 10.2686 13.085C10.1279 14.2451 9.09961 14.6846 9.09961 16.1699C9.09961 17.6201 10.1719 18.5869 11.7979 18.5869Z",fill:"currentColor"})),"lock"===i&&(n=(0,r.jsx)("path",{d:"M12 17a2 2 0 0 0 2-2 2 2 0 0 0-2-2 2 2 0 0 0-2 2 2 2 0 0 0 2 2m6-9a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h1V6a5 5 0 0 1 5-5 5 5 0 0 1 5 5v2h1m-6-5a3 3 0 0 0-3 3v2h6V6a3 3 0 0 0-3-3Z",fill:"currentColor"})),"chevron-right"===i&&(n=(0,r.jsx)("path",{fill:"currentColor",d:"M18 12c0 .535-.188.982-.652 1.42l-8.354 8.089c-.331.327-.74.491-1.226.491C6.796 22 6 21.225 6 20.264c0-.491.199-.928.564-1.288l7.281-6.987-7.281-6.976A1.753 1.753 0 0 1 6 3.736C6 2.786 6.796 2 7.768 2c.486 0 .895.164 1.226.491l8.354 8.09c.453.426.652.873.652 1.419Z"})),"linkedin"===i&&(n=(0,r.jsx)("path",{fill:"currentColor",d:"M19 3A2 2 0 0 1 21 5V19A2 2 0 0 1 19 21H5A2 2 0 0 1 3 19V5A2 2 0 0 1 5 3H19M18.5 18.5V13.2A3.26 3.26 0 0 0 15.24 9.94C14.39 9.94 13.4 10.46 12.92 11.24V10.13H10.13V18.5H12.92V13.57C12.92 12.8 13.54 12.17 14.31 12.17A1.4 1.4 0 0 1 15.71 13.57V18.5H18.5M6.88 8.56A1.68 1.68 0 0 0 8.56 6.88C8.56 5.95 7.81 5.19 6.88 5.19A1.69 1.69 0 0 0 5.19 6.88C5.19 7.81 5.95 8.56 6.88 8.56M8.27 18.5V10.13H5.5V18.5H8.27Z"})),"instagram"===i&&(n=(0,r.jsx)("path",{fill:"currentColor",d:"M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z"})),"youtube"===i&&(n=(0,r.jsx)("path",{fill:"currentColor",d:"M10,15L15.19,12L10,9V15M21.56,7.17C21.69,7.64 21.78,8.27 21.84,9.07C21.91,9.87 21.94,10.56 21.94,11.16L22,12C22,14.19 21.84,15.8 21.56,16.83C21.31,17.73 20.73,18.31 19.83,18.56C19.36,18.69 18.5,18.78 17.18,18.84C15.88,18.91 14.69,18.94 13.59,18.94L12,19C7.81,19 5.2,18.84 4.17,18.56C3.27,18.31 2.69,17.73 2.44,16.83C2.31,16.36 2.22,15.73 2.16,14.93C2.09,14.13 2.06,13.44 2.06,12.84L2,12C2,9.81 2.16,8.2 2.44,7.17C2.69,6.27 3.27,5.69 4.17,5.44C4.64,5.31 5.5,5.22 6.82,5.16C8.12,5.09 9.31,5.06 10.41,5.06L12,5C16.19,5 18.8,5.16 19.83,5.44C20.73,5.69 21.31,6.27 21.56,7.17Z"})),"twitch"===i&&(n=(0,r.jsx)("path",{fill:"currentColor",d:"M11.64 5.93H13.07V10.21H11.64M15.57 5.93H17V10.21H15.57M7 2L3.43 5.57V18.43H7.71V22L11.29 18.43H14.14L20.57 12V2M19.14 11.29L16.29 14.14H13.43L10.93 16.64V14.14H7.71V3.43H19.14Z"})),"money"===i&&(n=(0,r.jsx)("path",{fill:"currentColor",d:"M7,15H9C9,16.08 10.37,17 12,17C13.63,17 15,16.08 15,15C15,13.9 13.96,13.5 11.76,12.97C9.64,12.44 7,11.78 7,9C7,7.21 8.47,5.69 10.5,5.18V3H13.5V5.18C15.53,5.69 17,7.21 17,9H15C15,7.92 13.63,7 12,7C10.37,7 9,7.92 9,9C9,10.1 10.04,10.5 12.24,11.03C14.36,11.56 17,12.22 17,15C17,16.79 15.53,18.31 13.5,18.82V21H10.5V18.82C8.47,18.31 7,16.79 7,15Z"})),"clock"===i&&(n=(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12ZM10.2857 5.14286C10.2857 4.19608 11.0532 3.42857 12 3.42857C12.9468 3.42857 13.7143 4.19608 13.7143 5.14286V10.2858H18.8572C19.804 10.2858 20.5715 11.0533 20.5715 12.0001C20.5715 12.9469 19.804 13.7144 18.8572 13.7144H12.0001C11.4065 13.7144 10.8833 13.4127 10.5756 12.9542C10.3925 12.6815 10.2857 12.3532 10.2857 12V5.14286Z",fill:"currentColor"})),"sun"===i&&(n=(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9999 2.40002C12.3182 2.40002 12.6234 2.52645 12.8484 2.7515C13.0735 2.97654 13.1999 3.28176 13.1999 3.60002V4.80002C13.1999 5.11828 13.0735 5.42351 12.8484 5.64855C12.6234 5.8736 12.3182 6.00002 11.9999 6.00002C11.6816 6.00002 11.3764 5.8736 11.1514 5.64855C10.9263 5.42351 10.7999 5.11828 10.7999 4.80002V3.60002C10.7999 3.28176 10.9263 2.97654 11.1514 2.7515C11.3764 2.52645 11.6816 2.40002 11.9999 2.40002ZM16.7999 12C16.7999 13.2731 16.2942 14.494 15.394 15.3941C14.4938 16.2943 13.2729 16.8 11.9999 16.8C10.7269 16.8 9.50596 16.2943 8.60579 15.3941C7.70562 14.494 7.1999 13.2731 7.1999 12C7.1999 10.727 7.70562 9.50609 8.60579 8.60591C9.50596 7.70574 10.7269 7.20002 11.9999 7.20002C13.2729 7.20002 14.4938 7.70574 15.394 8.60591C16.2942 9.50609 16.7999 10.727 16.7999 12ZM16.2431 17.94L17.0915 18.7884C17.3178 19.007 17.6209 19.128 17.9356 19.1252C18.2502 19.1225 18.5512 18.9963 18.7737 18.7738C18.9962 18.5513 19.1224 18.2503 19.1251 17.9357C19.1278 17.6211 19.0069 17.3179 18.7883 17.0916L17.9399 16.2432C17.7136 16.0246 17.4105 15.9037 17.0958 15.9064C16.7812 15.9092 16.4802 16.0354 16.2577 16.2578C16.0352 16.4803 15.909 16.7813 15.9063 17.0959C15.9036 17.4106 16.0245 17.7137 16.2431 17.94ZM18.7871 5.21162C19.0121 5.43666 19.1384 5.74183 19.1384 6.06002C19.1384 6.37822 19.0121 6.68339 18.7871 6.90842L17.9399 7.75682C17.8292 7.87144 17.6968 7.96286 17.5504 8.02575C17.404 8.08864 17.2465 8.12174 17.0872 8.12313C16.9278 8.12451 16.7698 8.09415 16.6224 8.03381C16.4749 7.97347 16.3409 7.88437 16.2282 7.7717C16.1156 7.65903 16.0265 7.52505 15.9661 7.37757C15.9058 7.23009 15.8754 7.07208 15.8768 6.91274C15.8782 6.75341 15.9113 6.59594 15.9742 6.44954C16.0371 6.30313 16.1285 6.17072 16.2431 6.06002L17.0915 5.21162C17.3165 4.98666 17.6217 4.86028 17.9399 4.86028C18.2581 4.86028 18.5621 4.98666 18.7871 5.21162ZM20.3999 13.2C20.7182 13.2 21.0234 13.0736 21.2484 12.8486C21.4735 12.6235 21.5999 12.3183 21.5999 12C21.5999 11.6818 21.4735 11.3765 21.2484 11.1515C21.0234 10.9265 20.7182 10.8 20.3999 10.8H19.1999C18.8816 10.8 18.5764 10.9265 18.3514 11.1515C18.1263 11.3765 17.9999 11.6818 17.9999 12C17.9999 12.3183 18.1263 12.6235 18.3514 12.8486C18.5764 13.0736 18.8816 13.2 19.1999 13.2H20.3999ZM11.9999 18C12.3182 18 12.6234 18.1265 12.8484 18.3515C13.0735 18.5765 13.1999 18.8818 13.1999 19.2V20.4C13.1999 20.7183 13.0735 21.0235 12.8484 21.2486C12.6234 21.4736 12.3182 21.6 11.9999 21.6C11.6816 21.6 11.3764 21.4736 11.1514 21.2486C10.9263 21.0235 10.7999 20.7183 10.7999 20.4V19.2C10.7999 18.8818 10.9263 18.5765 11.1514 18.3515C11.3764 18.1265 11.6816 18 11.9999 18ZM6.0599 7.75682C6.17132 7.86832 6.3036 7.95677 6.4492 8.01714C6.5948 8.07751 6.75086 8.10861 6.90848 8.10867C7.0661 8.10872 7.22218 8.07773 7.36782 8.01747C7.51347 7.9572 7.64581 7.86884 7.7573 7.75742C7.86879 7.64601 7.95725 7.51373 8.01762 7.36813C8.07799 7.22253 8.10909 7.06647 8.10915 6.90885C8.1092 6.75123 8.07821 6.59514 8.01795 6.4495C7.95768 6.30386 7.86932 6.17152 7.7579 6.06002L6.9083 5.21162C6.68198 4.99303 6.37886 4.87208 6.06422 4.87482C5.74958 4.87755 5.44861 5.00375 5.22612 5.22624C5.00363 5.44873 4.87743 5.74971 4.87469 6.06434C4.87196 6.37898 4.99291 6.6821 5.2115 6.90842L6.0599 7.75682ZM7.7567 17.94L6.9083 18.7884C6.68198 19.007 6.37886 19.128 6.06422 19.1252C5.74958 19.1225 5.44861 18.9963 5.22612 18.7738C5.00363 18.5513 4.87743 18.2503 4.87469 17.9357C4.87196 17.6211 4.99291 17.3179 5.2115 17.0916L6.0599 16.2432C6.28623 16.0246 6.58935 15.9037 6.90398 15.9064C7.21862 15.9092 7.51959 16.0354 7.74208 16.2578C7.96457 16.4803 8.09078 16.7813 8.09351 17.0959C8.09625 17.4106 7.97529 17.7137 7.7567 17.94ZM4.7999 13.2C5.11816 13.2 5.42339 13.0736 5.64843 12.8486C5.87347 12.6235 5.9999 12.3183 5.9999 12C5.9999 11.6818 5.87347 11.3765 5.64843 11.1515C5.42339 10.9265 5.11816 10.8 4.7999 10.8H3.5999C3.28164 10.8 2.97642 10.9265 2.75137 11.1515C2.52633 11.3765 2.3999 11.6818 2.3999 12C2.3999 12.3183 2.52633 12.6235 2.75137 12.8486C2.97642 13.0736 3.28164 13.2 3.5999 13.2H4.7999Z",fill:"currentColor"})),"moon"===i&&(n=(0,r.jsx)("path",{d:"M20.7516 15.9516C18.9738 16.7557 16.9932 16.9991 15.0736 16.6491C13.154 16.2992 11.3867 15.3727 10.007 13.993C8.62728 12.6133 7.70076 10.8459 7.35084 8.92637C7.00093 7.00681 7.24424 5.0262 8.04837 3.24841C6.63304 3.88803 5.39401 4.86145 4.43757 6.08516C3.48114 7.30888 2.83584 8.74636 2.55706 10.2743C2.27828 11.8022 2.37432 13.3749 2.83696 14.8576C3.2996 16.3402 4.11501 17.6885 5.21325 18.7867C6.31149 19.885 7.65976 20.7004 9.1424 21.163C10.625 21.6257 12.1978 21.7217 13.7257 21.4429C15.2536 21.1641 16.6911 20.5188 17.9148 19.5624C19.1385 18.606 20.112 17.3669 20.7516 15.9516Z",fill:"currentColor"})),"gift"===i&&(n=(0,r.jsx)("path",{d:"M22 12v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8a1 1 0 0 1-1-1V8a2 2 0 0 1 2-2h3.17A3 3 0 0 1 6 5a3 3 0 0 1 3-3c1 0 1.88.5 2.43 1.24v-.01L12 4l.57-.77v.01C13.12 2.5 14 2 15 2a3 3 0 0 1 3 3 3 3 0 0 1-.17 1H21a2 2 0 0 1 2 2v3a1 1 0 0 1-1 1M4 20h7v-8H4v8m16 0v-8h-7v8h7M9 4a1 1 0 0 0-1 1 1 1 0 0 0 1 1 1 1 0 0 0 1-1 1 1 0 0 0-1-1m6 0a1 1 0 0 0-1 1 1 1 0 0 0 1 1 1 1 0 0 0 1-1 1 1 0 0 0-1-1M3 8v2h8V8H3m10 0v2h8V8h-8Z"})),"meter"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M8.46,15.06L7.05,16.47L5.68,15.1C4.82,16.21 4.24,17.54 4.06,19H6V21H2V20C2,15.16 5.44,11.13 10,10.2V8.2L2,5V3H22V5L14,8.2V10.2C18.56,11.13 22,15.16 22,20V21H18V19H19.94C19.76,17.54 19.18,16.21 18.32,15.1L16.95,16.47L15.54,15.06L16.91,13.68C15.8,12.82 14.46,12.24 13,12.06V14H11V12.06C9.54,12.24 8.2,12.82 7.09,13.68L8.46,15.06M12,18A2,2 0 0,1 14,20A2,2 0 0,1 12,22C11.68,22 11.38,21.93 11.12,21.79L7.27,20L11.12,18.21C11.38,18.07 11.68,18 12,18Z"}):"gamepad-outline"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M6,9H8V11H10V13H8V15H6V13H4V11H6V9M18.5,9A1.5,1.5 0 0,1 20,10.5A1.5,1.5 0 0,1 18.5,12A1.5,1.5 0 0,1 17,10.5A1.5,1.5 0 0,1 18.5,9M15.5,12A1.5,1.5 0 0,1 17,13.5A1.5,1.5 0 0,1 15.5,15A1.5,1.5 0 0,1 14,13.5A1.5,1.5 0 0,1 15.5,12M17,5A7,7 0 0,1 24,12A7,7 0 0,1 17,19C15.04,19 13.27,18.2 12,16.9C10.73,18.2 8.96,19 7,19A7,7 0 0,1 0,12A7,7 0 0,1 7,5H17M7,7A5,5 0 0,0 2,12A5,5 0 0,0 7,17C8.64,17 10.09,16.21 11,15H13C13.91,16.21 15.36,17 17,17A5,5 0 0,0 22,12A5,5 0 0,0 17,7H7Z"}):"versus"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M15.435 17.825c.226.38.09.883-.29 1.109a.802.802 0 0 1-1.108-.303l-3.706-6.42c-.239.097-.568.22-.928.425-1.412.813-2.082 2.25-3.61 3.14-.541.315-1.096.534-1.534.573-.522.052-.967-.116-1.257-.619L.424 11.264C.141 10.76.347 10.252.83 9.968c.303-.174.87-.322 1.49-.677 1.417-.818 2.087-2.255 3.615-3.138.541-.316 1.096-.529 1.534-.58.522-.046.96.122 1.257.631l6.71 11.621Zm-2.926-6.838 2.765-4.783c.297-.51.735-.677 1.25-.632.445.052.993.265 1.541.58 1.528.884 2.198 2.32 3.61 3.14.618.354 1.192.502 1.495.676.483.284.69.793.4 1.296l-2.572 4.466c-.29.503-.735.67-1.257.619-.439-.039-.993-.258-1.534-.574-1.528-.89-2.204-2.326-3.616-3.139-.354-.206-.683-.328-.922-.425l-.225.387-.935-1.612Zm-1.025 5.008-1.52 2.636a.802.802 0 0 1-1.11.303.825.825 0 0 1-.296-1.109l1.992-3.448.934 1.617Z"}):"earth"===i?n=(0,r.jsx)("path",{d:"M17.9,17.39C17.64,16.59 16.89,16 16,16H15V13A1,1 0 0,0 14,12H8V10H10A1,1 0 0,0 11,9V7H13A2,2 0 0,0 15,5V4.59C17.93,5.77 20,8.64 20,12C20,14.08 19.2,15.97 17.9,17.39M11,19.93C7.05,19.44 4,16.08 4,12C4,11.38 4.08,10.78 4.21,10.21L9,15V16A2,2 0 0,0 11,18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",fill:"currentColor"}):"newspaper"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M20 3H4C2.89 3 2 3.89 2 5V19C2 20.11 2.89 21 4 21H20C21.11 21 22 20.11 22 19V5C22 3.89 21.11 3 20 3M5 7H10V13H5V7M19 17H5V15H19V17M19 13H12V11H19V13M19 9H12V7H19V9Z"}):"bluesky"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M5.769 2.48C8.29 4.632 11.004 8.993 12 11.333c.996-2.34 3.709-6.7 6.231-8.851C20.051.929 23-.272 23 3.549c0 .763-.385 6.41-.611 7.327-.785 3.187-3.647 4-6.192 3.508 4.449.86 5.58 3.709 3.136 6.557-4.642 5.41-6.672-1.357-7.192-3.091-.096-.318-.14-.467-.141-.34 0-.127-.045.022-.14.34-.52 1.734-2.55 8.502-7.193 3.091-2.445-2.848-1.313-5.697 3.136-6.557-2.545.492-5.407-.321-6.192-3.508C1.385 9.959 1 4.312 1 3.549 1-.271 3.949.929 5.769 2.481Z"}):"pencil"===i?n=(0,r.jsxs)("g",{children:[(0,r.jsx)("path",{d:"M14.0737 3.88545C14.8189 3.07808 15.1915 2.6744 15.5874 2.43893C16.5427 1.87076 17.7191 1.85309 18.6904 2.39232C19.0929 2.6158 19.4769 3.00812 20.245 3.79276C21.0131 4.5774 21.3972 4.96972 21.6159 5.38093C22.1438 6.37312 22.1265 7.57479 21.5703 8.5507C21.3398 8.95516 20.9446 9.33578 20.1543 10.097L10.7506 19.1543C9.25288 20.5969 8.504 21.3182 7.56806 21.6837C6.63212 22.0493 5.6032 22.0224 3.54536 21.9686L3.26538 21.9613C2.63891 21.9449 2.32567 21.9367 2.14359 21.73C1.9615 21.5234 1.98636 21.2043 2.03608 20.5662L2.06308 20.2197C2.20301 18.4235 2.27297 17.5255 2.62371 16.7182C2.97444 15.9109 3.57944 15.2555 4.78943 13.9445L14.0737 3.88545Z",stroke:"currentColor","stroke-width":"2","stroke-linejoin":"round"}),(0,r.jsx)("path",{d:"M13 4L20 11",stroke:"currentColor","stroke-width":"1.5","stroke-linejoin":"round"}),(0,r.jsx)("path",{d:"M14 22L22 22",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}):"trash"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z"}):"share"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M18 16.08C17.24 16.08 16.56 16.38 16.04 16.85L8.91 12.7C8.96 12.47 9 12.24 9 12S8.96 11.53 8.91 11.3L15.96 7.19C16.5 7.69 17.21 8 18 8C19.66 8 21 6.66 21 5S19.66 2 18 2 15 3.34 15 5C15 5.24 15.04 5.47 15.09 5.7L8.04 9.81C7.5 9.31 6.79 9 6 9C4.34 9 3 10.34 3 12S4.34 15 6 15C6.79 15 7.5 14.69 8.04 14.19L15.16 18.34C15.11 18.55 15.08 18.77 15.08 19C15.08 20.61 16.39 21.91 18 21.91S20.92 20.61 20.92 19C20.92 17.39 19.61 16.08 18 16.08M18 4C18.55 4 19 4.45 19 5S18.55 6 18 6 17 5.55 17 5 17.45 4 18 4M6 13C5.45 13 5 12.55 5 12S5.45 11 6 11 7 11.45 7 12 6.55 13 6 13M18 20C17.45 20 17 19.55 17 19S17.45 18 18 18 19 18.45 19 19 18.55 20 18 20Z"}):"dollar"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M7,15H9C9,16.08 10.37,17 12,17C13.63,17 15,16.08 15,15C15,13.9 13.96,13.5 11.76,12.97C9.64,12.44 7,11.78 7,9C7,7.21 8.47,5.69 10.5,5.18V3H13.5V5.18C15.53,5.69 17,7.21 17,9H15C15,7.92 13.63,7 12,7C10.37,7 9,7.92 9,9C9,10.1 10.04,10.5 12.24,11.03C14.36,11.56 17,12.22 17,15C17,16.79 15.53,18.31 13.5,18.82V21H10.5V18.82C8.47,18.31 7,16.79 7,15Z"}):"download"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z"}):"list"===i?n=(0,r.jsx)("path",{fill:"currentColor",d:"M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"}):"grid"===i&&(n=(0,r.jsx)("path",{fill:"currentColor",d:"M3 3h8v8H3V3zm10 0h8v8h-8V3zm0 10h8v8h-8v-8zM3 13h8v8H3v-8z"})),"heart"===i&&(n=(0,r.jsx)("path",{fill:"currentColor",d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})),(0,r.jsx)("svg",{ref:t,width:a,height:a,viewBox:"0 0 24 24",fill:o||"undefined",color:o||void 0,style:{color:o||"undefined",verticalAlign:"middle",marginRight:c||"0.5rem",marginLeft:u||"0"},xmlns:"http://www.w3.org/2000/svg",children:n})}))},9241:function(e,t,n){"use strict";n.d(t,{R:function(){return o},a:function(){return i}});var r=n(2322);n(2784);function i(e){var t=e.height,n=e.noMargin,i=e.leftMargin;return(0,r.jsx)("svg",{viewBox:"0 0 166 166",height:t||"1.6em",style:{margin:n?null:i?" 0 0 0 ".concat(i):"0 0.8rem"},className:"loader",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{d:"M83 166c-45.84 0-83-37.16-83-83S37.16 0 83 0s83 37.16 83 83-37.16 83-83 83zm0-29c29.823 0 54-24.177 54-54s-24.177-54-54-54-54 24.177-54 54 24.177 54 54 54z",fill:"currentColor",style:{opacity:.2}}),(0,r.jsx)("path",{d:"M137.008 83H137c0-29.823-24.177-54-54-54S29 53.177 29 83h-.008c.005.166.008.333.008.5C29 91.508 22.508 98 14.5 98S0 91.508 0 83.5c0-.167.003-.334.008-.5H0C0 37.16 37.16 0 83 0s83 37.16 83 83h-.008c.005.166.008.333.008.5 0 8.008-6.492 14.5-14.5 14.5S137 91.508 137 83.5c0-.167.003-.334.008-.5z",fill:"currentColor"}),(0,r.jsx)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 83 83",to:"360 83 83",repeatCount:"indefinite"})]})})}function o(e){var t=e.children;return(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"2rem 1rem"},children:[(0,r.jsx)(i,{})," ",t]})}},6399:function(e,t,n){"use strict";n.d(t,{T:function(){return y}});var r=n(2322),i=n(2784),o=n(2260),s=n(9097),a=n.n(s),c=n(1893),u=n(9604),l=n(7414),h=n(5598);function d(){var e=(new Date).getFullYear();(0,l.P)(),(0,c.a)();return(0,r.jsxs)("div",{className:"v2-footer",children:[(0,r.jsxs)(h.HStack,{justify:"center",gap:"1rem",responsive:!0,align:"center",children:[(0,r.jsxs)("div",{className:"footer__copyright",children:["\xa9 ",e," CSSBattle"]}),(0,r.jsx)("div",{className:"footer__links",children:(0,r.jsxs)(h.HStack,{gap:"1.5rem",justify:"flex-end",children:[(0,r.jsxs)("div",{style:{color:"var(--clr-text-lightest-final)",fontWeight:500},children:[(0,r.jsx)("span",{style:{fontWeight:500,color:"var(--clr-brand)"},children:"414691"})," ","players"]}),(0,r.jsx)("a",{href:"https://discord.gg/rvqvbcFM86",target:"_blank",rel:"external noopener noreferrer",className:"hint--top-left","aria-label":"Join on Discord",children:(0,r.jsx)(u.J,{marginRight:"0",name:"discord-alt",size:"18"})}),(0,r.jsx)("a",{href:"https://bsky.app/profile/cssbattle.dev",target:"_blank",rel:"external noopener noreferrer",className:"hint--top-left","aria-label":"Join on Bluesky",children:(0,r.jsx)(u.J,{marginRight:"0",name:"bluesky",size:"18"})}),(0,r.jsx)("a",{href:"https://x.com/css_battle",target:"_blank",rel:"external noopener noreferrer",className:"hint--top-left","aria-label":"Join on X",children:(0,r.jsx)(u.J,{marginRight:"0",name:"twitter",size:"18"})}),(0,r.jsx)("a",{href:"mailto:contact@cssbattle.dev",target:"_blank",rel:"external noopener noreferrer",className:"hint--top-left","aria-label":"Contact us",children:(0,r.jsx)(u.J,{marginRight:"0",name:"mail",size:"18"})})]})})]}),(0,r.jsx)(h.HStack,{justify:"space-between",children:(0,r.jsx)("div",{className:"footer__links",children:(0,r.jsxs)(h.HStack,{gap:"4rem",justify:"center",align:"flex-start",children:[(0,r.jsxs)(h.VStack,{gap:"0.75rem",align:"flex-start",children:[(0,r.jsx)("h3",{className:"footer__column-title",children:"Play"}),(0,r.jsx)(a(),{href:"/battles",children:(0,r.jsx)("a",{children:"Battles"})}),(0,r.jsx)(a(),{href:"/daily",children:(0,r.jsx)("a",{children:"Daily Targets"})}),(0,r.jsx)(a(),{href:"/versus",children:(0,r.jsx)("a",{children:"Versus"})})]}),(0,r.jsxs)(h.VStack,{gap:"0.75rem",align:"flex-start",children:[(0,r.jsx)("h3",{className:"footer__column-title",children:"Learn"}),(0,r.jsx)(a(),{href:"/blog",children:(0,r.jsx)("a",{children:"Blog"})}),(0,r.jsx)(a(),{href:"/learn",children:(0,r.jsx)("a",{children:"CSS Courses"})}),(0,r.jsx)(a(),{href:"/newsletter",children:(0,r.jsx)("a",{children:"Newsletter"})}),(0,r.jsx)("a",{href:"https://www.youtube.com/playlist?list=PLe7lg7RCOjYf3IAEO6152Elij3VUB8WSk",target:"_blank",children:"Saturday Night Live"})]}),(0,r.jsxs)(h.VStack,{gap:"0.75rem",align:"flex-start",children:[(0,r.jsx)("h3",{className:"footer__column-title",children:"The Game"}),(0,r.jsx)(a(),{href:"/tips",children:(0,r.jsx)("a",{children:"Tips & Tricks"})}),(0,r.jsx)(a(),{href:"/faqs",children:(0,r.jsx)("a",{children:"FAQs"})}),(0,r.jsx)("a",{href:"https://community.cssbattle.dev",target:"_blank",rel:"external noopener noreferrer",children:"Community"})]}),(0,r.jsxs)(h.VStack,{gap:"0.75rem",align:"flex-start",children:[(0,r.jsx)("h3",{className:"footer__column-title",children:"CSSBattle"}),(0,r.jsx)(a(),{href:"/about",children:(0,r.jsx)("a",{children:"About Us"})}),(0,r.jsx)(a(),{href:"/hall-of-love",children:(0,r.jsx)("a",{children:"Hall of \u2764\ufe0f"})}),(0,r.jsx)(a(),{href:"/privacy-and-terms",children:(0,r.jsx)("a",{children:"Privacy & Terms"})}),(0,r.jsx)("a",{href:"/cssbattle-presskit.zip",download:!0,children:"Press Kit"}),(0,r.jsx)(a(),{href:"/advertise",children:(0,r.jsx)("a",{children:"Advertise"})})]})]})})}),(0,r.jsxs)("div",{className:"footer__deco",children:[(0,r.jsx)("img",{src:"/targets/3.png"}),(0,r.jsx)("img",{src:"/targets/223.png"}),(0,r.jsx)("img",{src:"/targets/224.png"}),(0,r.jsx)("img",{src:"/targets/212.png"}),(0,r.jsx)("img",{src:"/targets/1.png"}),(0,r.jsx)("img",{src:"/targets/22.png"}),(0,r.jsx)("img",{src:"/targets/23.png"}),(0,r.jsx)("img",{src:"/targets/122.png"}),(0,r.jsx)("img",{src:"/targets/221.png"})]})]})}var p=i.memo(d),f=n(4860),m=n(5632),g=n(3552),v=n(2367);function y(e){var t=e.children,n=(0,m.useRouter)(),s=/\/(play\/\S*)|(learn\/\w+\/\d+)|(course-editor\S*)|(countdown\/\S+)/.test(n.asPath),a=(0,i.useState)(!s&&!(0,v.tq)()),c=a[0],u=a[1],l=function(){u(!c)};(0,i.useEffect)((function(){u(!s&&!(0,v.tq)()&&c)}),[n.asPath]);var h=(0,i.useContext)(g.k),d=h.levelId,y=h.level,_=h.battle;h.setBattle;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"page-wrapper",children:[(0,r.jsx)(f.n,{collapsible:s||(0,v.tq)(),visible:c}),(0,r.jsxs)("div",{className:"content-wrapper",children:[(0,r.jsx)(o.h,{onToggleSidebar:l,isSidebarVisible:c,levelId:d,level:y,battle:_}),(0,r.jsx)("div",{className:"page-content ".concat(s&&"page-content--no-padding"),children:(0,r.jsxs)("div",{className:"page-content__inner ".concat(s&&"page-content__inner--fluid"),children:[t,(0,r.jsx)("div",{className:"".concat(s&&c?"sidebar-container--visible":""),children:(0,r.jsx)("div",{className:"underlay",onClick:l})})]})}),(0,r.jsx)(p,{})]})]})})}},8329:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2322),i=function(e){var t=e.height,n=void 0===t?18:t,i=e.style;return(0,r.jsx)("img",{height:n,width:~~(37*n/18),className:"pro-badge",style:i,src:"/images/pro-badge.svg",alt:"Pro badge"})}},3290:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});var r=n(8996),i=function(e){var t=e.name,n=e.category,i=e.label;window.gtag&&window.gtag("event",t,{event_category:n,event_label:i}),r.Z.track(t,{category:n,label:i})}},1211:function(e,t,n){"use strict";n.d(t,{z:function(){return a}});var r=n(930),i=n(2322),o=n(2784);var s=function(e){var t=e.value,n=e.nextValue,r=(0,o.useRef)();return(0,o.useEffect)((function(){var e;n!==t&&(null===(e=r.current)||void 0===e||e.classList.remove("changed"),setTimeout((function(){var e;null===(e=r.current)||void 0===e||e.classList.add("changing")}),20),setTimeout((function(){var e,t;null===(e=r.current)||void 0===e||e.classList.add("changed"),null===(t=r.current)||void 0===t||t.classList.remove("changing")}),950))}),[n]),(0,i.jsxs)("div",{ref:r,className:"count up",children:[(0,i.jsx)("span",{className:"current top ",children:t}),(0,i.jsx)("span",{className:"next top ",children:n}),(0,i.jsx)("span",{className:"current bottom",children:t}),(0,i.jsx)("span",{className:"next bottom",children:n})]})},a=function(e){var t=e.number,n=e.countDigits,a=void 0===n?3:n,c=e.size,u=void 0===c?"0.6":c,l=(0,o.useState)(Array(a).fill(0)),h=l[0],d=l[1],p=(0,o.useState)(Array(a).fill(0)),f=p[0],m=p[1];return(0,o.useEffect)((function(){var e=(t+"").padStart(a,"0").split("");m((0,r.Z)(h)),d(e)}),[t]),(0,i.jsx)("div",{style:{display:"inline-flex",gap:"calc(1rem * var(--size))","--size":u},children:h.map((function(e,t){return(0,i.jsx)(s,{value:f[t],nextValue:e},t)}))})}},4860:function(e,t,n){"use strict";n.d(t,{n:function(){return Pt}});var r=n(6383),i=n(2322),o=n(2784),s=n.t(o,2),a=n(9502),c=n.n(a),u=n(9097),l=n.n(u),h=n(9604),d=n(5632),p=n(1893),f=n(8387),m=n(5598),g=n(7414),v=n(7841),y=n(7500),_=n(7353),b=function(e){var t=e.size,n=void 0===t?20:t,r=e.thickness,o=void 0===r?3:r,s=e.percent,a=n/2-o,c=2*a*3.141,u=c*((100-(void 0===s?75:s))/100);return(0,i.jsxs)("svg",{width:n,height:n,viewBox:"0 0 "+n+" "+n,style:{transform:"rotate(-90deg)"},children:[(0,i.jsx)("circle",{r:a,cx:n/2,cy:n/2,fill:"transparent",stroke:"var(--clr-border-brighter)",strokeWidth:o+"px"}),(0,i.jsx)("circle",{r:a,cx:n/2,cy:n/2,fill:"transparent",stroke:"var(--clr-green-bright)",strokeWidth:o+"px",strokeDasharray:c+"px",strokeDashoffset:u+"px",strokeLinecap:"round"})]})},w=n(8724),C=n(1251);function E(e,t=[]){let n=[];const r=()=>{const t=n.map((e=>o.createContext(e)));return function(n){const r=n?.[e]||t;return o.useMemo((()=>({[`__scope${e}`]:{...n,[e]:r}})),[n,r])}};return r.scopeName=e,[function(t,r){const s=o.createContext(r),a=n.length;n=[...n,r];const c=t=>{const{scope:n,children:r,...c}=t,u=n?.[e]?.[a]||s,l=o.useMemo((()=>c),Object.values(c));return(0,i.jsx)(u.Provider,{value:l,children:r})};return c.displayName=t+"Provider",[c,function(n,i){const c=i?.[e]?.[a]||s,u=o.useContext(c);if(u)return u;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},S(r,...t)]}function S(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const r=n.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return o.useMemo((()=>({[`__scope${t.scopeName}`]:r})),[r])}};return n.scopeName=t.scopeName,n}function T(...e){return t=>e.forEach((e=>function(e,t){"function"===typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}(e,t)))}function I(...e){return o.useCallback(T(...e),e)}function k(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}var x=Boolean(globalThis?.document)?o.useLayoutEffect:()=>{},A=s["useId".toString()]||(()=>{}),D=0;function R(e){const[t,n]=o.useState(A());return x((()=>{e||n((e=>e??String(D++)))}),[e]),e||(t?`radix-${t}`:"")}function M(e){const t=o.useRef(e);return o.useEffect((()=>{t.current=e})),o.useMemo((()=>(...e)=>t.current?.(...e)),[])}function O({prop:e,defaultProp:t,onChange:n=(()=>{})}){const[r,i]=function({defaultProp:e,onChange:t}){const n=o.useState(e),[r]=n,i=o.useRef(r),s=M(t);return o.useEffect((()=>{i.current!==r&&(s(r),i.current=r)}),[r,i,s]),n}({defaultProp:t,onChange:n}),s=void 0!==e,a=s?e:r,c=M(n);return[a,o.useCallback((t=>{if(s){const n=t,r="function"===typeof t?n(e):t;r!==e&&c(r)}else i(t)}),[s,e,i,c])]}var L=n(8316),N=o.forwardRef(((e,t)=>{const{children:n,...r}=e,s=o.Children.toArray(n),a=s.find(j);if(a){const e=a.props.children,n=s.map((t=>t===a?o.Children.count(e)>1?o.Children.only(null):o.isValidElement(e)?e.props.children:null:t));return(0,i.jsx)(P,{...r,ref:t,children:o.isValidElement(e)?o.cloneElement(e,void 0,n):null})}return(0,i.jsx)(P,{...r,ref:t,children:n})}));N.displayName="Slot";var P=o.forwardRef(((e,t)=>{const{children:n,...r}=e;if(o.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(n);return o.cloneElement(n,{...B(r,n.props),ref:t?T(t,e):e})}return o.Children.count(n)>1?o.Children.only(null):null}));P.displayName="SlotClone";var F=({children:e})=>(0,i.jsx)(i.Fragment,{children:e});function j(e){return o.isValidElement(e)&&e.type===F}function B(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...e)=>{o(...e),i(...e)}:i&&(n[r]=i):"style"===r?n[r]={...i,...o}:"className"===r&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}var U=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const n=o.forwardRef(((e,n)=>{const{asChild:r,...o}=e,s=r?N:t;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(s,{...o,ref:n})}));return n.displayName=`Primitive.${t}`,{...e,[t]:n}}),{});var V,H="dismissableLayer.update",q="dismissableLayer.pointerDownOutside",z="dismissableLayer.focusOutside",$=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),W=o.forwardRef(((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:c,onDismiss:u,...l}=e,h=o.useContext($),[d,p]=o.useState(null),f=d?.ownerDocument??globalThis?.document,[,m]=o.useState({}),g=I(t,(e=>p(e))),v=Array.from(h.layers),[y]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(y),b=d?v.indexOf(d):-1,w=h.layersWithOutsidePointerEventsDisabled.size>0,C=b>=_,E=function(e,t=globalThis?.document){const n=M(e),r=o.useRef(!1),i=o.useRef((()=>{}));return o.useEffect((()=>{const e=e=>{if(e.target&&!r.current){let r=function(){K(q,n,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}}),[t,n]),{onPointerDownCapture:()=>r.current=!0}}((e=>{const t=e.target,n=[...h.branches].some((e=>e.contains(t)));C&&!n&&(s?.(e),c?.(e),e.defaultPrevented||u?.())}),f),S=function(e,t=globalThis?.document){const n=M(e),r=o.useRef(!1);return o.useEffect((()=>{const e=e=>{if(e.target&&!r.current){K(z,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}((e=>{const t=e.target;[...h.branches].some((e=>e.contains(t)))||(a?.(e),c?.(e),e.defaultPrevented||u?.())}),f);return function(e,t=globalThis?.document){const n=M(e);o.useEffect((()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})}),[n,t])}((e=>{b===h.layers.size-1&&(r?.(e),!e.defaultPrevented&&u&&(e.preventDefault(),u()))}),f),o.useEffect((()=>{if(d)return n&&(0===h.layersWithOutsidePointerEventsDisabled.size&&(V=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(d)),h.layers.add(d),Z(),()=>{n&&1===h.layersWithOutsidePointerEventsDisabled.size&&(f.body.style.pointerEvents=V)}}),[d,f,n,h]),o.useEffect((()=>()=>{d&&(h.layers.delete(d),h.layersWithOutsidePointerEventsDisabled.delete(d),Z())}),[d,h]),o.useEffect((()=>{const e=()=>m({});return document.addEventListener(H,e),()=>document.removeEventListener(H,e)}),[]),(0,i.jsx)(U.div,{...l,ref:g,style:{pointerEvents:w?C?"auto":"none":void 0,...e.style},onFocusCapture:k(e.onFocusCapture,S.onFocusCapture),onBlurCapture:k(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:k(e.onPointerDownCapture,E.onPointerDownCapture)})}));W.displayName="DismissableLayer";var G=o.forwardRef(((e,t)=>{const n=o.useContext($),r=o.useRef(null),s=I(t,r);return o.useEffect((()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}}),[n.branches]),(0,i.jsx)(U.div,{...e,ref:s})}));function Z(){const e=new CustomEvent(H);document.dispatchEvent(e)}function K(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?function(e,t){e&&L.flushSync((()=>e.dispatchEvent(t)))}(i,o):i.dispatchEvent(o)}G.displayName="DismissableLayerBranch";var J="focusScope.autoFocusOnMount",X="focusScope.autoFocusOnUnmount",Y={bubbles:!1,cancelable:!0},Q=o.forwardRef(((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...c}=e,[u,l]=o.useState(null),h=M(s),d=M(a),p=o.useRef(null),f=I(t,(e=>l(e))),m=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect((()=>{if(r){let e=function(e){if(m.paused||!u)return;const t=e.target;u.contains(t)?p.current=t:re(p.current,{select:!0})},t=function(e){if(m.paused||!u)return;const t=e.relatedTarget;null!==t&&(u.contains(t)||re(p.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&re(u)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return u&&r.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}}),[r,u,m.paused]),o.useEffect((()=>{if(u){ie.add(m);const t=document.activeElement;if(!u.contains(t)){const n=new CustomEvent(J,Y);u.addEventListener(J,h),u.dispatchEvent(n),n.defaultPrevented||(!function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(re(r,{select:t}),document.activeElement!==n)return}((e=ee(u),e.filter((e=>"A"!==e.tagName))),{select:!0}),document.activeElement===t&&re(u))}return()=>{u.removeEventListener(J,h),setTimeout((()=>{const e=new CustomEvent(X,Y);u.addEventListener(X,d),u.dispatchEvent(e),e.defaultPrevented||re(t??document.body,{select:!0}),u.removeEventListener(X,d),ie.remove(m)}),0)}}var e}),[u,h,d,m]);const g=o.useCallback((e=>{if(!n&&!r)return;if(m.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){const t=e.currentTarget,[r,o]=function(e){const t=ee(e),n=te(t,e),r=te(t.reverse(),e);return[n,r]}(t);r&&o?e.shiftKey||i!==o?e.shiftKey&&i===r&&(e.preventDefault(),n&&re(o,{select:!0})):(e.preventDefault(),n&&re(r,{select:!0})):i===t&&e.preventDefault()}}),[n,r,m.paused]);return(0,i.jsx)(U.div,{tabIndex:-1,...c,ref:f,onKeyDown:g})}));function ee(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function te(e,t){for(const n of e)if(!ne(n,{upTo:t}))return n}function ne(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function re(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}Q.displayName="FocusScope";var ie=function(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=oe(e,t),e.unshift(t)},remove(t){e=oe(e,t),e[0]?.resume()}}}();function oe(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var se=o.forwardRef(((e,t)=>{const{container:n,...r}=e,[s,a]=o.useState(!1);x((()=>a(!0)),[]);const c=n||s&&globalThis?.document?.body;return c?L.createPortal((0,i.jsx)(U.div,{...r,ref:t}),c):null}));se.displayName="Portal";var ae=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=o.useState(),r=o.useRef({}),i=o.useRef(e),s=o.useRef("none"),a=e?"mounted":"unmounted",[c,u]=function(e,t){return o.useReducer(((e,n)=>t[e][n]??e),e)}(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect((()=>{const e=ce(r.current);s.current="mounted"===c?e:"none"}),[c]),x((()=>{const t=r.current,n=i.current;if(n!==e){const r=s.current,o=ce(t);if(e)u("MOUNT");else if("none"===o||"none"===t?.display)u("UNMOUNT");else{const e=r!==o;u(n&&e?"ANIMATION_OUT":"UNMOUNT")}i.current=e}}),[e,u]),x((()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,o=o=>{const s=ce(r.current).includes(o.animationName);if(o.target===t&&s&&(u("ANIMATION_END"),!i.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout((()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)}))}},a=e=>{e.target===t&&(s.current=ce(r.current))};return t.addEventListener("animationstart",a),t.addEventListener("animationcancel",o),t.addEventListener("animationend",o),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",a),t.removeEventListener("animationcancel",o),t.removeEventListener("animationend",o)}}u("ANIMATION_END")}),[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:o.useCallback((e=>{e&&(r.current=getComputedStyle(e)),n(e)}),[])}}(t),i="function"===typeof n?n({present:r.isPresent}):o.Children.only(n),s=I(r.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(i));return"function"===typeof n||r.isPresent?o.cloneElement(i,{ref:s}):null};function ce(e){return e?.animationName||"none"}ae.displayName="Presence";var ue=0;function le(){o.useEffect((()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??he()),document.body.insertAdjacentElement("beforeend",e[1]??he()),ue++,()=>{1===ue&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),ue--}}),[])}function he(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var de=n(1869),pe=n(9732),fe="Dialog",[me,ge]=E(fe),[ve,ye]=me(fe),_e=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:c=!0}=e,u=o.useRef(null),l=o.useRef(null),[h=!1,d]=O({prop:r,defaultProp:s,onChange:a});return(0,i.jsx)(ve,{scope:t,triggerRef:u,contentRef:l,contentId:R(),titleId:R(),descriptionId:R(),open:h,onOpenChange:d,onOpenToggle:o.useCallback((()=>d((e=>!e))),[d]),modal:c,children:n})};_e.displayName=fe;var be="DialogTrigger",we=o.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,o=ye(be,n),s=I(t,o.triggerRef);return(0,i.jsx)(U.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Ue(o.open),...r,ref:s,onClick:k(e.onClick,o.onOpenToggle)})}));we.displayName=be;var Ce="DialogPortal",[Ee,Se]=me(Ce,{forceMount:void 0}),Te=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=ye(Ce,t);return(0,i.jsx)(Ee,{scope:t,forceMount:n,children:o.Children.map(r,(e=>(0,i.jsx)(ae,{present:n||a.open,children:(0,i.jsx)(se,{asChild:!0,container:s,children:e})})))})};Te.displayName=Ce;var Ie="DialogOverlay",ke=o.forwardRef(((e,t)=>{const n=Se(Ie,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=ye(Ie,e.__scopeDialog);return s.modal?(0,i.jsx)(ae,{present:r||s.open,children:(0,i.jsx)(xe,{...o,ref:t})}):null}));ke.displayName=Ie;var xe=o.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,o=ye(Ie,n);return(0,i.jsx)(de.Z,{as:N,allowPinchZoom:!0,shards:[o.contentRef],children:(0,i.jsx)(U.div,{"data-state":Ue(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})})),Ae="DialogContent",De=o.forwardRef(((e,t)=>{const n=Se(Ae,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=ye(Ae,e.__scopeDialog);return(0,i.jsx)(ae,{present:r||s.open,children:s.modal?(0,i.jsx)(Re,{...o,ref:t}):(0,i.jsx)(Me,{...o,ref:t})})}));De.displayName=Ae;var Re=o.forwardRef(((e,t)=>{const n=ye(Ae,e.__scopeDialog),r=o.useRef(null),s=I(t,n.contentRef,r);return o.useEffect((()=>{const e=r.current;if(e)return(0,pe.Ry)(e)}),[]),(0,i.jsx)(Oe,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:k(e.onCloseAutoFocus,(e=>{e.preventDefault(),n.triggerRef.current?.focus()})),onPointerDownOutside:k(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()})),onFocusOutside:k(e.onFocusOutside,(e=>e.preventDefault()))})})),Me=o.forwardRef(((e,t)=>{const n=ye(Ae,e.__scopeDialog),r=o.useRef(!1),s=o.useRef(!1);return(0,i.jsx)(Oe,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||n.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));const i=t.target,o=n.triggerRef.current?.contains(i);o&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})})),Oe=o.forwardRef(((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...c}=e,u=ye(Ae,n),l=o.useRef(null),h=I(t,l);return le(),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Q,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:(0,i.jsx)(W,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Ue(u.open),...c,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ze,{titleId:u.titleId}),(0,i.jsx)($e,{contentRef:l,descriptionId:u.descriptionId})]})]})})),Le="DialogTitle",Ne=o.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,o=ye(Le,n);return(0,i.jsx)(U.h2,{id:o.titleId,...r,ref:t})}));Ne.displayName=Le;var Pe="DialogDescription",Fe=o.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,o=ye(Pe,n);return(0,i.jsx)(U.p,{id:o.descriptionId,...r,ref:t})}));Fe.displayName=Pe;var je="DialogClose",Be=o.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,o=ye(je,n);return(0,i.jsx)(U.button,{type:"button",...r,ref:t,onClick:k(e.onClick,(()=>o.onOpenChange(!1)))})}));function Ue(e){return e?"open":"closed"}Be.displayName=je;var Ve="DialogTitleWarning",[He,qe]=function(e,t){const n=o.createContext(t),r=e=>{const{children:t,...r}=e,s=o.useMemo((()=>r),Object.values(r));return(0,i.jsx)(n.Provider,{value:s,children:t})};return r.displayName=e+"Provider",[r,function(r){const i=o.useContext(n);if(i)return i;if(void 0!==t)return t;throw new Error(`\`${r}\` must be used within \`${e}\``)}]}(Ve,{contentName:Ae,titleName:Le,docsSlug:"dialog"}),ze=({titleId:e})=>{const t=qe(Ve),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return o.useEffect((()=>{if(e){document.getElementById(e)||console.error(n)}}),[n,e]),null},$e=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qe("DialogDescriptionWarning").contentName}}.`;return o.useEffect((()=>{const r=e.current?.getAttribute("aria-describedby");if(t&&r){document.getElementById(t)||console.warn(n)}}),[n,e,t]),null},We=_e,Ge=we,Ze=Te,Ke=ke,Je=De,Xe=Ne,Ye=Fe,Qe=Be,et="AlertDialog",[tt,nt]=E(et,[ge]),rt=ge(),it=e=>{const{__scopeAlertDialog:t,...n}=e,r=rt(t);return(0,i.jsx)(We,{...r,...n,modal:!0})};it.displayName=et;var ot=o.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=rt(n);return(0,i.jsx)(Ge,{...o,...r,ref:t})}));ot.displayName="AlertDialogTrigger";var st=e=>{const{__scopeAlertDialog:t,...n}=e,r=rt(t);return(0,i.jsx)(Ze,{...r,...n})};st.displayName="AlertDialogPortal";var at=o.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=rt(n);return(0,i.jsx)(Ke,{...o,...r,ref:t})}));at.displayName="AlertDialogOverlay";var ct="AlertDialogContent",[ut,lt]=tt(ct),ht=o.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,a=rt(n),c=o.useRef(null),u=I(t,c),l=o.useRef(null);return(0,i.jsx)(He,{contentName:ct,titleName:dt,docsSlug:"alert-dialog",children:(0,i.jsx)(ut,{scope:n,cancelRef:l,children:(0,i.jsxs)(Je,{role:"alertdialog",...a,...s,ref:u,onOpenAutoFocus:k(s.onOpenAutoFocus,(e=>{e.preventDefault(),l.current?.focus({preventScroll:!0})})),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,i.jsx)(F,{children:r}),(0,i.jsx)(_t,{contentRef:c})]})})})}));ht.displayName=ct;var dt="AlertDialogTitle",pt=o.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=rt(n);return(0,i.jsx)(Xe,{...o,...r,ref:t})}));pt.displayName=dt;var ft="AlertDialogDescription",mt=o.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=rt(n);return(0,i.jsx)(Ye,{...o,...r,ref:t})}));mt.displayName=ft;var gt=o.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=rt(n);return(0,i.jsx)(Qe,{...o,...r,ref:t})}));gt.displayName="AlertDialogAction";var vt="AlertDialogCancel",yt=o.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=lt(vt,n),s=rt(n),a=I(t,o);return(0,i.jsx)(Qe,{...s,...r,ref:a})}));yt.displayName=vt;var _t=({contentRef:e})=>{const t="`AlertDialogContent` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `AlertDialogContent` by passing a `AlertDialogDescription` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `AlertDialogContent`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog";return o.useEffect((()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)}),[t,e]),null},bt=it,wt=ot,Ct=st,Et=at,St=ht,Tt=gt,It=yt,kt=n(2220),xt=n(5416),At=n(7037),Dt=n(9318),Rt=n(3290),Mt=function(e){var t=e.icon,n=e.title,r=e.link,o=e.tag,s=e.matchRegex,a=e.locked,u=(0,d.useRouter)().asPath,p=u==r||(null===s||void 0===s?void 0:s.test(u)),f=(0,g.P)();return(0,i.jsx)(l(),{href:r,children:(0,i.jsxs)("a",{className:"".concat(c().sidebarPageItem,"\n      ").concat(p?c().sidebarPageItemActive:""),children:[(0,i.jsx)(h.J,{name:t,size:"18",marginRight:"0"}),(0,i.jsx)("span",{className:c().sidebarPageItemText,children:n}),a&&f?(0,i.jsx)(h.J,{name:"lock",size:"16",marginRight:"1rem",color:"var(--clr-brand)"}):null,o&&f?(0,i.jsx)("span",{className:c().sidebarPageItemTag,children:o}):null]})})},Ot=function(){var e=(0,p.a)(),t=(0,r.Z)(o.useState({}),2),n=t[0],s=t[1],a=(0,r.Z)(o.useState(0),2),u=a[0],l=a[1];return(0,o.useEffect)((function(){e&&Promise.all([(0,At.j7)(e.uid)]).then((function(t){var n,i=(0,r.Z)(t,1)[0],o={account:!0,username:!!e.username,daily:!!i,streakReminder:!!(null===(n=e.settings)||void 0===n?void 0:n.streakMailNotifications)};s(o),l(Object.values(o).filter((function(e){return e})).length)}))}),[e]),(0,i.jsx)(w.L,{dropdownContainerClasses:"dropdown-container--onboarding",dropdownBtnClasses:"dropdown-btn--minimal dropdown-btn--no-padding",isFixed:!0,ignoreScrollTop:!0,direction:"right",onOpen:function(){(0,Rt.q)({name:"onboardingOpen"})},dropdownBtnContent:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b,{thickness:2.5,percent:u/4*100}),(0,i.jsxs)("span",{className:c().sidebarPageItemText,children:[u,"/4 done"]})]}),children:(0,i.jsx)("div",{style:{padding:"0.75rem 0"},children:(0,i.jsxs)(m.VStack,{gap:"1rem",align:"stretch",children:[(0,i.jsx)(Nt,{text:"Create an account",href:"/login",isFinished:n.account}),(0,i.jsx)(Nt,{text:"Play a daily target",href:"/play/latest",isFinished:n.daily}),(0,i.jsx)(Nt,{text:"Reserve your public username",href:"/settings?tab=profile",isFinished:n.username}),(0,i.jsx)(Nt,{text:"Set up streak reminders",href:"/settings?tab=notifications",isFinished:n.streakReminder}),(0,i.jsx)(C.Z0,{}),(0,i.jsx)(v.x,{mono:!1,weight:500,appearance:"tertiary",size:1,children:"Explore more"}),(0,i.jsx)("a",{className:"link--no-underline",href:"https://discord.gg/GPC8MjbaHu",children:(0,i.jsxs)(m.HStack,{gap:"0.5rem",children:["Join our discord",(0,i.jsx)(h.J,{name:"link",size:"12",color:"var(--clr-text-light)"})]})}),(0,i.jsx)(Lt,{href:"/tips",children:"See tips & tricks to score better"}),(0,i.jsx)(Lt,{href:"/learn",children:"Check out our CSS courses"}),(0,i.jsx)(Lt,{href:"/faqs",children:"Read FAQs"}),(0,i.jsx)(C.Z0,{}),(0,i.jsx)(wt,{asChild:!0,children:(0,i.jsx)("button",{href:"#",className:"link--no-underline",style:{background:"none",textAlign:"left",padding:0,border:0,fontWeight:"inherit"},onClick:function(){(0,Rt.q)({name:"onboardingSkipClick"})},children:"Skip onboarding"})})]})})})},Lt=function(e){var t=e.children,n=e.href,r=void 0===n?"":n;return(0,i.jsx)(l(),{href:r,children:(0,i.jsx)("a",{className:"link--no-underline",onClick:function(){(0,Rt.q)({name:"onboardingItemClick",label:r})},children:t})})},Nt=function(e){var t=e.text,n=e.href,r=void 0===n?"":n,o=e.isFinished,s=void 0!==o&&o;return(0,i.jsxs)(m.HStack,{children:[(0,i.jsx)("div",{className:c().onboardingCheckmark,"data-checked":s,children:s?(0,i.jsx)(h.J,{name:"tick",color:"white",size:"14",marginRight:"0"}):null}),(0,i.jsx)(l(),{href:r,children:(0,i.jsx)("a",{onClick:function(){(0,Rt.q)({name:"onboardingItemClick",label:r})},style:{textDecoration:s?"line-through":"none",color:s?"var(--clr-text-lightest-final)":"var(--clr-link)"},children:t})})]})},Pt=function(e){var t,n,o,s,a=e.collapsible,u=void 0!==a&&a,h=e.visible,d=void 0!==h&&h,b=((new Date).getFullYear(),(0,g.P)()),w=(0,r.Z)((0,Dt._)("showOnboarding",!0),2),C=w[0],E=w[1],S=y.battles.some((function(e){return(0,y.getBattleStatus)(e)===y.BattleStatuses.ONGOING})),T=(0,p.a)();return(0,i.jsxs)(bt,{children:[(0,i.jsxs)("div",{className:"".concat(c().sidebarContainer," ").concat(u?c().sidebarContainerCollapsible:""," ").concat(d?c().sidebarContainerVisible:""),children:[(0,i.jsx)("div",{className:c().sidebarLogo,children:(0,i.jsx)(l(),{href:"/",children:(0,i.jsx)("a",{className:"logo-image logo-image--full"})})}),(0,i.jsx)("div",{className:c().sidebarLogoSmall,children:(0,i.jsx)(l(),{href:"/",children:(0,i.jsx)("a",{className:"logo-image logo-image--glyph"})})}),(0,i.jsxs)("div",{className:c().sidebarMainContent,children:[(0,i.jsx)("div",{className:c().sidebarSection,children:(0,i.jsx)(Mt,{icon:"home",title:"Home",link:"/"})}),C?(0,i.jsxs)("div",{className:c().sidebarSection,children:[(0,i.jsx)("div",{className:c().sidebarSectionHeading,children:(0,i.jsx)(m.HStack,{children:(0,i.jsx)("span",{style:{flex:"1"},children:"Get Started"})})}),(0,i.jsx)(Ot,{})]}):null,(0,i.jsxs)("div",{className:c().sidebarSection,children:[(0,i.jsx)("div",{className:c().sidebarSectionHeading,children:"Play"}),(0,i.jsx)(Mt,{icon:"daily-targets",title:"Daily targets",link:"/daily"}),(0,i.jsx)(Mt,{icon:"battle",title:"Battles",link:"/battles",tag:S?"ongoing":null,matchRegex:/\/\/battle\/\S+/}),(0,i.jsx)(Mt,{icon:"versus",title:"Versus",link:"/versus",locked:!(null===T||void 0===T||null===(t=T.userSettings)||void 0===t||null===(n=t.feature)||void 0===n?void 0:n.versus),tag:(null===T||void 0===T||null===(o=T.userSettings)||void 0===o||null===(s=o.feature)||void 0===s?void 0:s.versus)?"beta":null}),(0,i.jsx)(Mt,{icon:"trophy",title:"Leaderboards",link:"/leaderboard",matchRegex:/\/leaderboard\/\S+/}),(0,i.jsx)(Mt,{icon:"learn",title:"Learn CSS",link:"/learn",tag:"new"})]}),T&&b?(0,i.jsxs)("div",{className:c().sidebarSection,children:[(0,i.jsx)("div",{className:c().sidebarSectionHeading,children:"For you"}),(0,i.jsx)(Mt,{icon:"profile",title:"Profile",link:"/player/".concat(T.username||T.uid)}),(0,i.jsx)(Mt,{icon:"stats",title:"Stats",link:"/me"}),(0,i.jsx)(Mt,{icon:"gear",title:"Settings",link:"/settings"})]}):null]}),(0,i.jsx)("div",{className:c().sidebarFooter,children:(0,i.jsxs)(m.VStack,{gap:"1rem",align:"stretch",children:[b?(0,i.jsx)(l(),{href:"/2024-year-wrapped",children:(0,i.jsxs)("a",{className:"new-font button button--cssbattle",style:{textDecoration:"none"},children:["Your 2024 ",(0,i.jsx)("br",{}),"@CSSBattle"]})}):null,b?(0,i.jsx)(_.j,{href:"/plus",fullWidth:!0,children:(0,i.jsxs)(m.HStack,{gap:"0",children:[(0,i.jsx)("span",{children:(null===T||void 0===T?void 0:T.isPro)?"You are ":"Upgrade to "}),(0,i.jsx)(f.Z,{})]})}):null]})})]}),(0,i.jsxs)(Ct,{children:[(0,i.jsx)(Et,{className:"AlertDialogOverlay"}),(0,i.jsx)(St,{className:"AlertDialogContent",children:(0,i.jsx)(xt.s,{children:(0,i.jsxs)(m.VStack,{align:"flex-start",children:[(0,i.jsx)(v.x,{mono:!1,size:3,weight:600,appearance:"primary",children:"Skip onboarding?"}),(0,i.jsx)(v.x,{mono:!1,size:1,weight:500,appearance:"secondary",children:"Are you sure you want to skip the onboarding? You won't be able to see it again."}),(0,i.jsxs)(m.HStack,{gap:"0.75rem",children:[(0,i.jsx)(Tt,{asChild:!0,children:(0,i.jsx)(kt.z,{primary:!0,onClick:function(){E(!1)},children:"Yes, skip it!"})}),(0,i.jsx)(It,{asChild:!0,children:(0,i.jsx)(kt.z,{children:"Cancel"})})]})]})})})]})]})}},7353:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var r=n(2322),i=n(2220),o=n(9097),s=n.n(o),a=function(e){var t=e.fullWidth,n=void 0!==t&&t,o=e.href,a=e.onClick,c=e.children,u=i.z;o&&(u=o.match(/http/)?"a":s());var l="button button--glow ".concat(n?"button--full-width":"");return"a"===u?(0,r.jsxs)("a",{href:o,className:l,children:[c,(0,r.jsx)("span",{className:"button__border"})]}):u===s()?(0,r.jsx)(s(),{href:o,children:(0,r.jsxs)("a",{className:l,children:[c,(0,r.jsx)("span",{className:"button__border"})]})}):(0,r.jsxs)(i.z,{onClick:a,className:l,children:[c,(0,r.jsx)("span",{className:"button__border"})]})}},5416:function(e,t,n){"use strict";n.d(t,{s:function(){return a}});var r=n(2322),i=n(2784),o=n(8033),s=n.n(o),a=(0,i.forwardRef)((function(e,t){var n=e.classes,i=void 0===n?"":n,o=e.padding,a=void 0===o?"2rem":o,c=e.fullWidth,u=void 0!==c&&c,l=e.fullHeight,h=void 0!==l&&l,d=e.glowing,p=void 0!==d&&d,f=e.topFocus,m=void 0!==f&&f,g=e.onlyBorder,v=void 0!==g&&g,y=e.children;return(0,r.jsx)("div",{ref:t,style:{padding:a,width:u?"100%":"auto",height:h?"100%":"auto"},className:"".concat(s().panel," ").concat(i," ").concat(p&&s().panelGlowing," ").concat(m&&s().panelTopFocus," ").concat(v&&s().panelOnlyBorder),children:y})}))},8387:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2322),i=function(e){var t=e.height,n=void 0===t?18:t,i=e.style;return(0,r.jsx)("img",{height:n,width:~~(37*n/18),className:"pro-badge",style:i,src:"/images/pro-badge.svg",alt:"Pro badge"})}},5598:function(e,t,n){"use strict";n.r(t),n.d(t,{HStack:function(){return u},Spacer:function(){return l},Stack:function(){return a},VStack:function(){return c}});var r=n(865),i=n(6670),o=n(2322),s=n(2784),a=(0,s.forwardRef)((function(e,t){var n=e.classes,r=void 0===n?"":n,i=e.gap,s=void 0===i?"1rem":i,a=e.align,c=void 0===a?"center":a,u=e.justify,l=void 0===u?"flex-start":u,h=e.direction,d=void 0===h?"horizontal":h,p=e.reverse,f=void 0!==p&&p,m=e.fullWidth,g=void 0!==m&&m,v=e.fullHeight,y=void 0!==v&&v,_=e.wrap,b=e.children,w="vertical"===d?"column":"row";return f&&(w="column"===w?"column-reverse":"row-reverse"),(0,o.jsx)("div",{ref:t,style:{display:"flex",gap:s,alignItems:c,justifyContent:l,flexDirection:w,height:y?"100%":null,width:g?"100%":null,flexWrap:_?"wrap":null},className:r,children:b})})),c=(0,s.forwardRef)((function(e,t){return(0,o.jsx)(a,(0,i.Z)((0,r.Z)({},e),{direction:"vertical",ref:t}))})),u=(0,s.forwardRef)((function(e,t){return(0,o.jsx)(a,(0,i.Z)((0,r.Z)({classes:"hstack ".concat(e.responsive?"hstack--responsive":"")},e),{ref:t}))})),l=function(){return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{style:{flexGrow:"1"}})})}},7841:function(e,t,n){"use strict";n.d(t,{x:function(){return a}});var r=n(865),i=n(2322),o=n(2784),s={normal:{color:"var(--clr-text)"},primary:{color:"var(--clr-heading)"},secondary:{color:"var(--clr-text-light)"},tertiary:{color:"var(--clr-text-lightest-final)"},subdued:{color:"var(--clr-border)"},brand:{color:"var(--clr-brand)"},success:{color:"var(--clr-green-bright)"},danger:{color:"var(--clr-btn-danger)"}},a=(0,o.forwardRef)((function(e,t){var n=e.size,o=void 0===n?0:n,a=e.weight,c=void 0===a?"normal":a,u=e.tag,l=e.style,h=void 0===l?"normal":l,d=e.appearance,p=void 0===d?"normal":d,f=e.mono,m=void 0===f||f,g=e.letterSpacing,v=void 0===g?0:g,y=e.lineHeight,_=void 0===y?1.4:y,b=e.transform,w=void 0===b?"none":b,C=e.align,E=void 0===C?"left":C,S=e.maxChars,T=void 0===S?null:S,I=e.classes,k=void 0===I?"":I,x=e.children,A=e.wordBreak,D=void 0===A?"initial":A,R=u||"span";v=m?v:v||"0.3px";var M=(0,r.Z)({letterSpacing:v,fontSize:"var(--font-size-".concat(o,")"),fontFamily:m?"IBM Plex Mono":"ClashGrotesk",fontWeight:c,textAlign:E,lineHeight:_,fontStyle:"italic"===h?"italic":"normal",maxWidth:T?"".concat(T,"ch"):void 0,textTransform:w,wordBreak:D},s[p]);return(0,i.jsx)(R,{style:M,className:k,ref:t,children:x})}))},7567:function(e,t,n){"use strict";n.d(t,{OB:function(){return r},P7:function(){return a},U7:function(){return i}});var r=n(3542).env.NEXT_PUBLIC_ENV||"production",i="production"===r?"https://ik.imagekit.io/cssbattle/":"https://ik.imagekit.io/cssbattle/staging/",o=Math.abs(new Date-new Date("2023-06-01")),s=Math.ceil(o/864e5),a=100*Math.floor(s/100)},3552:function(e,t,n){"use strict";n.d(t,{S:function(){return i},k:function(){return o}});var r=n(2784),i=(0,r.createContext)({user:null,setUser:function(){}}),o=(0,r.createContext)({streak:null,battle:null,setBattle:null,level:null,setLevel:null,theme:"dark",setTheme:function(){},room:null,setRoom:null})},4675:function(e,t,n){"use strict";n.d(t,{NX:function(){return u},I8:function(){return l},db:function(){return h},H:function(){return c}});var r=n(5500);(0,r.KN)("firebase","10.0.0","app");var i=n(3947),o=n(8747),s=n(7567),a=(0,r.C6)(),c=a.length?a[0]:(0,r.ZF)("development"===s.OB?{apiKey:"AIzaSyCm7WWpsZ1EycmQR-NBvTMToS1lZ9gfGpw",authDomain:"cssbattle-756.firebaseapp.com",databaseURL:"https://cssbattle-756.firebaseio.com",projectId:"cssbattle-756",storageBucket:"cssbattle-756.appspot.com",messagingSenderId:"423644073145",appId:"1:423644073145:web:71a6e7778358269017df68"}:{apiKey:"AIzaSyCR1oteCf0oGnq0HXymDmcn0jOf7IXUmuo",authDomain:"cssbattleapp.firebaseapp.com",databaseURL:"https://cssbattleapp.firebaseio.com",projectId:"cssbattleapp",storageBucket:"cssbattleapp.appspot.com",messagingSenderId:"924387938820"}),u="development"===s.OB?"cssbattle-756":"cssbattleapp",l=(0,i.v0)(c),h=(0,o.ad)(c);!h._settingsFrozen&&s.OB},9318:function(e,t,n){"use strict";n.d(t,{_:function(){return s}});var r=n(2838),i=n(865),o=n(2784);function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=(0,o.useState)((function(){try{var r=window.localStorage.getItem(e);if(r){var o=JSON.parse(r);return n.merge?(0,i.Z)({},t,o):o}return t}catch(s){return console.log(s),t}})),a=s[0],c=s[1],u=function(t){try{var n=(0,r.Z)(t,Function)?t(a):t;c(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(i){console.log(i)}};return[a,u]}},9288:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var r=n(2784);function i(){var e=(0,r.useState)(""),t=e[0],n=e[1];return(0,r.useEffect)((function(){n(navigator.userAgent.includes("Mac OS X")?"\u2318":"Ctrl")}),[]),t}},1893:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var r=n(2784),i=n(3552);function o(){return(0,r.useContext)(i.S)}},7414:function(e,t,n){"use strict";n.d(t,{P:function(){return i}});var r=n(2784),i=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1];return(0,r.useEffect)((function(){n(!0)}),[]),t}},5473:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return An}});var r=n(8788),i=n(7842),o=n(865),s=n(6670),a=n(6383),c=n(2970),u=n(2322),l=n(2784),h=n.t(l,2),d=n(7729),p=n.n(d),f=n(5632);function m(){(0,l.useEffect)((function(){return function(){}}),[])}var g=n(3552),v=n(2367),y=(n(7007),n(9461),n(7175),n(1552),n(7102),n(7892)),_=n(7037),b=n(7414),w=n(930),C=n(7896);function E(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null===e||void 0===e||e(r),!1===n||!r.defaultPrevented)return null===t||void 0===t?void 0:t(r)}}function S(...e){return t=>e.forEach((e=>function(e,t){"function"===typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}(e,t)))}function T(...e){return(0,l.useCallback)(S(...e),e)}function I(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const r=n.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return(0,l.useMemo)((()=>({[`__scope${t.scopeName}`]:r})),[r])}};return n.scopeName=t.scopeName,n}const k=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?l.useLayoutEffect:()=>{},x=h["useId".toString()]||(()=>{});let A=0;function D(e){const[t,n]=l.useState(x());return k((()=>{e||n((e=>null!==e&&void 0!==e?e:String(A++)))}),[e]),e||(t?`radix-${t}`:"")}function R(e){const t=(0,l.useRef)(e);return(0,l.useEffect)((()=>{t.current=e})),(0,l.useMemo)((()=>(...e)=>{var n;return null===(n=t.current)||void 0===n?void 0:n.call(t,...e)}),[])}function M({prop:e,defaultProp:t,onChange:n=(()=>{})}){const[r,i]=function({defaultProp:e,onChange:t}){const n=(0,l.useState)(e),[r]=n,i=(0,l.useRef)(r),o=R(t);return(0,l.useEffect)((()=>{i.current!==r&&(o(r),i.current=r)}),[r,i,o]),n}({defaultProp:t,onChange:n}),o=void 0!==e,s=o?e:r,a=R(n);return[s,(0,l.useCallback)((t=>{if(o){const n=t,r="function"===typeof t?n(e):t;r!==e&&a(r)}else i(t)}),[o,e,i,a])]}function O(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null===e||void 0===e||e(r),!1===n||!r.defaultPrevented)return null===t||void 0===t?void 0:t(r)}}var L=n(8316);function N(...e){return t=>e.forEach((e=>function(e,t){"function"===typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}(e,t)))}function P(...e){return(0,l.useCallback)(N(...e),e)}const F=(0,l.forwardRef)(((e,t)=>{const{children:n,...r}=e,i=l.Children.toArray(n),o=i.find(U);if(o){const e=o.props.children,n=i.map((t=>t===o?l.Children.count(e)>1?l.Children.only(null):(0,l.isValidElement)(e)?e.props.children:null:t));return(0,l.createElement)(j,(0,C.Z)({},r,{ref:t}),(0,l.isValidElement)(e)?(0,l.cloneElement)(e,void 0,n):null)}return(0,l.createElement)(j,(0,C.Z)({},r,{ref:t}),n)}));F.displayName="Slot";const j=(0,l.forwardRef)(((e,t)=>{const{children:n,...r}=e;return(0,l.isValidElement)(n)?(0,l.cloneElement)(n,{...V(r,n.props),ref:N(t,n.ref)}):l.Children.count(n)>1?l.Children.only(null):null}));j.displayName="SlotClone";const B=({children:e})=>(0,l.createElement)(l.Fragment,null,e);function U(e){return(0,l.isValidElement)(e)&&e.type===B}function V(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?n[r]=(...e)=>{null===o||void 0===o||o(...e),null===i||void 0===i||i(...e)}:"style"===r?n[r]={...i,...o}:"className"===r&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}const H=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const n=(0,l.forwardRef)(((e,n)=>{const{asChild:r,...i}=e,o=r?F:t;return(0,l.useEffect)((()=>{window[Symbol.for("radix-ui")]=!0}),[]),(0,l.createElement)(o,(0,C.Z)({},i,{ref:n}))}));return n.displayName=`Primitive.${t}`,{...e,[t]:n}}),{});const q="dismissableLayer.update",z="dismissableLayer.pointerDownOutside",$="dismissableLayer.focusOutside";let W;const G=(0,l.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Z=(0,l.forwardRef)(((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...c}=e,u=(0,l.useContext)(G),[h,d]=(0,l.useState)(null),[,p]=(0,l.useState)({}),f=P(t,(e=>d(e))),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(g),y=h?m.indexOf(h):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,b=y>=v,w=function(e){const t=R(e),n=(0,l.useRef)(!1),r=(0,l.useRef)((()=>{}));return(0,l.useEffect)((()=>{const e=e=>{if(e.target&&!n.current){const i={originalEvent:e};function o(){J(z,t,i,{discrete:!0})}"touch"===e.pointerType?(document.removeEventListener("click",r.current),r.current=o,document.addEventListener("click",r.current,{once:!0})):o()}n.current=!1},i=window.setTimeout((()=>{document.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(i),document.removeEventListener("pointerdown",e),document.removeEventListener("click",r.current)}}),[t]),{onPointerDownCapture:()=>n.current=!0}}((e=>{const t=e.target,n=[...u.branches].some((e=>e.contains(t)));b&&!n&&(null===i||void 0===i||i(e),null===s||void 0===s||s(e),e.defaultPrevented||null===a||void 0===a||a())})),E=function(e){const t=R(e),n=(0,l.useRef)(!1);return(0,l.useEffect)((()=>{const e=e=>{if(e.target&&!n.current){J($,t,{originalEvent:e},{discrete:!1})}};return document.addEventListener("focusin",e),()=>document.removeEventListener("focusin",e)}),[t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}((e=>{const t=e.target;[...u.branches].some((e=>e.contains(t)))||(null===o||void 0===o||o(e),null===s||void 0===s||s(e),e.defaultPrevented||null===a||void 0===a||a())}));return function(e){const t=R(e);(0,l.useEffect)((()=>{const e=e=>{"Escape"===e.key&&t(e)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[t])}((e=>{y===u.layers.size-1&&(null===r||void 0===r||r(e),!e.defaultPrevented&&a&&(e.preventDefault(),a()))})),(0,l.useEffect)((()=>{if(h)return n&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(W=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),K(),()=>{n&&1===u.layersWithOutsidePointerEventsDisabled.size&&(document.body.style.pointerEvents=W)}}),[h,n,u]),(0,l.useEffect)((()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),K())}),[h,u]),(0,l.useEffect)((()=>{const e=()=>p({});return document.addEventListener(q,e),()=>document.removeEventListener(q,e)}),[]),(0,l.createElement)(H.div,(0,C.Z)({},c,{ref:f,style:{pointerEvents:_?b?"auto":"none":void 0,...e.style},onFocusCapture:O(e.onFocusCapture,E.onFocusCapture),onBlurCapture:O(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:O(e.onPointerDownCapture,w.onPointerDownCapture)}))}));function K(){const e=new CustomEvent(q);document.dispatchEvent(e)}function J(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?function(e,t){e&&(0,L.flushSync)((()=>e.dispatchEvent(t)))}(i,o):i.dispatchEvent(o)}function X(...e){return t=>e.forEach((e=>function(e,t){"function"===typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}(e,t)))}const Y=(0,l.forwardRef)(((e,t)=>{const{children:n,...r}=e,i=l.Children.toArray(n),o=i.find(te);if(o){const e=o.props.children,n=i.map((t=>t===o?l.Children.count(e)>1?l.Children.only(null):(0,l.isValidElement)(e)?e.props.children:null:t));return(0,l.createElement)(Q,(0,C.Z)({},r,{ref:t}),(0,l.isValidElement)(e)?(0,l.cloneElement)(e,void 0,n):null)}return(0,l.createElement)(Q,(0,C.Z)({},r,{ref:t}),n)}));Y.displayName="Slot";const Q=(0,l.forwardRef)(((e,t)=>{const{children:n,...r}=e;return(0,l.isValidElement)(n)?(0,l.cloneElement)(n,{...ne(r,n.props),ref:X(t,n.ref)}):l.Children.count(n)>1?l.Children.only(null):null}));Q.displayName="SlotClone";const ee=({children:e})=>(0,l.createElement)(l.Fragment,null,e);function te(e){return(0,l.isValidElement)(e)&&e.type===ee}function ne(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?n[r]=(...e)=>{null===o||void 0===o||o(...e),null===i||void 0===i||i(...e)}:"style"===r?n[r]={...i,...o}:"className"===r&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}const re=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const n=(0,l.forwardRef)(((e,n)=>{const{asChild:r,...i}=e,o=r?Y:t;return(0,l.useEffect)((()=>{window[Symbol.for("radix-ui")]=!0}),[]),(0,l.createElement)(o,(0,C.Z)({},i,{ref:n}))}));return n.displayName=`Primitive.${t}`,{...e,[t]:n}}),{});const ie="focusScope.autoFocusOnMount",oe="focusScope.autoFocusOnUnmount",se={bubbles:!1,cancelable:!0},ae=(0,l.forwardRef)(((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=e,[a,c]=(0,l.useState)(null),u=R(i),h=R(o),d=(0,l.useRef)(null),p=function(...e){return(0,l.useCallback)(X(...e),e)}(t,(e=>c(e))),f=(0,l.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,l.useEffect)((()=>{if(r){function e(e){if(f.paused||!a)return;const t=e.target;a.contains(t)?d.current=t:he(d.current,{select:!0})}function t(e){!f.paused&&a&&(a.contains(e.relatedTarget)||he(d.current,{select:!0}))}return document.addEventListener("focusin",e),document.addEventListener("focusout",t),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t)}}}),[r,a,f.paused]),(0,l.useEffect)((()=>{if(a){de.add(f);const t=document.activeElement;if(!a.contains(t)){const n=new CustomEvent(ie,se);a.addEventListener(ie,u),a.dispatchEvent(n),n.defaultPrevented||(!function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(he(r,{select:t}),document.activeElement!==n)return}((e=ce(a),e.filter((e=>"A"!==e.tagName))),{select:!0}),document.activeElement===t&&he(a))}return()=>{a.removeEventListener(ie,u),setTimeout((()=>{const e=new CustomEvent(oe,se);a.addEventListener(oe,h),a.dispatchEvent(e),e.defaultPrevented||he(null!==t&&void 0!==t?t:document.body,{select:!0}),a.removeEventListener(oe,h),de.remove(f)}),0)}}var e}),[a,u,h,f]);const m=(0,l.useCallback)((e=>{if(!n&&!r)return;if(f.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){const t=e.currentTarget,[r,o]=function(e){const t=ce(e),n=ue(t,e),r=ue(t.reverse(),e);return[n,r]}(t);r&&o?e.shiftKey||i!==o?e.shiftKey&&i===r&&(e.preventDefault(),n&&he(o,{select:!0})):(e.preventDefault(),n&&he(r,{select:!0})):i===t&&e.preventDefault()}}),[n,r,f.paused]);return(0,l.createElement)(re.div,(0,C.Z)({tabIndex:-1},s,{ref:p,onKeyDown:m}))}));function ce(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ue(e,t){for(const n of e)if(!le(n,{upTo:t}))return n}function le(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function he(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}const de=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null===n||void 0===n||n.pause()),e=pe(e,t),e.unshift(t)},remove(t){var n;e=pe(e,t),null===(n=e[0])||void 0===n||n.resume()}}}();function pe(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}function fe(...e){return t=>e.forEach((e=>function(e,t){"function"===typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}(e,t)))}const me=(0,l.forwardRef)(((e,t)=>{const{children:n,...r}=e,i=l.Children.toArray(n),o=i.find(ye);if(o){const e=o.props.children,n=i.map((t=>t===o?l.Children.count(e)>1?l.Children.only(null):(0,l.isValidElement)(e)?e.props.children:null:t));return(0,l.createElement)(ge,(0,C.Z)({},r,{ref:t}),(0,l.isValidElement)(e)?(0,l.cloneElement)(e,void 0,n):null)}return(0,l.createElement)(ge,(0,C.Z)({},r,{ref:t}),n)}));me.displayName="Slot";const ge=(0,l.forwardRef)(((e,t)=>{const{children:n,...r}=e;return(0,l.isValidElement)(n)?(0,l.cloneElement)(n,{..._e(r,n.props),ref:fe(t,n.ref)}):l.Children.count(n)>1?l.Children.only(null):null}));ge.displayName="SlotClone";const ve=({children:e})=>(0,l.createElement)(l.Fragment,null,e);function ye(e){return(0,l.isValidElement)(e)&&e.type===ve}function _e(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?n[r]=(...e)=>{null===o||void 0===o||o(...e),null===i||void 0===i||i(...e)}:"style"===r?n[r]={...i,...o}:"className"===r&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}const be=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const n=(0,l.forwardRef)(((e,n)=>{const{asChild:r,...i}=e,o=r?me:t;return(0,l.useEffect)((()=>{window[Symbol.for("radix-ui")]=!0}),[]),(0,l.createElement)(o,(0,C.Z)({},i,{ref:n}))}));return n.displayName=`Primitive.${t}`,{...e,[t]:n}}),{});const we=(0,l.forwardRef)(((e,t)=>{var n;const{container:r=(null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body),...i}=e;return r?L.createPortal((0,l.createElement)(be.div,(0,C.Z)({},i,{ref:t})),r):null}));const Ce=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?l.useLayoutEffect:()=>{};const Ee=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=(0,l.useState)(),r=(0,l.useRef)({}),i=(0,l.useRef)(e),o=(0,l.useRef)("none"),s=e?"mounted":"unmounted",[a,c]=function(e,t){return(0,l.useReducer)(((e,n)=>{const r=t[e][n];return null!==r&&void 0!==r?r:e}),e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,l.useEffect)((()=>{const e=Se(r.current);o.current="mounted"===a?e:"none"}),[a]),Ce((()=>{const t=r.current,n=i.current;if(n!==e){const r=o.current,s=Se(t);if(e)c("MOUNT");else if("none"===s||"none"===(null===t||void 0===t?void 0:t.display))c("UNMOUNT");else{const e=r!==s;c(n&&e?"ANIMATION_OUT":"UNMOUNT")}i.current=e}}),[e,c]),Ce((()=>{if(t){const e=e=>{const n=Se(r.current).includes(e.animationName);e.target===t&&n&&(0,L.flushSync)((()=>c("ANIMATION_END")))},n=e=>{e.target===t&&(o.current=Se(r.current))};return t.addEventListener("animationstart",n),t.addEventListener("animationcancel",e),t.addEventListener("animationend",e),()=>{t.removeEventListener("animationstart",n),t.removeEventListener("animationcancel",e),t.removeEventListener("animationend",e)}}c("ANIMATION_END")}),[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:(0,l.useCallback)((e=>{e&&(r.current=getComputedStyle(e)),n(e)}),[])}}(t),i="function"===typeof n?n({present:r.isPresent}):l.Children.only(n),o=function(...e){return(0,l.useCallback)(function(...e){return t=>e.forEach((e=>function(e,t){"function"===typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}(e,t)))}(...e),e)}(r.ref,i.ref);return"function"===typeof n||r.isPresent?(0,l.cloneElement)(i,{ref:o}):null};function Se(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}Ee.displayName="Presence";const Te=(0,l.forwardRef)(((e,t)=>{const{children:n,...r}=e,i=l.Children.toArray(n),o=i.find(xe);if(o){const e=o.props.children,n=i.map((t=>t===o?l.Children.count(e)>1?l.Children.only(null):(0,l.isValidElement)(e)?e.props.children:null:t));return(0,l.createElement)(Ie,(0,C.Z)({},r,{ref:t}),(0,l.isValidElement)(e)?(0,l.cloneElement)(e,void 0,n):null)}return(0,l.createElement)(Ie,(0,C.Z)({},r,{ref:t}),n)}));Te.displayName="Slot";const Ie=(0,l.forwardRef)(((e,t)=>{const{children:n,...r}=e;return(0,l.isValidElement)(n)?(0,l.cloneElement)(n,{...Ae(r,n.props),ref:S(t,n.ref)}):l.Children.count(n)>1?l.Children.only(null):null}));Ie.displayName="SlotClone";const ke=({children:e})=>(0,l.createElement)(l.Fragment,null,e);function xe(e){return(0,l.isValidElement)(e)&&e.type===ke}function Ae(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?n[r]=(...e)=>{null===o||void 0===o||o(...e),null===i||void 0===i||i(...e)}:"style"===r?n[r]={...i,...o}:"className"===r&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}const De=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const n=(0,l.forwardRef)(((e,n)=>{const{asChild:r,...i}=e,o=r?Te:t;return(0,l.useEffect)((()=>{window[Symbol.for("radix-ui")]=!0}),[]),(0,l.createElement)(o,(0,C.Z)({},i,{ref:n}))}));return n.displayName=`Primitive.${t}`,{...e,[t]:n}}),{});let Re=0;function Me(){(0,l.useEffect)((()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:Oe()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:Oe()),Re++,()=>{1===Re&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),Re--}}),[])}function Oe(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Le=n(5346),Ne=n(2442),Pe=(0,n(4597)._)(),Fe=function(){},je=l.forwardRef((function(e,t){var n=l.useRef(null),r=l.useState({onScrollCapture:Fe,onWheelCapture:Fe,onTouchMoveCapture:Fe}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,u=e.className,h=e.removeScrollBar,d=e.enabled,p=e.shards,f=e.sideCar,m=e.noIsolation,g=e.inert,v=e.allowPinchZoom,y=e.as,_=void 0===y?"div":y,b=(0,c.__rest)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=f,C=(0,Ne.q)([n,t]),E=(0,c.__assign)((0,c.__assign)({},b),i);return l.createElement(l.Fragment,null,d&&l.createElement(w,{sideCar:Pe,removeScrollBar:h,shards:p,noIsolation:m,inert:g,setCallbacks:o,allowPinchZoom:!!v,lockRef:n}),s?l.cloneElement(l.Children.only(a),(0,c.__assign)((0,c.__assign)({},E),{ref:C})):l.createElement(_,(0,c.__assign)({},E,{className:u,ref:C}),a))}));je.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},je.classNames={fullWidth:Le.zi,zeroRight:Le.pF};var Be=n(7758),Ue=n(181),Ve=n(3225),He=!1;if("undefined"!==typeof window)try{var qe=Object.defineProperty({},"passive",{get:function(){return He=!0,!0}});window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(Dn){He=!1}var ze=!!He&&{passive:!1},$e=function(e,t){var n=t;do{if("undefined"!==typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),We(e,n)){var r=Ge(e,n);if(r[1]>r[2])return!0}n=n.parentNode}while(n&&n!==document.body);return!1},We=function(e,t){return"v"===e?function(e){var t=window.getComputedStyle(e);return"hidden"!==t.overflowY&&!(t.overflowY===t.overflowX&&"visible"===t.overflowY)}(t):function(e){var t=window.getComputedStyle(e);return"hidden"!==t.overflowX&&!(t.overflowY===t.overflowX&&"visible"===t.overflowX)}(t)},Ge=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},Ze=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ke=function(e){return[e.deltaX,e.deltaY]},Je=function(e){return e&&"current"in e?e.current:e},Xe=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Ye=0,Qe=[];var et=(0,Be.L)(Pe,(function(e){var t=l.useRef([]),n=l.useRef([0,0]),r=l.useRef(),i=l.useState(Ye++)[0],o=l.useState((function(){return(0,Ve.Ws)()}))[0],s=l.useRef(e);l.useEffect((function(){s.current=e}),[e]),l.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=(0,c.__spreadArray)([e.lockRef.current],(e.shards||[]).map(Je),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(i))}))}}}),[e.inert,e.lockRef.current,e.shards]);var a=l.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!s.current.allowPinchZoom;var i,o=Ze(e),a=n.current,c="deltaX"in e?e.deltaX:a[0]-o[0],u="deltaY"in e?e.deltaY:a[1]-o[1],l=e.target,h=Math.abs(c)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===h&&"range"===l.type)return!1;var d=$e(h,l);if(!d)return!0;if(d?i=h:(i="v"===h?"h":"v",d=$e(h,l)),!d)return!1;if(!r.current&&"changedTouches"in e&&(c||u)&&(r.current=i),!i)return!0;var p=r.current||i;return function(e,t,n,r,i){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,c=t.contains(a),u=!1,l=s>0,h=0,d=0;do{var p=Ge(e,a),f=p[0],m=p[1]-p[2]-o*f;(f||m)&&We(e,a)&&(h+=m,d+=f),a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(l&&(i&&0===h||!i&&s>h)||!l&&(i&&0===d||!i&&-s>d))&&(u=!0),u}(p,t,e,"h"===p?c:u,!0)}),[]),u=l.useCallback((function(e){var n=e;if(Qe.length&&Qe[Qe.length-1]===o){var r="deltaY"in n?Ke(n):Ze(n),i=t.current.filter((function(e){return e.name===n.type&&e.target===n.target&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,r)}))[0];if(i&&i.should)n.preventDefault();else if(!i){var c=(s.current.shards||[]).map(Je).filter(Boolean).filter((function(e){return e.contains(n.target)}));(c.length>0?a(n,c[0]):!s.current.noIsolation)&&n.preventDefault()}}}),[]),h=l.useCallback((function(e,n,r,i){var o={name:e,delta:n,target:r,should:i};t.current.push(o),setTimeout((function(){t.current=t.current.filter((function(e){return e!==o}))}),1)}),[]),d=l.useCallback((function(e){n.current=Ze(e),r.current=void 0}),[]),p=l.useCallback((function(t){h(t.type,Ke(t),t.target,a(t,e.lockRef.current))}),[]),f=l.useCallback((function(t){h(t.type,Ze(t),t.target,a(t,e.lockRef.current))}),[]);l.useEffect((function(){return Qe.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",u,ze),document.addEventListener("touchmove",u,ze),document.addEventListener("touchstart",d,ze),function(){Qe=Qe.filter((function(e){return e!==o})),document.removeEventListener("wheel",u,ze),document.removeEventListener("touchmove",u,ze),document.removeEventListener("touchstart",d,ze)}}),[]);var m=e.removeScrollBar,g=e.inert;return l.createElement(l.Fragment,null,g?l.createElement(o,{styles:Xe(i)}):null,m?l.createElement(Ue.jp,{gapMode:"margin"}):null)})),tt=l.forwardRef((function(e,t){return l.createElement(je,(0,c.__assign)({},e,{ref:t,sideCar:et}))}));tt.classNames=je.classNames;var nt=tt,rt=n(9732);const it="Dialog",[ot,st]=function(e,t=[]){let n=[];const r=()=>{const t=n.map((e=>(0,l.createContext)(e)));return function(n){const r=(null===n||void 0===n?void 0:n[e])||t;return(0,l.useMemo)((()=>({[`__scope${e}`]:{...n,[e]:r}})),[n,r])}};return r.scopeName=e,[function(t,r){const i=(0,l.createContext)(r),o=n.length;function s(t){const{scope:n,children:r,...s}=t,a=(null===n||void 0===n?void 0:n[e][o])||i,c=(0,l.useMemo)((()=>s),Object.values(s));return(0,l.createElement)(a.Provider,{value:c},r)}return n=[...n,r],s.displayName=t+"Provider",[s,function(n,s){const a=(null===s||void 0===s?void 0:s[e][o])||i,c=(0,l.useContext)(a);if(c)return c;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},I(r,...t)]}(it),[at,ct]=ot(it),ut=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,a=(0,l.useRef)(null),c=(0,l.useRef)(null),[u=!1,h]=M({prop:r,defaultProp:i,onChange:o});return(0,l.createElement)(at,{scope:t,triggerRef:a,contentRef:c,contentId:D(),titleId:D(),descriptionId:D(),open:u,onOpenChange:h,onOpenToggle:(0,l.useCallback)((()=>h((e=>!e))),[h]),modal:s},n)},lt="DialogPortal",[ht,dt]=ot(lt,{forceMount:void 0}),pt=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=ct(lt,t);return(0,l.createElement)(ht,{scope:t,forceMount:n},l.Children.map(r,(e=>(0,l.createElement)(Ee,{present:n||o.open},(0,l.createElement)(we,{asChild:!0,container:i},e)))))},ft="DialogOverlay",mt=(0,l.forwardRef)(((e,t)=>{const n=dt(ft,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=ct(ft,e.__scopeDialog);return o.modal?(0,l.createElement)(Ee,{present:r||o.open},(0,l.createElement)(gt,(0,C.Z)({},i,{ref:t}))):null})),gt=(0,l.forwardRef)(((e,t)=>{const{__scopeDialog:n,...r}=e,i=ct(ft,n);return(0,l.createElement)(nt,{as:Te,allowPinchZoom:!0,shards:[i.contentRef]},(0,l.createElement)(De.div,(0,C.Z)({"data-state":Et(i.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))})),vt="DialogContent",yt=(0,l.forwardRef)(((e,t)=>{const n=dt(vt,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=ct(vt,e.__scopeDialog);return(0,l.createElement)(Ee,{present:r||o.open},o.modal?(0,l.createElement)(_t,(0,C.Z)({},i,{ref:t})):(0,l.createElement)(bt,(0,C.Z)({},i,{ref:t})))})),_t=(0,l.forwardRef)(((e,t)=>{const n=ct(vt,e.__scopeDialog),r=(0,l.useRef)(null),i=T(t,n.contentRef,r);return(0,l.useEffect)((()=>{const e=r.current;if(e)return(0,rt.Ry)(e)}),[]),(0,l.createElement)(wt,(0,C.Z)({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:E(e.onCloseAutoFocus,(e=>{var t;e.preventDefault(),null===(t=n.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:E(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()})),onFocusOutside:E(e.onFocusOutside,(e=>e.preventDefault()))}))})),bt=(0,l.forwardRef)(((e,t)=>{const n=ct(vt,e.__scopeDialog),r=(0,l.useRef)(!1);return(0,l.createElement)(wt,(0,C.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var i,o;(null===(i=e.onCloseAutoFocus)||void 0===i||i.call(e,t),t.defaultPrevented)||(r.current||null===(o=n.triggerRef.current)||void 0===o||o.focus(),t.preventDefault());r.current=!1},onInteractOutside:t=>{var i,o;null===(i=e.onInteractOutside)||void 0===i||i.call(e,t),t.defaultPrevented||(r.current=!0);const s=t.target;(null===(o=n.triggerRef.current)||void 0===o?void 0:o.contains(s))&&t.preventDefault()}}))})),wt=(0,l.forwardRef)(((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=e,a=ct(vt,n),c=T(t,(0,l.useRef)(null));return Me(),(0,l.createElement)(l.Fragment,null,(0,l.createElement)(ae,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},(0,l.createElement)(Z,(0,C.Z)({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Et(a.open)},s,{ref:c,onDismiss:()=>a.onOpenChange(!1)}))),!1)})),Ct="DialogTitle";function Et(e){return e?"open":"closed"}const St="DialogTitleWarning",[Tt,It]=function(e,t){const n=(0,l.createContext)(t);function r(e){const{children:t,...r}=e,i=(0,l.useMemo)((()=>r),Object.values(r));return(0,l.createElement)(n.Provider,{value:i},t)}return r.displayName=e+"Provider",[r,function(r){const i=(0,l.useContext)(n);if(i)return i;if(void 0!==t)return t;throw new Error(`\`${r}\` must be used within \`${e}\``)}]}(St,{contentName:vt,titleName:Ct,docsSlug:"dialog"}),kt=ut,xt=pt,At=mt,Dt=yt;var Rt=n(844),Mt='[cmdk-group=""]',Ot='[cmdk-group-items=""]',Lt='[cmdk-item=""]',Nt=`${Lt}:not([aria-disabled="true"])`,Pt="cmdk-item-select",Ft="data-value",jt=(e,t)=>Rt(e,t),Bt=l.createContext(void 0),Ut=()=>l.useContext(Bt),Vt=l.createContext(void 0),Ht=()=>l.useContext(Vt),qt=l.createContext(void 0),zt=l.forwardRef(((e,t)=>{let n=l.useRef(null),r=on((()=>({search:"",value:"",filtered:{count:0,items:new Map,groups:new Set}}))),i=on((()=>new Set)),o=on((()=>new Map)),s=on((()=>new Map)),a=on((()=>new Set)),c=nn(e),{label:u,children:h,value:d,onValueChange:p,filter:f,shouldFilter:m,...g}=e,v=l.useId(),y=l.useId(),_=l.useId(),b=un();rn((()=>{if(void 0!==d){let e=d.trim().toLowerCase();r.current.value=e,b(6,k),w.emit()}}),[d]);let w=l.useMemo((()=>({subscribe:e=>(a.current.add(e),()=>a.current.delete(e)),snapshot:()=>r.current,setState:(e,t,n)=>{var i,o,s;if(!Object.is(r.current[e],t)){if(r.current[e]=t,"search"===e)I(),S(),b(1,T);else if("value"===e){if(void 0!==(null==(i=c.current)?void 0:i.value))return void(null==(s=(o=c.current).onValueChange)||s.call(o,t));n||b(5,k)}w.emit()}},emit:()=>{a.current.forEach((e=>e()))}})),[]),C=l.useMemo((()=>({value:(e,t)=>{t!==s.current.get(e)&&(s.current.set(e,t),r.current.filtered.items.set(e,E(t)),b(2,(()=>{S(),w.emit()})))},item:(e,t)=>(i.current.add(e),t&&(o.current.has(t)?o.current.get(t).add(e):o.current.set(t,new Set([e]))),b(3,(()=>{I(),S(),r.current.value||T(),w.emit()})),()=>{s.current.delete(e),i.current.delete(e),r.current.filtered.items.delete(e),b(4,(()=>{I(),T(),w.emit()}))}),group:e=>(o.current.has(e)||o.current.set(e,new Set),()=>{s.current.delete(e),o.current.delete(e)}),filter:()=>c.current.shouldFilter,label:u||e["aria-label"],listId:v,inputId:_,labelId:y})),[]);function E(e){var t;let n=(null==(t=c.current)?void 0:t.filter)??jt;return e?n(e,r.current.search):0}function S(){if(!n.current||!r.current.search||!1===c.current.shouldFilter)return;let e=r.current.filtered.items,t=[];r.current.filtered.groups.forEach((n=>{let r=o.current.get(n),i=0;r.forEach((t=>{let n=e.get(t);i=Math.max(n,i)})),t.push([n,i])}));let i=n.current.querySelector('[cmdk-list-sizer=""]');A().sort(((t,n)=>{let r=t.getAttribute(Ft),i=n.getAttribute(Ft);return(e.get(i)??0)-(e.get(r)??0)})).forEach((e=>{let t=e.closest(Ot);t?t.appendChild(e.parentElement===t?e:e.closest(`${Ot} > *`)):i.appendChild(e.parentElement===i?e:e.closest(`${Ot} > *`))})),t.sort(((e,t)=>t[1]-e[1])).forEach((e=>{let t=n.current.querySelector(`${Mt}[${Ft}="${e[0]}"]`);null==t||t.parentElement.appendChild(t)}))}function T(){let e=A().find((e=>!e.ariaDisabled)),t=null==e?void 0:e.getAttribute(Ft);w.setState("value",t||void 0)}function I(){if(!r.current.search||!1===c.current.shouldFilter)return void(r.current.filtered.count=i.current.size);r.current.filtered.groups=new Set;let e=0;for(let t of i.current){let n=E(s.current.get(t));r.current.filtered.items.set(t,n),n>0&&e++}for(let[t,n]of o.current)for(let e of n)if(r.current.filtered.items.get(e)>0){r.current.filtered.groups.add(t);break}r.current.filtered.count=e}function k(){var e,t,n;let r=x();r&&((null==(e=r.parentElement)?void 0:e.firstChild)===r&&(null==(n=null==(t=r.closest(Mt))?void 0:t.querySelector('[cmdk-group-heading=""]'))||n.scrollIntoView({block:"nearest"})),r.scrollIntoView({block:"nearest"}))}function x(){return n.current.querySelector(`${Lt}[aria-selected="true"]`)}function A(){return Array.from(n.current.querySelectorAll(Nt))}function D(e){let t=A()[e];t&&w.setState("value",t.getAttribute(Ft))}function R(e){var t;let n=x(),r=A(),i=r.findIndex((e=>e===n)),o=r[i+e];null!=(t=c.current)&&t.loop&&(o=i+e<0?r[r.length-1]:i+e===r.length?r[0]:r[i+e]),o&&w.setState("value",o.getAttribute(Ft))}function M(e){let t,n=x(),r=null==n?void 0:n.closest(Mt);for(;r&&!t;)r=e>0?en(r,Mt):tn(r,Mt),t=null==r?void 0:r.querySelector(Nt);t?w.setState("value",t.getAttribute(Ft)):R(e)}let O=()=>D(A().length-1),L=e=>{e.preventDefault(),e.metaKey?O():e.altKey?M(1):R(1)},N=e=>{e.preventDefault(),e.metaKey?D(0):e.altKey?M(-1):R(-1)};return l.createElement("div",{ref:sn([n,t]),...g,"cmdk-root":"",onKeyDown:e=>{var t;if(null==(t=g.onKeyDown)||t.call(g,e),!e.defaultPrevented)switch(e.key){case"n":case"j":e.ctrlKey&&L(e);break;case"ArrowDown":L(e);break;case"p":case"k":e.ctrlKey&&N(e);break;case"ArrowUp":N(e);break;case"Home":e.preventDefault(),D(0);break;case"End":e.preventDefault(),O();break;case"Enter":{e.preventDefault();let t=x();if(t){let e=new Event(Pt);t.dispatchEvent(e)}}}}},l.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:ln},u),l.createElement(Vt.Provider,{value:w},l.createElement(Bt.Provider,{value:C},h)))})),$t=l.forwardRef(((e,t)=>{let n=l.useId(),r=l.useRef(null),i=l.useContext(qt),o=Ut(),s=nn(e);rn((()=>o.item(n,i)),[]);let a=cn(n,r,[e.value,e.children,r]),c=Ht(),u=an((e=>e.value&&e.value===a.current)),h=an((e=>!1===o.filter()||(!e.search||e.filtered.items.get(n)>0)));function d(){var e,t;null==(t=(e=s.current).onSelect)||t.call(e,a.current)}if(l.useEffect((()=>{let t=r.current;if(t&&!e.disabled)return t.addEventListener(Pt,d),()=>t.removeEventListener(Pt,d)}),[h,e.onSelect,e.disabled]),!h)return null;let{disabled:p,value:f,onSelect:m,...g}=e;return l.createElement("div",{ref:sn([r,t]),...g,"cmdk-item":"",role:"option","aria-disabled":p||void 0,"aria-selected":u||void 0,"data-selected":u||void 0,onPointerMove:p?void 0:function(){c.setState("value",a.current,!0)},onClick:p?void 0:d},e.children)})),Wt=l.forwardRef(((e,t)=>{let{heading:n,children:r,...i}=e,o=l.useId(),s=l.useRef(null),a=l.useRef(null),c=l.useId(),u=Ut(),h=an((e=>!1===u.filter()||(!e.search||e.filtered.groups.has(o))));rn((()=>u.group(o)),[]),cn(o,s,[e.value,e.heading,a]);let d=l.createElement(qt.Provider,{value:o},r);return l.createElement("div",{ref:sn([s,t]),...i,"cmdk-group":"",role:"presentation",hidden:!h||void 0},n&&l.createElement("div",{ref:a,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),l.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},d))})),Gt=l.forwardRef(((e,t)=>{let{alwaysRender:n,...r}=e,i=l.useRef(null),o=an((e=>!e.search));return n||o?l.createElement("div",{ref:sn([i,t]),...r,"cmdk-separator":"",role:"separator"}):null})),Zt=l.forwardRef(((e,t)=>{let{onValueChange:n,...r}=e,i=null!=e.value,o=Ht(),s=an((e=>e.search)),a=Ut();return l.useEffect((()=>{null!=e.value&&o.setState("search",e.value)}),[e.value]),l.createElement("input",{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":a.listId,"aria-labelledby":a.labelId,id:a.inputId,type:"text",value:i?e.value:s,onChange:e=>{i||o.setState("search",e.target.value),null==n||n(e.target.value)}})})),Kt=l.forwardRef(((e,t)=>{let{children:n,...r}=e,i=l.useRef(null),o=l.useRef(null),s=Ut();return l.useEffect((()=>{if(o.current&&i.current){let e,t=o.current,n=i.current,r=new ResizeObserver((()=>{e=requestAnimationFrame((()=>{let e=t.getBoundingClientRect().height;n.style.setProperty("--cmdk-list-height",e.toFixed(1)+"px")}))}));return r.observe(t),()=>{cancelAnimationFrame(e),r.unobserve(t)}}}),[]),l.createElement("div",{ref:sn([i,t]),...r,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:s.listId,"aria-labelledby":s.inputId},l.createElement("div",{ref:o,"cmdk-list-sizer":""},n))})),Jt=l.forwardRef(((e,t)=>{let{open:n,onOpenChange:r,container:i,...o}=e;return l.createElement(kt,{open:n,onOpenChange:r},l.createElement(xt,{container:i},l.createElement(At,{"cmdk-overlay":""}),l.createElement(Dt,{"aria-label":e.label,"cmdk-dialog":""},l.createElement(zt,{ref:t,...o}))))})),Xt=l.forwardRef(((e,t)=>{let n=l.useRef(!0),r=an((e=>0===e.filtered.count));return l.useEffect((()=>{n.current=!1}),[]),n.current||!r?null:l.createElement("div",{ref:t,...e,"cmdk-empty":"",role:"presentation"})})),Yt=l.forwardRef(((e,t)=>{let{progress:n,children:r,...i}=e;return l.createElement("div",{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},l.createElement("div",{"aria-hidden":!0},r))})),Qt=Object.assign(zt,{List:Kt,Item:$t,Input:Zt,Group:Wt,Separator:Gt,Dialog:Jt,Empty:Xt,Loading:Yt});function en(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function tn(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function nn(e){let t=l.useRef(e);return rn((()=>{t.current=e})),t}var rn=typeof window>"u"?l.useEffect:l.useLayoutEffect;function on(e){let t=l.useRef();return void 0===t.current&&(t.current=e()),t}function sn(e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}function an(e){let t=Ht(),n=()=>e(t.snapshot());return l.useSyncExternalStore(t.subscribe,n,n)}function cn(e,t,n){let r=l.useRef(),i=Ut();return rn((()=>{var o;let s=(()=>{var e;for(let t of n){if("string"==typeof t)return t.trim().toLowerCase();if("object"==typeof t&&"current"in t&&t.current)return null==(e=t.current.textContent)?void 0:e.trim().toLowerCase()}})();i.value(e,s),null==(o=t.current)||o.setAttribute(Ft,s),r.current=s})),r}var un=()=>{let[e,t]=l.useState(),n=on((()=>new Map));return rn((()=>{n.current.forEach((e=>e())),n.current=new Map}),[e]),(e,r)=>{n.current.set(e,r),t({})}},ln={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},hn=n(1893),dn=n(8329),pn=n(9604),fn=n(8396),mn=n.n(fn),gn=n(8688),vn=n.n(gn),yn=n(7500);function _n(e){var t=e.isOpen,n=e.onOpenChange,r=e.onRequestClose,i=function(e){v.push(e),p(""),r()},o=function(e){window.open(e,"_blank"),p(""),r()},s=(0,l.useState)([]),a=s[0],c=s[1],h=(0,l.useState)(""),d=h[0],p=h[1],m=a[a.length-1],g=(0,hn.a)(),v=(0,f.useRouter)();return(0,l.useEffect)((function(){t||(p(""),c([]))}),[t]),(0,u.jsxs)(Qt.Dialog,{className:mn().dialog,open:t,onOpenChange:n,label:"Command Menu",onKeyDown:function(e){"Escape"===e.key&&a.length&&(e.preventDefault(),c((function(e){return e.slice(0,-1)})),p(""))},children:[(0,u.jsx)(Qt.Input,{value:d,onValueChange:p,placeholder:"Search anything here..."}),(0,u.jsxs)(Qt.List,{children:[(0,u.jsx)(Qt.Empty,{children:"No results found."}),!m&&(0,u.jsxs)(u.Fragment,{children:[g&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Qt.Item,{onSelect:function(){i("/me")},children:"My analytics"}),(0,u.jsx)(Qt.Separator,{})]}),(0,u.jsxs)(Qt.Group,{heading:"Help",children:[(0,u.jsx)(Qt.Item,{onSelect:function(){return i("/tips")},children:"Tips & Tricks"}),(0,u.jsx)(Qt.Item,{onSelect:function(){return i("/learn")},children:"Learn CSS"}),(0,u.jsx)(Qt.Item,{onSelect:function(){return i("/faqs")},children:"FAQs"})]}),(0,u.jsx)(Qt.Separator,{}),(0,u.jsx)(Qt.Item,{onSelect:function(){i("/daily")},children:"Daily targets"}),(0,u.jsx)(Qt.Item,{onSelect:function(){i("/leaderboard")},children:"Leaderboard"}),(0,u.jsx)(Qt.Item,{onSelect:function(){var e=vn()[Math.floor(Math.random()*vn().length)];i("/play/".concat(e.id))},children:"I am feeling lucky \ud83c\udfaf"}),!(null===g||void 0===g?void 0:g.isPro)&&(0,u.jsxs)(Qt.Item,{onSelect:function(){return i("/plus")},children:["Upgrade to ",(0,u.jsx)(dn.Z,{style:{marginLeft:"0.5rem"}})]}),g&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Qt.Item,{onSelect:function(){return i("/settings")},children:"Settings"}),(0,u.jsx)(Qt.Item,{onSelect:function(){return i("/player/".concat(g.username||g.uid))},children:"My profile"})]}),(0,u.jsx)(Qt.Item,{onSelect:function(){return i("/")},children:"Home"}),(0,u.jsx)(Qt.Item,{onSelect:function(){return i("/blog")},children:"Blog"}),(0,u.jsx)(Qt.Separator,{}),(0,u.jsxs)(Qt.Group,{heading:"Community",children:[(0,u.jsx)(Qt.Item,{onSelect:function(){o("https://community.cssbattle.dev")},children:"Community"}),(0,u.jsxs)(Qt.Item,{onSelect:function(){o("https://discord.gg/rvqvbcFM86")},children:["Join on Discord ",(0,u.jsx)(pn.J,{name:"discord",size:"18"})]})]}),(0,u.jsx)(Qt.Separator,{}),(0,u.jsx)(Qt.Item,{onSelect:function(){c((0,w.Z)(a).concat(["targets"])),p("")},children:"Play target \u25b6"}),(0,u.jsx)(Qt.Item,{onSelect:function(){c((0,w.Z)(a).concat(["battles"])),p("")},children:"Battles \u25b6"}),(0,u.jsx)(Qt.Separator,{}),(0,u.jsx)(Qt.Item,{onSelect:function(){o("https://github.com/cssbattle/forum/issues")},children:"Report a bug"}),(0,u.jsx)(Qt.Item,{onSelect:function(){return i("/changelog")},children:"Changelog"}),d?vn().map((function(e){return(0,u.jsxs)(Qt.Item,{onSelect:function(){i("/play/".concat(e.id)),c([])},children:["Play target #",e.id," - ",e.name]},e.id)})):null,d?yn.battles.map((function(e){return(0,u.jsxs)(Qt.Item,{onSelect:function(){i("/battle/".concat(e.id)),c([])},children:["Battle #",e.id," - ",e.name]},e.id)})):null]}),"targets"===m&&(0,u.jsx)(Qt.Group,{heading:"Play target \u25bc",children:vn().map((function(e){return(0,u.jsxs)(Qt.Item,{onSelect:function(){i("/play/".concat(e.id)),c([])},children:["Play target #",e.id," - ",e.name]},e.id)}))}),"battles"===m&&(0,u.jsx)(Qt.Group,{heading:"Battles \u25bc",children:yn.battles.map((function(e){return(0,u.jsxs)(Qt.Item,{onSelect:function(){i("/battle/".concat(e.id)),c([])},children:["Battle #",e.id," - ",e.name]},e.id)}))})]})]})}var bn=n(3290),wn=n(6399),Cn=n(4675),En=n(3947),Sn=n(8996),Tn=window.localStorage.getItem("lastUser");try{var In,kn=JSON.parse(Tn);if(kn&&"light"===(null===kn||void 0===kn||null===(In=kn.settings)||void 0===In?void 0:In.theme)){var xn=document.createElement("link");xn.href="/light-theme.css",xn.rel="stylesheet",xn.id="lightThemeLink",document.head.append(xn)}}catch(Rn){}var An=function(e){var t=e.Component,n=e.pageProps,h=(0,f.useRouter)(),d=(0,l.useState)((function(){var e=window.localStorage.getItem("lastUser"),t=JSON.parse(e);return t&&(t.gameMode=!!window.localStorage.getItem("gamemode")),e?t:null})),w=d[0],C=d[1],E=(0,l.useState)(!1),S=E[0],T=E[1],I=(0,b.P)();(0,l.useEffect)((function(){console.log("\n _______  _______  _______  _______  _______  _______  _______  ___      _______ \n|       ||       ||       ||  _    ||   _   ||       ||       ||   |    |       |\n|       ||  _____||  _____|| |_|   ||  |_|  ||_     _||_     _||   |    |    ___|\n|       || |_____ | |_____ |       ||       |  |   |    |   |  |   |    |   |___ \n|      _||_____  ||_____  ||  _   | |       |  |   |    |   |  |   |___ |    ___|\n|     |_  _____| | _____| || |_|   ||   _   |  |   |    |   |  |       ||   |___ \n|_______||_______||_______||_______||__| |__|  |___|    |___|  |_______||_______|\n"),console.log("{\u2694\ufe0f} Join our community forum -> https://community.cssbattle.dev")}),[]),m(),(0,l.useEffect)((function(){if(window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)},gtag("js",new Date),!location.href.match(/localhost/)){var e=document.createElement("script");e.src="https://www.googletagmanager.com/gtag/js?id=G-3TQQFVS3DE",e.async=!0,document.body.appendChild(e)}gtag("config","G-3TQQFVS3DE"),gtag("config","AW-862376687")}),[]),(0,l.useEffect)((function(){(0,En.Aj)(Cn.I8,function(){var e=(0,r.Z)((function(e){var t,n,r,u;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return(0,v.qu)("auth change",w,e),e?(Sn.Z.identify(e.uid),t={uid:e.uid,photoURL:e.photoURL},["isPro","displayName","settings","gameMode","userSettings"].forEach((function(e){w&&void 0!==w[e]&&(t[e]=w[e])})),t.firebaseUser=e,C(t),[4,Promise.all([(0,_.nS)(e.uid),(0,_.$Y)(e.uid,!0)])]):[3,2];case 1:return n=a.Z.apply(void 0,[c.sent(),2]),r=n[0],u=n[1],Sn.Z.people.set({pro:null===u||void 0===u?void 0:u.isPro}),t=(0,s.Z)((0,o.Z)((0,s.Z)((0,o.Z)({},t),{isPro:!1}),u),{userSettings:r}),(0,v.xX)(t),C(t),[{lsKey:"pendingEmailSubscription",dbKey:"settings.emailNotifications"},{lsKey:"pendingNewsletterEmailSubscription",dbKey:"settings.newsletterMailNotifications"}].forEach((function(e){var n=e.lsKey,r=e.dbKey;window.localStorage.getItem(n)&&((0,_.Ii)(t.uid,(0,i.Z)({},r,!0)),window.localStorage.removeItem(n))})),[3,3];case 2:window.localStorage.removeItem("lastUser"),C(null),c.label=3;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}())}),[]),(0,l.useEffect)((function(){var e=function(e){(e.metaKey||e.ctrlKey)&&"k"===e.key&&(T((function(e){return e||(0,bn.q)({name:"commandPaletteOpen"}),!e})),e.preventDefault())};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[]);var k=(0,l.useState)(null),x=k[0],A=k[1],D=(0,l.useState)(null),R=D[0],M=D[1],O=(0,l.useState)(null),L=O[0],N=O[1],P=(0,l.useState)(),F=P[0],j=P[1],B=(0,l.useState)(null),U=B[0],V=B[1];return(0,l.useEffect)((function(){if(!U)return function(){};if("light"===U&&!document.querySelector("#lightThemeLink")){var e=document.createElement("link");e.href="/light-theme.css",e.rel="stylesheet",e.id="lightThemeLink",document.head.append(e)}"dark"===U&&document.querySelector("#lightThemeLink")&&document.querySelector("#lightThemeLink").remove()}),[U]),(0,l.useEffect)((function(){var e;V(null===w||void 0===w||null===(e=w.settings)||void 0===e?void 0:e.theme)}),[w]),(0,l.useEffect)((function(){if(!(null===w||void 0===w?void 0:w.uid))return function(){};(0,_.mw)(w.uid,(function(e){var t,n=new Date,r=(null===e||void 0===e?void 0:e.lastPlayed)&&(null===e||void 0===e?void 0:e.lastPlayed.toDate()),i=r&&r.getDate()===n.getDate()&&r.getMonth()===n.getMonth()&&r.getFullYear()===n.getFullYear();j({count:(null===e||void 0===e||null===(t=e.streak)||void 0===t?void 0:t.count)||0,hasPlayedToday:i})}))}),[null===w||void 0===w?void 0:w.uid]),(0,l.useEffect)((function(){var e=function(){Sn.Z.track_pageview()};return Sn.Z.init("cad0db1bfcfef8c55ffed0dc8dc00425",{debug:!0,track_pageview:!0,persistence:"localStorage"}),h.events.on("routeChangeComplete",e),function(){h.events.off("routeChangeComplete",e)}}),[]),(0,l.useEffect)((function(){var e,t;e=window,t="rewardful",e._rwq=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)};var n=document.createElement("script");n.src="https://r.wdfl.co/rw.js",n.async=!0,n.dataset.rewardful="c4b788",document.head.appendChild(n)}),[]),(0,u.jsxs)(g.S.Provider,{value:w,children:[(0,u.jsxs)(p(),{children:[(0,u.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"}),(0,u.jsx)("meta",{property:"og:url",content:"https://cssbattle.dev"},"url"),(0,u.jsx)("meta",{property:"og:image",content:"https://cssbattle.dev/images/banner2.png"},"banner"),(0,u.jsx)("meta",{property:"og:title",content:"CSSBattle"},"ogTitle"),(0,u.jsx)("title",{children:"CSSBattle"},"title"),(0,u.jsx)("meta",{property:"og:description",content:"The funnest CSS game for web designers & developers"},"desc"),(0,u.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,u.jsx)("link",{rel:"shortcut icon",href:"/images/logo-square.png"}),(0,u.jsx)("style",{id:"critical-css",type:I?"ruby":void 0,children:"/* CRITICAL CSS */\n          body {\n            background-color: #171d23;\n          }\n\n          body:after {\n            font-size: 1.5rem;\n            text-align: center;\n            font-family: 'IBM Plex Mono', 'Menlo', 'DejaVu Sans Mono',\n              'Lucida Console', monospace;\n            color: #cbd1e1;\n            display: block;\n            content: 'Hang on! The battleground is getting setup...';\n            width: 400px;\n            position: fixed;\n            top: 40vh;\n            left: calc(50vw - 200px);\n            opacity: 0;\n            animation: 0.3s show ease forwards;\n            animation-delay: 1s;\n          }\n\n          @keyframes show {\n            to {\n              opacity: 1;\n            }\n          }"})]}),(0,u.jsx)(g.k.Provider,{value:{streak:F,battle:x,setBattle:A,level:R,setLevel:M,theme:U,setTheme:V,room:L,setRoom:N},children:(0,u.jsx)(wn.T,{children:function(){h.asPath;return!0}()&&(0,u.jsx)(t,(0,o.Z)({},n))})}),I&&(0,u.jsx)(_n,{isOpen:S,onOpenChange:T,onRequestClose:function(){T(!1)}}),(0,u.jsx)(y.Ix,{position:"bottom-right",autoClose:3500,theme:"dark",transition:y.Mi}),(0,u.jsx)("div",{id:"portal-root"})]})}},3590:function(e,t,n){"use strict";n.d(t,{C:function(){return o},Q:function(){return s}});var r,i=n(7842),o={CUSTOM_BATTLE_MINI:"customBattleMini",CUSTOM_BATTLE_SMALL:"customBattleSmall",LEARN_BASIC:"learnBasic",LEARN_INTERMEDIATE:"learnIntermediate",CREDITS:"credits"},s=(r={},(0,i.Z)(r,o.CUSTOM_BATTLE_MINI,{vendorId:"578130",label:"Small",maxDuration:1440,price:"$199"}),(0,i.Z)(r,o.CUSTOM_BATTLE_SMALL,{vendorId:"578132",label:"Large",maxDuration:10080,price:"$399"}),(0,i.Z)(r,o.LEARN_BASIC,{vendorId:"781594",dodoProductId:"pdt_Ea7UzhImcNRmgeItD6Lpu",dbId:"basic",label:"Basic",price:"$13"}),(0,i.Z)(r,o.LEARN_INTERMEDIATE,{vendorId:"868760",dodoProductId:"pdt_7zFsXW3VSrG3It5jkgz3K",dbId:"intermediate",label:"Intermediate",price:"$100"}),(0,i.Z)(r,o.CREDITS,{vendorId:"895852",dbId:"credits",label:"Credits",price:"$3"}),r)},7037:function(e,t,n){"use strict";n.d(t,{$Y:function(){return ae},A9:function(){return Oe},AH:function(){return ie},C7:function(){return Te},CU:function(){return wt},D2:function(){return zt},DI:function(){return Ct},DO:function(){return _t},Dl:function(){return rn},FC:function(){return tt},GF:function(){return cn},GT:function(){return ke},Gu:function(){return sn},HC:function(){return Z},Hr:function(){return Sn},Ii:function(){return qe},JY:function(){return ln},Ko:function(){return C},O3:function(){return Xt},Oz:function(){return Nt},Pu:function(){return Ee},QC:function(){return qt},Qz:function(){return lt},R5:function(){return Gt},R6:function(){return me},Sv:function(){return ze},T8:function(){return We},TU:function(){return dt},TZ:function(){return ee},Ty:function(){return le},UZ:function(){return ve},V6:function(){return it},V_:function(){return tn},Vj:function(){return Qt},W:function(){return Je},Ws:function(){return ct},X2:function(){return ne},XU:function(){return Y},Xu:function(){return xt},Z6:function(){return Ye},a8:function(){return Dt},aP:function(){return fn},aY:function(){return jt},bQ:function(){return he},bh:function(){return Bt},bl:function(){return w},c_:function(){return It},ch:function(){return st},d:function(){return Ae},dT:function(){return gt},eL:function(){return we},en:function(){return Et},g5:function(){return St},hC:function(){return Ze},id:function(){return Cn},j7:function(){return Wt},jm:function(){return gn},kN:function(){return on},kP:function(){return Ne},mw:function(){return Vt},nR:function(){return yt},nS:function(){return bn},nb:function(){return $t},oE:function(){return nt},p1:function(){return dn},pc:function(){return He},pn:function(){return ft},q0:function(){return In},qW:function(){return et},r8:function(){return Ue},rz:function(){return Lt},sk:function(){return Re},uL:function(){return _e},uf:function(){return pe},uz:function(){return Kt},wB:function(){return yn},wd:function(){return je}});var r=n(8788),i=n(7842),o=n(2838),s=n(865),a=n(6670),c=n(6383),u=n(930),l=n(2970),h=n(2367),d=n(7500),p=n(3316),f=n(8688),m=n.n(f),g=n(8747),v=n(1540),y=n(4675),_=n(3542),b={},w="development"===(_.env.NEXT_PUBLIC_ENV||"production")?"https://us-central1-cssbattle-756.cloudfunctions.net":"https://cssbattle.dev/api",C="/api",E="battles",S="battleScores",T="targetScores",I="purchases",k="subscriptions",x="events",A="submissions",D="following",R="players",M="scores",O="levels",L="editorPlugins",N="course",P="topSubmissions",F="targetStats",j="streaks",B="versus",U="settings";function V(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,g.IO)((0,g.hJ)(y.db,T),(0,g.ar)("levelId","==",e),(0,g.Xo)(t?"score":"overall.score","desc"),(0,g.Xo)(t?"lastUpdated":"overall.lastUpdated"))}function H(e){if(b[e])return{exists:function(){return!0},id:e,data:function(){return b[e]}}}function q(e){var t=[];return e.forEach((function(e){t.push((0,s.Z)({id:e.id},e.data())),b[e.id]=e.data()})),t.length,t}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.withoutId,r=void 0!==n&&n,i=t.useCache,o=void 0!==i&&i,a=o&&H(e.id);return(a?Promise.resolve(a):(0,g.QT)(e)).then((function(e){return e.exists()?r?e.data():(0,s.Z)({id:e.id},e.data()):null}))}function $(e){return(0,g.PL)(e).then(q)}function W(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.sort((function(e,n){return t?e.score===n.score?e.lastUpdated-n.lastUpdated:n.score-e.score:(null===(r=e.overall)||void 0===r?void 0:r.score)===(null===(i=n.overall)||void 0===i?void 0:i.score)?(null===(o=e.overall)||void 0===o?void 0:o.lastUpdated)-(null===(s=n.overall)||void 0===s?void 0:s.lastUpdated):((null===(a=n.overall)||void 0===a?void 0:a.score)||0)-((null===(c=e.overall)||void 0===c?void 0:c.score)||0);var r,i,o,s,a,c}))}function G(e){return(0,g.QT)((0,g.JU)(y.db,"".concat(M,"/").concat(e))).then((function(e){return e.exists()?e.data():void 0})).catch((function(){}))}function Z(e){return K.apply(this,arguments)}function K(){return(K=(0,r.Z)((function(e){var t,n;function r(e){return $((0,g.IO)((0,g.hJ)(y.db,T),(0,g.ar)("levelId","==",e),(0,g.ar)("userId","==",t))).then((function(e){return e[0]}))}return(0,l.__generator)(this,(function(i){return t=e.userId,n=e.levelIds,[2,Promise.all(n.filter(Boolean).map(r)).then((function(e){return e.filter(Boolean).reduce((function(e,t){return e[t.levelId]=t,e}),{})}))]}))}))).apply(this,arguments)}function J(e){return $((0,g.IO)((0,g.hJ)(y.db,D),(0,g.ar)("followerId","==",e))).then((function(e){return e.map((function(e){return e.followedId}))}))}function X(e,t){var n=t.split("."),r=e.map((function(e){return 1===n.length?e[t]:e[n[0]][n[1]]}));return Promise.all(r.map(ue)).then((function(t){e.forEach((function(e,n){e.playerProfile=t[n]}))}))}function Y(e){return Q.apply(this,arguments)}function Q(){return(Q=(0,r.Z)((function(e){var t,n,r,i;return(0,l.__generator)(this,(function(o){return t=e.userId,n=e.levelId,r=e.count,i=(0,g.IO)((0,g.hJ)(y.db,A),(0,g.ar)("userId","==",t),(0,g.ar)("levelId","==",n),(0,g.Xo)("timestamp","desc")),r&&(i=(0,g.IO)(i,(0,g.b9)(r))),[2,$(i).catch((function(e){return console.log("Error getting document:",e),0}))]}))}))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(t){return[2,z((0,g.JU)(y.db,"".concat(A,"/").concat(e)))]}))}))).apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return re=(0,r.Z)((function(e){var t,n;function i(){return(i=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(t){return[2,z((0,g.JU)(y.db,"".concat(A,"/").concat(e)))]}))}))).apply(this,arguments)}return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return[4,me({levelId:e})];case 1:return t=r.sent(),[4,Promise.all(t.map((function(e){return function(e){return i.apply(this,arguments)}(e.submissionId)})))];case 2:return n=r.sent(),[2,t.map((function(e,t){return(0,s.Z)({},n[t],e)}))]}}))})),re.apply(this,arguments)}function ie(e){return oe.apply(this,arguments)}function oe(){return(oe=(0,r.Z)((function(e){var t;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return[4,z((0,g.JU)(y.db,"".concat(P,"/").concat(e)))];case 1:return(t=n.sent())?[4,X(t.submissions,"userId")]:[3,3];case 2:return n.sent(),[2,t.submissions];case 3:return[2,[]]}}))}))).apply(this,arguments)}function se(e){var t=new Map;return(0,r.Z)((function(){var n,r,i,o,s,a=arguments;return(0,l.__generator)(this,(function(c){for(n=a.length,r=new Array(n),i=0;i<n;i++)r[i]=a[i];return o=JSON.stringify(r),t.has(o)?[2,t.get(o)]:(s=e.apply(void 0,(0,u.Z)(r)),t.set(o,s),[2,s])}))}))}function ae(e,t){return ce.apply(this,arguments)}function ce(){return(ce=(0,r.Z)((function(e,t){return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return window.location.href.match(/localhost/)||t?[2,z((0,g.JU)(y.db,R,e)).then((function(e){return e&&(e=(0,a.Z)((0,s.Z)({},e),{displayName:e.displayName||"User"})),e}))]:[3,1];case 1:return[4,fetch("".concat(C,"/playerProfile?userId=").concat(e))];case 2:return[4,n.sent().json()];case 3:return[2,n.sent()];case 4:return[2]}}))}))).apply(this,arguments)}var ue=se(ae);function le(e){return $((0,g.IO)((0,g.hJ)(y.db,R),(0,g.ar)("username","==",e))).then((function(e){if(e.length)return(0,a.Z)((0,s.Z)({id:e[0].id},e[0]),{displayName:e[0].displayName||"User"})}))}function he(){return de.apply(this,arguments)}function de(){return de=(0,r.Z)((function(){var e,t,n=arguments;return(0,l.__generator)(this,(function(i){return e=n.length>0&&void 0!==n[0]?n[0]:10,t=(0,g.IO)((0,g.hJ)(y.db,M),(0,g.Xo)("score","desc"),(0,g.Xo)("lastUpdated"),(0,g.b9)(e)),[2,(0,g.PL)(t).then(function(){var e=(0,r.Z)((function(e){var t;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return(t=q(e)).length?[4,X(t,"id")]:[2,[]];case 1:return n.sent(),[2,t.map((function(e,t){return(0,a.Z)((0,s.Z)({},e),{rank:t+1,playedCount:Object.keys(e.levels).length})}))]}}))}));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log("Error getting document:",e),0}))]}))})),de.apply(this,arguments)}function pe(e){return fe.apply(this,arguments)}function fe(){return(fe=(0,r.Z)((function(e){var t,n,r;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return[4,J(t=e.userId)];case 1:return(n=i.sent()).length?(n.push(t),r=n.map((function(e){return Promise.all([ae(e),G(e)])})),[2,Promise.all(r).then((function(e){return e=e.map((function(e,t){var n=(0,c.Z)(e,2),r=n[0],i=n[1];return(0,a.Z)((0,s.Z)({},i),{id:r.id,playedCount:i?Object.keys(i.levels).length:0,playerProfile:r})})),W(e)}))]):[2,[]]}}))}))).apply(this,arguments)}function me(e){return ge.apply(this,arguments)}function ge(){return ge=(0,r.Z)((function(e){var t,n,i,o,c;return(0,l.__generator)(this,(function(u){return t=e.levelId,n=e.numberOfPlayers,i=void 0===n?10:n,o=e.isCSSLeaderboard,c=void 0===o||o,[2,$((0,g.IO)(V(t,c),(0,g.b9)(i))).then(function(){var e=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return e.length?[4,X(e,"userId")]:[2,[]];case 1:return t.sent(),[2,e.map((function(e,t){return(0,a.Z)((0,s.Z)({},e),{rank:t+1})}))]}}))}));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log("Error getting document:",e),0}))]}))})),ge.apply(this,arguments)}function ve(e){return ye.apply(this,arguments)}function ye(){return(ye=(0,r.Z)((function(e){var t,n,r,i,o,u;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return t=e.userId,n=e.levelId,r=e.isCSSLeaderboard,i=void 0===r||r,[4,J(t)];case 1:return(o=l.sent()).length?(o.push(t),u=o.map((function(e){return Promise.all([ae(e),Oe({playerId:e,levelId:n}).then((function(e){return e||{score:0}}))])})),[2,Promise.all(u).then((function(e){return e=e.map((function(e,t){var n=(0,c.Z)(e,2),r=n[0],i=n[1];return(0,a.Z)((0,s.Z)({},i),{id:r.id,playerProfile:r})})),W(e,i)}))]):[2,[]]}}))}))).apply(this,arguments)}function _e(e){return be.apply(this,arguments)}function be(){return be=(0,r.Z)((function(e){var t,n,i,o,u,p,f;return(0,l.__generator)(this,(function(m){return t=e.battleId,n=e.numberOfPlayers,i=void 0===n?10:n,o=e.isCSSLeaderboard,u=void 0===o||o,p=e.includePlayedCount,f=void 0===p||p,[2,$((0,g.IO)((0,g.hJ)(y.db,S),(0,g.ar)("battleId","==",t),(0,g.Xo)(u?"score":"overall.score","desc"),(0,g.Xo)(u?"lastUpdated":"overall.lastUpdated"),(0,g.b9)(i))).then(function(){var e=(0,r.Z)((function(e){var n,r;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return e.length?[4,st(t)]:[2,[]];case 1:return n=i.sent(),r=e.map((function(e){return Promise.all([ue(e.userId),f?Z({userId:e.userId,levelIds:n.levelIds}):Promise.resolve({})])})),[2,Promise.all(r).then((function(t){return t.map((function(t,r){var i,o=(0,c.Z)(t,2),u=o[0],l=o[1];return(0,a.Z)((0,s.Z)({},e[r]),{timeTaken:(0,h.Xg)(n,e[r].lastUpdated),id:e[r].userId,rank:r+1,playedCount:n.gameMode===d.BattleGameModes.FIRST_TO_MATCH?((null===(i=e[r])||void 0===i?void 0:i.score)||0)/600:n.levelIds.filter((function(e){var t;return null===(t=l[e])||void 0===t?void 0:t.score})).length,playerProfile:u})}))}))]}}))}));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log("Error getting document:",e),[]}))]}))})),be.apply(this,arguments)}function we(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,r.Z)((function(e){var t,n,r,i,o,u,d;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return t=e.userId,n=e.battleId,r=e.isCSSLeaderboard,i=void 0===r||r,[4,st(n)];case 1:return o=l.sent(),[4,J(t)];case 2:return(u=l.sent()).length?(u.push(t),d=u.map((function(e){return Promise.all([ae(e),G(e),(0,g.PL)((0,g.IO)((0,g.hJ)(y.db,S),(0,g.ar)("userId","==",e),(0,g.ar)("battleId","==",n))).then((function(e){return q(e)[0]||{score:0}}))])})),[2,Promise.all(d).then((function(e){return e=e.map((function(e,t){var n=(0,c.Z)(e,3),r=n[0],i=n[1],u=n[2];return(0,a.Z)((0,s.Z)({},u),{id:r.id,timeTaken:u.score?(0,h.Xg)(o,u.lastUpdated):0,playedCount:o.levelIds.filter((function(e){return i.levels[e]})).length,playerProfile:r})})),W(e,i)}))]):[2,[]]}}))}))).apply(this,arguments)}function Ee(e){return Se.apply(this,arguments)}function Se(){return Se=(0,r.Z)((function(e){var t,n,i,o,c;return(0,l.__generator)(this,(function(u){return t=e.useAllTimeStreak,n=void 0!==t&&t,i=e.count,o=void 0===i?10:i,c=n?"longestStreak":"streak.count",[2,$((0,g.IO)((0,g.hJ)(y.db,j),(0,g.ar)(c,">",0),(0,g.Xo)(c,"desc"),(0,g.b9)(o))).then(function(){var e=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return e.length?[4,X(e,"id")]:[2,[]];case 1:return t.sent(),[2,e.map((function(e,t){return(0,a.Z)((0,s.Z)({},e),{rank:t+1})}))]}}))}));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log("Error getting document:",e),0}))]}))})),Se.apply(this,arguments)}function Te(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,r.Z)((function(e){var t,n,r,i;return(0,l.__generator)(this,(function(o){switch(o.label){case 0:return t=e.userId,n=e.useAllTimeStreak,[4,J(t)];case 1:return(r=o.sent()).length?(r.push(t),i=r.map((function(e){return Promise.all([ae(e),Bt(e)])})),[2,Promise.all(i).then((function(e){return e=e.map((function(e,t){var r,i=(0,c.Z)(e,2),o=i[0],u=i[1];return(0,a.Z)((0,s.Z)({},u),{id:o.id,score:(n?null===u||void 0===u?void 0:u.longestStreak:null===u||void 0===u||null===(r=u.streak)||void 0===r?void 0:r.count)||0,playerProfile:o})})),W(e)}))]):[2,[]]}}))}))).apply(this,arguments)}function ke(e){return xe.apply(this,arguments)}function xe(){return(xe=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(t){return[2,$((0,g.IO)(V(e),(0,g.b9)(1))).then((function(t){if(!t.length)return null;var n=t.map((function(e){return ae(e.userId)}));return n.length?Promise.all(n).then((function(n){return n.map((function(n,r){return{levelId:e,highscore:{score:t[r].score,codeSize:t[r].codeSize,match:t[r].match,playerProfile:n}}}))[0]})):null})).catch((function(e){return console.log("Error getting document:",e),null}))]}))}))).apply(this,arguments)}function Ae(e){return De.apply(this,arguments)}function De(){return(De=(0,r.Z)((function(e){var t;return(0,l.__generator)(this,(function(n){return t=e.map((function(e){return ke(e)})),[2,Promise.all(t)]}))}))).apply(this,arguments)}function Re(e){return Me.apply(this,arguments)}function Me(){return(Me=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(t){return[2,$((0,g.IO)(V(e),(0,g.b9)(3))).catch((function(e){return console.log("Error getting document:",e),[]}))]}))}))).apply(this,arguments)}function Oe(e){return Le.apply(this,arguments)}function Le(){return(Le=(0,r.Z)((function(e){var t,n;return(0,l.__generator)(this,(function(r){return t=e.playerId,n=e.levelId,[2,z((0,g.JU)(y.db,"".concat(T,"/").concat(t,"_").concat(n)),{withoutId:!0}).catch((function(){}))]}))}))).apply(this,arguments)}var Ne=se(Oe);function Pe(e){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,r.Z)((function(e){var t;return(0,l.__generator)(this,(function(n){return t=e.playerId,[2,(0,g.QT)((0,g.JU)(y.db,"".concat(M,"/").concat(t))).then((function(e){return e.exists()?e.data():{}})).catch((function(){return{}}))]}))}))).apply(this,arguments)}function je(e){return Be.apply(this,arguments)}function Be(){return(Be=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return[4,Pe({playerId:e.playerId})];case 1:return[2,t.sent().levels||{}]}}))}))).apply(this,arguments)}function Ue(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,r.Z)((function(e){var t,n,r,i,o;return(0,l.__generator)(this,(function(s){switch(s.label){case 0:t=e.userId,n=e.levelId,r=e.battleId,i=new URLSearchParams((0,h.BE)({userId:t,battleId:r,levelId:n})),s.label=1;case 1:return s.trys.push([1,4,,5]),[4,fetch("https://us-central1-".concat(y.NX,".cloudfunctions.net/getRank?").concat(i))];case 2:return[4,s.sent().json()];case 3:return o=s.sent(),[3,5];case 4:return s.sent(),[2,null];case 5:return[2,o]}}))}))).apply(this,arguments)}function He(){return z((0,g.JU)(y.db,"".concat("global","/stats")))}function qe(e,t){return(0,g.r7)((0,g.JU)(y.db,"".concat(R,"/").concat(e)),t)}function ze(e,t){return $e.apply(this,arguments)}function $e(){return($e=(0,r.Z)((function(e,t){var n;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.firebaseUser.getIdToken()];case 1:return n=r.sent(),[2,fetch("".concat(w,"/saveUsername"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n,username:t})}).then((function(e){if(!e.ok)throw e;return e.text()})).catch((function(e){if((0,o.Z)(e,Response))throw e.text()}))]}}))}))).apply(this,arguments)}function We(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,r.Z)((function(e){var t,n;return(0,l.__generator)(this,(function(r){return t=e.followedId,n=e.followerId,[2,(0,g.QT)((0,g.JU)(y.db,D,"".concat(t,"_").concat(n))).then((function(e){return e.exists()}))]}))}))).apply(this,arguments)}function Ze(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,r.Z)((function(e){var t,n;return(0,l.__generator)(this,(function(r){return t=e.followedId,n=e.followerId,[2,(0,g.pl)((0,g.JU)(y.db,D,"".concat(t,"_").concat(n)),{followedId:t,followerId:n,timestamp:(0,g.Bt)()})]}))}))).apply(this,arguments)}function Je(e){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,r.Z)((function(e){var t,n;return(0,l.__generator)(this,(function(r){return t=e.followedId,n=e.followerId,[2,(0,g.oe)((0,g.JU)(y.db,D,"".concat(t,"_").concat(n)))]}))}))).apply(this,arguments)}function Ye(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,r.Z)((function(e){var t;return(0,l.__generator)(this,(function(n){return t=e.userId,[2,(0,g.PL)((0,g.IO)((0,g.hJ)(y.db,L),(0,g.ar)("userId","==",t))).then(q).catch((function(e){return console.log("Error getting document:",e),0}))]}))}))).apply(this,arguments)}function et(e){var t={title:e.title,code:e.code,shouldAutoRun:e.shouldAutoRun||!1,isStarred:e.isStarred||!1};return e.id?(0,g.r7)((0,g.JU)(y.db,L,e.id),(0,a.Z)((0,s.Z)({},t),{updatedOn:(0,g.Bt)()})):(0,g.ET)((0,g.hJ)(y.db,L),(0,a.Z)((0,s.Z)({},t),{userId:e.userId,createdOn:(0,g.Bt)()})).then((function(e){return e.id}))}function tt(e){return(0,g.oe)((0,g.JU)(y.db,L,e.id))}function nt(e){return rt.apply(this,arguments)}function rt(){return(rt=(0,r.Z)((function(e){var t,n,r,i,o,s,a,c,u;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return[4,$((0,g.IO)((0,g.hJ)(y.db,k),(0,g.or)((0,g.ar)("userId","==",e),(0,g.ar)("recieverId","==",e)),(0,g.Xo)("timestamp","desc")))];case 1:return t=l.sent(),[4,Promise.all(t.filter((function(e){return e.recieverId})).map((function(t){var n=e===t.userId;return ue(n?t.recieverId:t.userId).then((function(e){t[n?"reciever":"sender"]=e}))})))];case 2:if(l.sent(),!t.length)return[2,[]];n=null,r=[],i=!0,o=!1,s=void 0;try{for(a=t[Symbol.iterator]();!(i=(c=a.next()).done);i=!0)"subscription_created"===(u=c.value).type&&(u.recieverId?r.push(u):n||(n=u))}catch(h){o=!0,s=h}finally{try{i||null==a.return||a.return()}finally{if(o)throw s}}return n&&r.push(n),r.sort((function(e,t){return e.recieverId&&!t.recieverId?1:!e.recieverId&&t.recieverId?-1:0})),[2,r.map((function(e){return{subscription:e,payments:t.filter((function(t){return"subscription_payment_succeeded"===t.type&&t.data.subscription_id===e.data.subscription_id})),cancellation:t.filter((function(t){return"subscription_cancelled"===t.type&&t.data.subscription_id===e.data.subscription_id}))[0]}}))]}}))}))).apply(this,arguments)}function it(e){return ot.apply(this,arguments)}function ot(){return ot=(0,r.Z)((function(e){var t;return(0,l.__generator)(this,(function(n){return t=(0,g.IO)((0,g.hJ)(y.db,x),(0,g.Xo)("timestamp","desc")),e&&(t=(0,g.IO)(t,(0,g.ar)("data.battleId","==",e))),t=(0,g.IO)(t,(0,g.b9)(20)),[2,(0,g.PL)(t).then(function(){var e=(0,r.Z)((function(e){var t;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return(t=q(e)).length?((0,h.P$)(t),[4,X(t,"data.userId")]):[2,t];case 1:return n.sent(),[2,t.map((function(e,t){return(0,a.Z)((0,s.Z)({},e),{timestamp:1e3*e.timestamp.seconds})}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),ot.apply(this,arguments)}function st(e){return at.apply(this,arguments)}function at(){return(at=(0,r.Z)((function(e){var t;return(0,l.__generator)(this,(function(n){return(t=d.battles.find((function(t){return t.id===e})))?[2,t]:[2,z((0,g.JU)(y.db,E,e))]}))}))).apply(this,arguments)}function ct(e){return ut.apply(this,arguments)}function ut(){return(ut=(0,r.Z)((function(e){var t;return(0,l.__generator)(this,(function(n){return(t=e?d.battles.find((function(t){return t.levelIds.includes(e.id)})):null)?[2,t]:e.battleId?[2,z((0,g.JU)(y.db,E,e.battleId))]:[2,null]}))}))).apply(this,arguments)}function lt(e){return ht.apply(this,arguments)}function ht(){return(ht=(0,r.Z)((function(e){var t;return(0,l.__generator)(this,(function(n){return e?(t=m().find((function(t){return t.id===e})))?[2,t]:[2,z((0,g.JU)(y.db,O,e),{useCache:!0})]:[2,{}]}))}))).apply(this,arguments)}function dt(e){return pt.apply(this,arguments)}function pt(){return(pt=(0,r.Z)((function(e){var t;return(0,l.__generator)(this,(function(n){return t=e.map((function(e){return lt(e)})),[2,Promise.all(t)]}))}))).apply(this,arguments)}function ft(e){return mt.apply(this,arguments)}function mt(){return(mt=(0,r.Z)((function(e){var t,n,r,i,o,c,u,p;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return t=e.userId,n=e.battle,r=e.levels,i=e.oldLevels,o=(0,h.BE)({name:n.name,description:n.description,duration:n.duration,status:n.status,gameMode:n.gameMode,levelIds:r?r.map((function(e){return e.id})):void 0,isScheduled:n.isScheduled,startDate:n.startDate,endDate:n.endDate}),console.table(o),o.isScheduled?o.startDate=new Date(o.startDate):o.startDate?o.startDate=(0,g.Bt)():o.startDate=null,o.endDate&&(o.endDate=(0,g.Bt)()),r&&i&&i.length?(c=i.filter((function(e){return!r.find((function(t){return t.id===e.id}))})).map((function(e){return e.id}))).length?(u=c.map((function(e){return _t(e)})),[4,Promise.all(u)]):[3,2]:[3,2];case 1:l.sent(),l.label=2;case 2:return p=r?r.map((function(e){return yt({userId:t,battleId:n.id,level:e})})):Promise.resolve(),n.id?[2,Promise.all([(0,g.r7)((0,g.JU)(y.db,E,n.id),(0,a.Z)((0,s.Z)({},o),{updatedOn:(0,g.Bt)()})),p])]:[2,(0,g.ET)((0,g.hJ)(y.db,E),(0,a.Z)((0,s.Z)({},o),{createdBy:t,status:d.BattleStatuses.UPCOMING,createdOn:(0,g.Bt)(),updatedOn:(0,g.Bt)()})).then((function(e){return e.id}))]}}))}))).apply(this,arguments)}function gt(e){return vt.apply(this,arguments)}function vt(){return(vt=(0,r.Z)((function(e){var t,n,r;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return t=e.battleId,n=e.levelIds,r=(void 0===n?[]:n).map((function(e){return _t(e)})),[4,Promise.all(r)];case 1:return i.sent(),[2,(0,g.oe)((0,g.JU)(y.db,"".concat(E,"/").concat(t)))]}}))}))).apply(this,arguments)}function yt(e){var t=e.userId,n=e.battleId,r=e.level,i=(0,h.BE)((0,s.Z)({createdBy:t,battleId:n,updatedOn:(0,g.Bt)()},r));return(0,g.pl)((0,g.JU)(y.db,O,r.id),i)}function _t(e){return bt.apply(this,arguments)}function bt(){return(bt=(0,r.Z)((function(e){var t,r,i,o,s;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:return n(343),t=(0,v.cF)(y.H),[4,lt(e)];case 1:return r=a.sent(),i=decodeURIComponent(r.image.match(/user.*png/)[0]),o=(0,v.iH)(t,i),s=(0,v.iH)(t,i.replace(".png","@2x.png")),[2,Promise.all([(0,g.oe)((0,g.JU)(y.db,"".concat(O,"/").concat(e))),(0,v.oq)(o),(0,v.oq)(s)])]}}))}))).apply(this,arguments)}function wt(e){return $((0,g.IO)((0,g.hJ)(y.db,E),(0,g.ar)("createdBy","==",e)))}function Ct(e){return $((0,g.IO)((0,g.hJ)(y.db,I),(0,g.ar)("userId","==",e),(0,g.ar)("type","==","customBattle")))}function Et(e,t){return(0,g.cf)((0,g.IO)((0,g.hJ)(y.db,I),(0,g.ar)("userId","==",e),(0,g.ar)("type","==","customBattle"),(0,g.ar)("isUsed","==",!1)),(function(e){var n=q(e);t(n)}))}function St(e){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,r.Z)((function(e){var t;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return[4,$((0,g.IO)((0,g.hJ)(y.db,S),(0,g.ar)("userId","==",e)))];case 1:return t=n.sent(),[4,Promise.all(t.map((function(e){return st(e.battleId)})))];case 2:return[2,n.sent().map((function(e,n){return(0,s.Z)({},t[n],e)}))]}}))}))).apply(this,arguments)}function It(e){return kt.apply(this,arguments)}function kt(){return(kt=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(t){return[2,z((0,g.JU)(y.db,"".concat(N,"/").concat(e)))]}))}))).apply(this,arguments)}function xt(e,t){return At.apply(this,arguments)}function At(){return(At=(0,r.Z)((function(e,t){return(0,l.__generator)(this,(function(n){return[2,(0,g.cf)((0,g.JU)(y.db,"".concat(N,"/").concat(e)),(function(e){t(e.data())}))]}))}))).apply(this,arguments)}function Dt(e){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,r.Z)((function(e){var t,n,r,o,s;return(0,l.__generator)(this,(function(a){return t=e.userId,n=e.courseName,r=e.levelId,o=e.hasCompleted,s={level:r,lastUpdated:(0,g.Bt)()},o&&(s.completedDate=(0,g.Bt)()),(0,g.r7)((0,g.JU)(y.db,"".concat(N,"/").concat(t)),(0,i.Z)({},n,s)),[2]}))}))).apply(this,arguments)}function Mt(){var e=new Date,t=new Date(e.toLocaleString("en-US",{timeZone:"UTC"}));return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0))}function Ot(){return(Ot=(0,r.Z)((function(e){var t;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return t=Mt(),[4,$((0,g.IO)((0,g.hJ)(y.db,O),(0,g.ar)("type","==","daily"),(0,g.ar)("startDate","<=",t),(0,g.Xo)("startDate","desc"),(0,g.b9)(e)))];case 1:return[2,n.sent()]}}))}))).apply(this,arguments)}var Lt=se((function(e){return Ot.apply(this,arguments)}));function Nt(e){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return[4,$((0,g.IO)((0,g.hJ)(y.db,O),(0,g.ar)("type","==","daily"),(0,g.Xo)("startDate","desc"),(0,g.b9)(e)))];case 1:return[2,t.sent()]}}))}))).apply(this,arguments)}function Ft(){return(Ft=(0,r.Z)((function(e,t){return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return[4,$((0,g.IO)((0,g.hJ)(y.db,O),(0,g.ar)("type","==","daily"),(0,g.Xo)("startDate","desc"),(0,g.ar)("startDate",">=",e),(0,g.ar)("startDate","<=",t)))];case 1:return[2,n.sent()]}}))}))).apply(this,arguments)}var jt=se((function(e,t){return Ft.apply(this,arguments)}));function Bt(e){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(t){return[2,z((0,g.JU)(y.db,j,e))]}))}))).apply(this,arguments)}function Vt(e,t){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,r.Z)((function(e,t){return(0,l.__generator)(this,(function(n){return[2,(0,g.cf)((0,g.JU)(y.db,j,e),(function(e){t(e.data())}))]}))}))).apply(this,arguments)}function qt(e){return z((0,g.JU)(y.db,"".concat(F,"/").concat(e)))}function zt(e){return z((0,g.JU)(y.db,"".concat(F,"/").concat(e)))}function $t(e,t){return(0,g.cf)((0,g.JU)(y.db,R,e),(function(e){return t(e.data())}))}function Wt(e){return $((0,g.IO)((0,g.hJ)(y.db,T),(0,g.ar)("userId","==",e),(0,g.ar)("type","==","daily"))).then((function(e){return e[0]}))}function Gt(e){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return[4,fetch("https://cssbattleapp.web.app/daywiseSubmissionsCount?userId=".concat(e))];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}}))}))).apply(this,arguments)}function Kt(e){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,r.Z)((function(e){var t,n,r;return(0,l.__generator)(this,(function(o){return t=e.userId,n=e.versus,r=(0,h.BE)({roomCode:n.roomCode,capacity:2,players:[t],isReady:(0,i.Z)({},t,!1),settings:n.settings}),[2,(0,g.ET)((0,g.hJ)(y.db,B),(0,a.Z)((0,s.Z)({},r),{createdBy:t,status:p.VersusRoomStatuses.ACTIVE,createdOn:(0,g.Bt)(),updatedOn:(0,g.Bt)()})).then((function(e){return e.id}))]}))}))).apply(this,arguments)}function Xt(e){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(t){return[2,$((0,g.IO)((0,g.hJ)(y.db,B),(0,g.ar)("status","==",p.VersusRoomStatuses.ACTIVE),(0,g.ar)("roomCode","==",e),(0,g.b9)(1))).then((function(e){return e[0]}))]}))}))).apply(this,arguments)}function Qt(e){return en.apply(this,arguments)}function en(){return(en=(0,r.Z)((function(e){var t,n,r;return(0,l.__generator)(this,(function(o){return t=e.userId,n=e.roomCode,r=(0,g.IO)((0,g.hJ)(y.db,B),(0,g.ar)("status","==",p.VersusRoomStatuses.ACTIVE),(0,g.ar)("players","array-contains",t)),[2,(Promise.resolve([])||$(r)).then((function(e){return Xt(n).then((function(e){return e?e.players.length===e.capacity?"Room is full!":e.kickedPlayers&&e.kickedPlayers.includes(t)?"You are restricted from entering this room.":((0,g.r7)((0,g.JU)(y.db,B,e.id),{updatedOn:(0,g.Bt)(),players:(0,u.Z)(e.players).concat([t]),isReady:(0,a.Z)((0,s.Z)({},null===e||void 0===e?void 0:e.isReady),(0,i.Z)({},t,!1))}),e.id):"Room code invalid!"}))}))]}))}))).apply(this,arguments)}function tn(e){return nn.apply(this,arguments)}function nn(){return(nn=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(t){return[2,z((0,g.JU)(y.db,B,e))]}))}))).apply(this,arguments)}function rn(e,t){return(0,g.cf)((0,g.JU)(y.db,B,e),(function(e){t((0,s.Z)({id:e.id},e.data()))}))}function on(e,t){return(0,g.cf)((0,g.JU)(y.db,U,e),(function(e){t((0,s.Z)({id:e.id},e.data()))}))}function sn(e){return an.apply(this,arguments)}function an(){return(an=(0,r.Z)((function(e){var t,n;return(0,l.__generator)(this,(function(r){return t=e.roomId,n=e.data,[2,(0,g.r7)((0,g.JU)(y.db,B,t),(0,a.Z)((0,s.Z)({},n),{updatedOn:(0,g.Bt)()}))]}))}))).apply(this,arguments)}function cn(e){return un.apply(this,arguments)}function un(){return(un=(0,r.Z)((function(e){var t,n,r;return(0,l.__generator)(this,(function(i){return t=e.roomId,n=e.remainingPlayers,r=e.isReady,[2,(0,g.r7)((0,g.JU)(y.db,B,t),{status:p.VersusRoomStatuses.INACTIVE,updatedOn:(0,g.Bt)(),players:n,isReady:r})]}))}))).apply(this,arguments)}function ln(e){return hn.apply(this,arguments)}function hn(){return(hn=(0,r.Z)((function(e){var t,n,r;return(0,l.__generator)(this,(function(i){return t=e.roomId,n=e.remainingPlayers,r=e.isReady,[2,(0,g.r7)((0,g.JU)(y.db,B,t),{updatedOn:(0,g.Bt)(),players:n,isReady:r})]}))}))).apply(this,arguments)}function dn(e){return pn.apply(this,arguments)}function pn(){return(pn=(0,r.Z)((function(e){var t,n,r,i;return(0,l.__generator)(this,(function(o){return t=e.roomId,n=e.remainingPlayers,r=e.kickedPlayers,i=e.isReady,[2,(0,g.r7)((0,g.JU)(y.db,B,t),{updatedOn:(0,g.Bt)(),players:n,kickedPlayers:r,isReady:i})]}))}))).apply(this,arguments)}function fn(e){return mn.apply(this,arguments)}function mn(){return(mn=(0,r.Z)((function(e){var t,n;return(0,l.__generator)(this,(function(r){return t=e.roomId,n=e.isReady,[2,(0,g.r7)((0,g.JU)(y.db,B,t),{updatedOn:(0,g.Bt)(),isReady:n})]}))}))).apply(this,arguments)}function gn(e){return vn.apply(this,arguments)}function vn(){return(vn=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(t){return[2,$((0,g.IO)((0,g.hJ)(y.db,B),(0,g.ar)("levelIds","array-contains",e),(0,g.b9)(1))).then((function(e){return e[0]}))]}))}))).apply(this,arguments)}function yn(e){return _n.apply(this,arguments)}function _n(){return(_n=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(t){return[2,$((0,g.IO)((0,g.hJ)(y.db,B),(0,g.ar)("status","==",p.VersusRoomStatuses.FINISHED),(0,g.ar)("players","array-contains",e)))]}))}))).apply(this,arguments)}function bn(e){return wn.apply(this,arguments)}function wn(){return(wn=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(t){return[2,z((0,g.JU)(y.db,U,e))]}))}))).apply(this,arguments)}function Cn(e){return En.apply(this,arguments)}function En(){return(En=(0,r.Z)((function(e){var t;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return[4,$((0,g.IO)((0,g.hJ)(y.db,T),(0,g.ar)("userId","==",e),(0,g.ar)("levelId","<",500)))];case 1:return t=n.sent(),[4,Promise.all(t.map((function(e){return(t=e.submissionId)?z((0,g.JU)(y.db,A,t)):Promise.resolve(null);var t})))];case 2:return[2,n.sent().filter(Boolean)]}}))}))).apply(this,arguments)}function Sn(e){var t={notes:e.notes,isStarred:e.isStarred,isPublic:e.isPublic};return(0,g.r7)((0,g.JU)(y.db,A,e.id),(0,h.BE)((0,s.Z)({},t)))}function Tn(e){return(0,g.oe)((0,g.JU)(y.db,A,e))}function In(e){return kn.apply(this,arguments)}function kn(){return(kn=(0,r.Z)((function(e){var t,n;return(0,l.__generator)(this,(function(r){return(t=e.idsToDelete).length?(n=t.map((function(e){return Tn(e)})),[2,Promise.all(n)]):[2]}))}))).apply(this,arguments)}},2367:function(e,t,n){"use strict";n.d(t,{BE:function(){return g},Ds:function(){return f},GC:function(){return $},GS:function(){return W},Jp:function(){return F},NR:function(){return k},P$:function(){return E},SG:function(){return m},TF:function(){return C},TN:function(){return A},Ti:function(){return P},V2:function(){return M},VG:function(){return _},WQ:function(){return S},X2:function(){return V},Xg:function(){return L},Z3:function(){return R},cT:function(){return I},dQ:function(){return j},hM:function(){return b},lC:function(){return y},lr:function(){return H},nX:function(){return x},p4:function(){return G},qA:function(){return D},qu:function(){return B},tF:function(){return O},tq:function(){return U},uY:function(){return N},wm:function(){return T},x4:function(){return v},xX:function(){return w},zU:function(){return q}});var r=n(8788),i=n(865),o=n(6670),s=n(930),a=n(2970),c=n(2788),u=n(4675),l=n(1540),h=n(7567),d=n(3590),p=n(7037);function f(e,t,n){var r;return function(){var i=this,o=arguments,s=function(){r=null,n||e.apply(i,o)},a=n&&!r;clearTimeout(r),r=setTimeout(s,t),a&&e.apply(i,o)}}function m(e,t,n){for(var r=t.split("."),i=e;r.length>1;){var o=r.shift();i[o]=i[o]||{},i=i[o]}return i[r[0]]=n,e}function g(e){return Object.keys(e).forEach((function(t){e[t]&&"object"===typeof e[t]?g(e[t]):void 0!==e[t]&&null!==e[t]||delete e[t]})),e}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"#".concat(String(e).padStart(t,"0"))}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=Date.now()+1e3*e;!function e(){(0,c.Z)({particleCount:1,startVelocity:0,ticks:100,origin:{x:Math.random(),y:Math.random()-.2},colors:[["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"][~~(7*Math.random())]]}),Date.now()<t&&requestAnimationFrame(e)}()}var _=function(e){"object"!==typeof e&&(e=new Date(e));var t,n=Math.floor((new Date-e)/1e3),r=Math.floor(n/31536e3);return r>=1?t="year":(r=Math.floor(n/2592e3))>=1?t="month":(r=Math.floor(n/86400))>=1?t="day":(r=Math.floor(n/3600))>=1?t="hour":(r=Math.floor(n/60))>=1?t="minute":(r=n,t="second"),(r>1||0===r)&&(t+="s"),r+" "+t};function b(e,t){var n=Math.abs(new Date(t)-new Date(e))/1e3,r=Math.floor(n/86400);n-=86400*r;var i=Math.floor(n/3600)%24;n-=3600*i;var o=Math.floor(n/60)%60;return n-=60*o,{days:r,hours:i,minutes:o,seconds:Math.floor(n%60)}}function w(e){var t={};["uid","displayName","photoURL","isPro","settings","username","userSettings"].map((function(n){return t[n]=e[n]})),window.localStorage.setItem("lastUser",JSON.stringify(t))}function C(e,t){return new Function("code","\n  ".concat(e.code,"\n\n  return run(code);\n  "))(t)}function E(e){for(var t,n,r=0;r<e.length-1;){for(var i=r;i+1<e.length&&(t=e[r],n=e[i+1],t.data.userId===n.data.userId&&t.data.levelId===n.data.levelId&&t.data.previousUserId===n.data.previousUserId);)e[r].data.previousUserCodeSize=e[i+1].data.previousUserCodeSize,i++;r!==i&&e.splice(r+1,i-r),r++}}function S(e){for(var t,n,r=0;r<e.length-1;){for(var i=r+1;i<e.length;)t=e[r],n=e[i],t.code.trim()===n.code.trim()?e.splice(i,1):i++;r++}}function T(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t="abcdefghijklmnopqrstuvqxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n="",r=e;r--;)n+=t[~~(Math.random()*t.length)];return n}function I(e){var t=e.path,n=e.file,r=e.metaData,i=void 0===r?{}:r,o=(0,l.cF)(u.H);return(0,l.KV)((0,l.iH)(o,t),n,i).then((function(e){return"https://firebasestorage.googleapis.com/v0/b/".concat(u.NX,".appspot.com/o/").concat(encodeURIComponent(t),"?alt=media")}))}function k(e){return e.length>6}function x(e,t){return"https://cssbattle.dev/api/adRedirect?url=".concat(encodeURIComponent(e),"&sponsorId=").concat(t)}function A(e,t){return Math.floor(Math.random()*(t-e+1))+e}function D(e){var t=e.score,n=e.codeSize,r=e.levelId,i=(e.levelName,e.date),o=e.isDaily,s=void 0!==o&&o,a=e.streak,c=void 0===a?1:a,u=["I am on ".concat(t," score with just ").concat(n," characters on Target ").concat(r,". Do you have what it takes to beat that? \ud83d\ude0e"),"Just scored ".concat(t," on Target ").concat(r,"! Join me in the best ever CSS game \u2694\ufe0f"),"I recreated Target ".concat(r," in just ").concat(n," bytes of CSS! Having fun in this crazy CSS game!"),"I just finished a challenge on Target ".concat(r," with ").concat(t," score! Who can do better?"),"Want to have fun with CSS while learning? Beat my score of ".concat(t," on Target ").concat(r," in CSSBattle! \ud83d\udd25"),"CSS art FTW! I created Target ".concat(r," on CSSBattle in just ").concat(n," characters!! \ud83e\udd29 Beat that!"),"Scored ".concat(t," points on Target ").concat(r," of CSSBattle - where CSS and fun meets! Who's up for a challenge?"),"woah! I achieved ".concat(t," score on Target ").concat(r,"? It's time to show off your CSS skills! \ud83d\ude0f"),"Witness my CSS prowess! I conquered Target ".concat(r," with an epic score of ").concat(t,"! Dare to challenge me? \ud83d\udcaa"),"Who's ready to level up? I reached a mind-blowing score of ".concat(t," on Target ").concat(r,"! Join me and let's battle it out in CSS! \ud83d\udca5"),"Unleashing my CSS mastery! Just achieved an impressive score of ".concat(t," on Target ").concat(r,"! Can you surpass me? \ud83d\ude80"),"Calling all CSS artists! I cracked Target ".concat(r," with a score of ").concat(t,"! Join the battle and prove your mettle! \u26a1"),"Best website for CSS artists! Join me on Target ".concat(r," and beat my score of ").concat(t)],l=["%7B\u2694\ufe0f%7D Day ".concat(c||1," of %23CSSBattleDaily streak:\n ").concat(i,"  \u2014 ").concat(t," score / ").concat(n," chars")];return s?l[~~(Math.random()*l.length)]:u[~~(Math.random()*u.length)]}function R(e){var t=e.url,n=e.text,r=e.hashTags;return"https://x.com/share?url=".concat(t,"&text=").concat(n,"&hashtags=").concat(r,"&via=css_battle&related=css_battle")}function M(e){var t=e.url,n=e.text;e.hashTags;return"https://bsky.app/intent/compose?text=".concat(encodeURIComponent(n),"%20").concat(encodeURIComponent(t),"%20via%20%40cssbattle.dev")}function O(e,t){var n,r=e||{},s=!1,a=null===(n=t.validationTags)||void 0===n?void 0:n.includes("css");if(a&&(s=!(null===e||void 0===e?void 0:e.score)||t.score>e.score)&&(r=(0,i.Z)({},r,t)),a||(s=!(null===e||void 0===e?void 0:e.nonCss)||t.score>e.nonCss.score)&&(r=(0,o.Z)((0,i.Z)({},r),{nonCss:t})),r.nonCss){var c=r.nonCss.score>(r.score||0);r.overall={score:c?r.nonCss.score:r.score,codeSize:c?r.nonCss.codeSize:r.codeSize}}return{newObj:r,isAHighScore:s}}function L(e,t){var n=e.startDate,r="string"===typeof n?+new Date(n):n.toMillis();return((t.toMillis?t.toMillis():1e3*t._seconds)-r)/1e3}function N(){return Intl.DateTimeFormat().resolvedOptions().timeZone}function P(e){for(var t,n,r=0,i=1;r<e.length-1;){var o,s,a=r;for(e[r].rank=i;a+1<e.length&&(null===(o=e[r].streak)||void 0===o?void 0:o.count)===(null===(s=e[a+1].streak)||void 0===s?void 0:s.count);)e[a+1].rank=e[r].rank,a++;r=a+1,i++}var c=0;return 4!==(null===(t=e[3])||void 0===t?void 0:t.rank)&&(null===(n=e[3])||void 0===n?void 0:n.rank)?2===e[1].rank&&2===e[2].rank&&3===e[3].rank?c=3:e[1].rank!==e[2].rank&&e[2].rank!==e[3].rank||(c=1):c=3,c}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.showTime,r=void 0===n||n,s=t.utc,a=void 0!==s&&s;if(!e)return"";var c="function"===typeof e.toDate?e.toDate():new Date(e);a&&(c=new Date(Date.UTC(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours())));var u={year:"numeric",month:"short",day:"numeric"};r&&(u=(0,o.Z)((0,i.Z)({},u),{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}));var l=c.toLocaleString(!1,u);return l}function j(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.toDate(),r=n.getUTCDate(),i=n.getUTCMonth(),o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][i];return"".concat(o," ").concat(r).concat(t?", "+n.getFullYear():"")}function B(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i;("development"===h.OB||(null===window||void 0===window||null===(r=window.location)||void 0===r?void 0:r.href.match(/localhost/)))&&(i=console).log.apply(i,(0,s.Z)(t))}function U(){return window.matchMedia("(max-width: 600px)").matches}function V(e){return e.replace(/https.*appspot.com\/o\//,h.U7)}function H(e){return e<=d.Q[d.C.CUSTOM_BATTLE_MINI].maxDuration?0:e<=d.Q[d.C.CUSTOM_BATTLE_SMALL].maxDuration?1:void 0}function q(e){return z.apply(this,arguments)}function z(){return(z=(0,r.Z)((function(e){var t,n,r,o,c,u,l,h,d,f,m,g,v;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return t=e.playerIds,n=e.playersList,r=e.user,o=n.filter((function(e){return t.includes(e.uid)})),-1!==(c=o.findIndex((function(e){return e.uid===r.uid})))?(u=o[c],o.splice(c,1),o=[u].concat((0,s.Z)(o))):o=[r].concat((0,s.Z)(o)),[4,Promise.all(t.filter((function(e){return!o.some((function(t){return t.uid===e}))})).map((function(e){return(0,p.$Y)(e)})))];case 1:l=a.sent(),h=!0,d=!1,f=void 0;try{for(m=l[Symbol.iterator]();!(h=(g=m.next()).done);h=!0)v=g.value,o.push((0,i.Z)({uid:v.userId,photoURL:null===v||void 0===v?void 0:v.avatar},v))}catch(y){d=!0,f=y}finally{try{h||null==m.return||m.return()}finally{if(d)throw f}}return[2,o]}}))}))).apply(this,arguments)}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Audio(e.match(/\.\w+$/)?e:"/sfx/".concat(e,".mp3"));setTimeout((function(){n.play()}),1e3*t)}function W(e){for(var t=[],n="",r=!1,i=0;i<e.length;i++){var o=e[i];'"'===o?(r=!r,n+=o):","!==o||r?n+=o:(n.trim()&&t.push(n.trim()),n="")}return n.trim()&&t.push(n.trim()),t.map((function(e){return e.replace(/^"(.*)"$/,"$1")}))}function G(){var e=new Date,t=new Date(e.toLocaleString("en-US",{timeZone:"UTC"}));return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0))}},8396:function(e){e.exports={dialog:"CommandPalette_dialog__Uy7o1"}},6578:function(e){e.exports={breadcrumbs:"Header_breadcrumbs__mCYlG",headerLogo:"Header_headerLogo__qxS_C",headerLogoSmall:"Header_headerLogoSmall__A7Hg_"}},9502:function(e){e.exports={sidebarContainer:"CSSBattleSidebar_sidebarContainer__05AyU",sidebarContainerCollapsible:"CSSBattleSidebar_sidebarContainerCollapsible__yR0d3",sidebarContainerVisible:"CSSBattleSidebar_sidebarContainerVisible__fRbgm",sidebarMainContent:"CSSBattleSidebar_sidebarMainContent__CMtpS",sidebarLogo:"CSSBattleSidebar_sidebarLogo__MnsoD",sidebarLogoSmall:"CSSBattleSidebar_sidebarLogoSmall__xPfvU",sidebarFooter:"CSSBattleSidebar_sidebarFooter__op2CS",sidebarSection:"CSSBattleSidebar_sidebarSection__kLPXk",sidebarPageItemText:"CSSBattleSidebar_sidebarPageItemText__HjcHV",sidebarPageItem:"CSSBattleSidebar_sidebarPageItem__0Z0k_",onboardingCheckmark:"CSSBattleSidebar_onboardingCheckmark__E8H_B",sidebarPageItemActive:"CSSBattleSidebar_sidebarPageItemActive__TyBMZ",sidebarSectionHeading:"CSSBattleSidebar_sidebarSectionHeading__bbmVk",sidebarCopyright:"CSSBattleSidebar_sidebarCopyright__n0Fkp",sidebarSocialIcon:"CSSBattleSidebar_sidebarSocialIcon__Tmo8E",sidebarSocialLinks:"CSSBattleSidebar_sidebarSocialLinks__Q3hz6",sidebarPageItemTag:"CSSBattleSidebar_sidebarPageItemTag__yxr8k",sidebasidebarFooter:"CSSBattleSidebar_sidebasidebarFooter__pW_fP"}},8033:function(e){e.exports={panel:"Panel_panel__1nQxb",panelOnlyBorder:"Panel_panelOnlyBorder__pccxd",panelGlowing:"Panel_panelGlowing__Pj0jn",panelTopFocus:"Panel_panelTopFocus__S4VQe"}},5932:function(e){e.exports={widget:"StreaksWidget_widget__NN76h",bg:"StreaksWidget_bg__IWXFY",widgetText:"StreaksWidget_widgetText__6UBg0",widgetMain:"StreaksWidget_widgetMain__c5e_H",widgetShineBig:"StreaksWidget_widgetShineBig__i9jMt",widgetShineSmall:"StreaksWidget_widgetShineSmall__QPj5o",bar:"StreaksWidget_bar__Ahzb0",rays:"StreaksWidget_rays__dBVjC",reminderPopup:"StreaksWidget_reminderPopup__Xkhkl"}},7007:function(){},7175:function(){},9461:function(){},7102:function(){},1552:function(){},2351:function(e){!function(){var t={229:function(e){var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var a,c=[],u=!1,l=-1;function h(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&d())}function d(){if(!u){var e=s(h);u=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}},s=!0;try{t[e](o,o.exports,r),s=!1}finally{s&&delete n[e]}return o.exports}r.ab="//";var i=r(229);e.exports=i}()},7729:function(e,t,n){e.exports=n(5913)},9097:function(e,t,n){e.exports=n(162)},5632:function(e,t,n){e.exports=n(3642)},5346:function(e,t,n){"use strict";n.d(t,{Av:function(){return s},pF:function(){return r},xv:function(){return o},zi:function(){return i}});var r="right-scroll-bar-position",i="width-before-scroll-bar",o="with-scroll-bars-hidden",s="--removed-body-scroll-bar-size"},181:function(e,t,n){"use strict";n.d(t,{jp:function(){return p}});var r=n(2784),i=n(3225),o=n(5346),s={left:0,top:0,right:0,gap:0},a=function(e){return parseInt(e||"",10)||0},c=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return s;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[a(n),a(r),a(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},u=(0,i.Ws)(),l="data-scroll-locked",h=function(e,t,n,r){var i=e.left,s=e.top,a=e.right,c=e.gap;return void 0===n&&(n="margin"),"\n  .".concat(o.xv," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(c,"px ").concat(r,";\n  }\n  body[").concat(l,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(c,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(o.pF," {\n    right: ").concat(c,"px ").concat(r,";\n  }\n  \n  .").concat(o.zi," {\n    margin-right: ").concat(c,"px ").concat(r,";\n  }\n  \n  .").concat(o.pF," .").concat(o.pF," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(o.zi," .").concat(o.zi," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(l,"] {\n    ").concat(o.Av,": ").concat(c,"px;\n  }\n")},d=function(){var e=parseInt(document.body.getAttribute(l)||"0",10);return isFinite(e)?e:0},p=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,o=void 0===i?"margin":i;r.useEffect((function(){return document.body.setAttribute(l,(d()+1).toString()),function(){var e=d()-1;e<=0?document.body.removeAttribute(l):document.body.setAttribute(l,e.toString())}}),[]);var s=r.useMemo((function(){return c(o)}),[o]);return r.createElement(u,{styles:h(s,!t,o,n?"":"!important")})}},1869:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(2970),i=n(2784),o=n(5346),s=n(2442),a=(0,n(4597)._)(),c=function(){},u=i.forwardRef((function(e,t){var n=i.useRef(null),o=i.useState({onScrollCapture:c,onWheelCapture:c,onTouchMoveCapture:c}),u=o[0],l=o[1],h=e.forwardProps,d=e.children,p=e.className,f=e.removeScrollBar,m=e.enabled,g=e.shards,v=e.sideCar,y=e.noIsolation,_=e.inert,b=e.allowPinchZoom,w=e.as,C=void 0===w?"div":w,E=e.gapMode,S=(0,r.__rest)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=v,I=(0,s.q)([n,t]),k=(0,r.__assign)((0,r.__assign)({},S),u);return i.createElement(i.Fragment,null,m&&i.createElement(T,{sideCar:a,removeScrollBar:f,shards:g,noIsolation:y,inert:_,setCallbacks:l,allowPinchZoom:!!b,lockRef:n,gapMode:E}),h?i.cloneElement(i.Children.only(d),(0,r.__assign)((0,r.__assign)({},k),{ref:I})):i.createElement(C,(0,r.__assign)({},k,{className:p,ref:I}),d))}));u.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},u.classNames={fullWidth:o.zi,zeroRight:o.pF};var l=n(7758),h=n(181),d=n(3225),p=!1;if("undefined"!==typeof window)try{var f=Object.defineProperty({},"passive",{get:function(){return p=!0,!0}});window.addEventListener("test",f,f),window.removeEventListener("test",f,f)}catch(D){p=!1}var m=!!p&&{passive:!1},g=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},v=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),y(e,r)){var i=_(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},y=function(e,t){return"v"===e?function(e){return g(e,"overflowY")}(t):function(e){return g(e,"overflowX")}(t)},_=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},b=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},w=function(e){return[e.deltaX,e.deltaY]},C=function(e){return e&&"current"in e?e.current:e},E=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},S=0,T=[];function I(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}var k=(0,l.L)(a,(function(e){var t=i.useRef([]),n=i.useRef([0,0]),o=i.useRef(),s=i.useState(S++)[0],a=i.useState(d.Ws)[0],c=i.useRef(e);i.useEffect((function(){c.current=e}),[e]),i.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var t=(0,r.__spreadArray)([e.lockRef.current],(e.shards||[]).map(C),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(s))})),function(){document.body.classList.remove("block-interactivity-".concat(s)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(s))}))}}}),[e.inert,e.lockRef.current,e.shards]);var u=i.useCallback((function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!c.current.allowPinchZoom;var r,i=b(e),s=n.current,a="deltaX"in e?e.deltaX:s[0]-i[0],u="deltaY"in e?e.deltaY:s[1]-i[1],l=e.target,h=Math.abs(a)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===h&&"range"===l.type)return!1;var d=v(h,l);if(!d)return!0;if(d?r=h:(r="v"===h?"h":"v",d=v(h,l)),!d)return!1;if(!o.current&&"changedTouches"in e&&(a||u)&&(o.current=r),!r)return!0;var p=o.current||r;return function(e,t,n,r,i){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,c=t.contains(a),u=!1,l=s>0,h=0,d=0;do{var p=_(e,a),f=p[0],m=p[1]-p[2]-o*f;(f||m)&&y(e,a)&&(h+=m,d+=f),a=a instanceof ShadowRoot?a.host:a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(l&&(i&&Math.abs(h)<1||!i&&s>h)||!l&&(i&&Math.abs(d)<1||!i&&-s>d))&&(u=!0),u}(p,t,e,"h"===p?a:u,!0)}),[]),l=i.useCallback((function(e){var n=e;if(T.length&&T[T.length-1]===a){var r="deltaY"in n?w(n):b(n),i=t.current.filter((function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,i=r,t[0]===i[0]&&t[1]===i[1]);var t,i}))[0];if(i&&i.should)n.cancelable&&n.preventDefault();else if(!i){var o=(c.current.shards||[]).map(C).filter(Boolean).filter((function(e){return e.contains(n.target)}));(o.length>0?u(n,o[0]):!c.current.noIsolation)&&n.cancelable&&n.preventDefault()}}}),[]),p=i.useCallback((function(e,n,r,i){var o={name:e,delta:n,target:r,should:i,shadowParent:I(r)};t.current.push(o),setTimeout((function(){t.current=t.current.filter((function(e){return e!==o}))}),1)}),[]),f=i.useCallback((function(e){n.current=b(e),o.current=void 0}),[]),g=i.useCallback((function(t){p(t.type,w(t),t.target,u(t,e.lockRef.current))}),[]),k=i.useCallback((function(t){p(t.type,b(t),t.target,u(t,e.lockRef.current))}),[]);i.useEffect((function(){return T.push(a),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:k}),document.addEventListener("wheel",l,m),document.addEventListener("touchmove",l,m),document.addEventListener("touchstart",f,m),function(){T=T.filter((function(e){return e!==a})),document.removeEventListener("wheel",l,m),document.removeEventListener("touchmove",l,m),document.removeEventListener("touchstart",f,m)}}),[]);var x=e.removeScrollBar,A=e.inert;return i.createElement(i.Fragment,null,A?i.createElement(a,{styles:E(s)}):null,x?i.createElement(h.jp,{gapMode:e.gapMode}):null)})),x=i.forwardRef((function(e,t){return i.createElement(u,(0,r.__assign)({},e,{ref:t,sideCar:k}))}));x.classNames=u.classNames;var A=x},3225:function(e,t,n){"use strict";n.d(t,{Ws:function(){return a}});var r,i=n(2784);function o(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=r||n.nc;return t&&e.setAttribute("nonce",t),e}var s=function(){var e=0,t=null;return{add:function(n){var r,i;0==e&&(t=o())&&(i=n,(r=t).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){!--e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},a=function(){var e=function(){var e=s();return function(t,n){i.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&n])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}}},2442:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var r=n(2784);function i(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var o="undefined"!==typeof window?r.useLayoutEffect:r.useEffect,s=new WeakMap;function a(e,t){var n=function(e,t){var n=(0,r.useState)((function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}}))[0];return n.callback=t,n.facade}(t||null,(function(t){return e.forEach((function(e){return i(e,t)}))}));return o((function(){var t=s.get(n);if(t){var r=new Set(t),o=new Set(e),a=n.current;r.forEach((function(e){o.has(e)||i(e,null)})),o.forEach((function(e){r.has(e)||i(e,a)}))}s.set(n,e)}),[e]),n}},7758:function(e,t,n){"use strict";n.d(t,{L:function(){return s}});var r=n(2970),i=n(2784),o=function(e){var t=e.sideCar,n=(0,r.__rest)(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return i.createElement(o,(0,r.__assign)({},n))};function s(e,t){return e.useMedium(t),o}o.isSideCarExport=!0},4597:function(e,t,n){"use strict";n.d(t,{_:function(){return a},s:function(){return s}});var r=n(2970);function i(e){return e}function o(e,t){void 0===t&&(t=i);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var o=function(){var n=t;t=[],n.forEach(e)},s=function(){return Promise.resolve().then(o)};s(),n={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),n}}}}}function s(e,t){return void 0===t&&(t=i),o(e,t)}function a(e){void 0===e&&(e={});var t=o(null);return t.options=(0,r.__assign)({async:!0,ssr:!1},e),t}},7500:function(e){const t={BIG_BATTLE:"big",MINI_BATTLE:"mini"},n={UPCOMING:"upComing",ONGOING:"onGoing",FINISHED:"finished"},r=[{id:1,slug:"pilot-battle",name:"Pilot Battle",type:t.BIG_BATTLE,levelIds:[1,2,3,4,5,6,7,8,9,10,11,12],startDate:"Apr 4 2019 16:30:00 GMT+0530",endDate:"May 9 2019 16:30:00 GMT+0530",description:"First ever battle of CSSBattle. 12 fun warm-up targets to play and climb the leaderboards."},{id:2,slug:"visibility",name:"Visibility",type:t.BIG_BATTLE,levelIds:[13,14,15,16,17,18],startDate:"May 9 2019 16:30:00 GMT+0530",endDate:"May 30 2019 16:30:00 GMT+0530",description:"6 targets unlock across 3 weeks. Recreate them in the smallest possible CSS code and climb the leaderboards."},{id:3,slug:"cursor",name:"Cursor",type:t.MINI_BATTLE,levelIds:[19,20],startDate:"Jun 1 2019 16:30:00 GMT+0530",endDate:"Jun 3 2019 16:30:00 GMT+0530",description:"First ever mini-battle. 48 hours, 2 Targets. Some intense CSS golfing."},{id:4,slug:"display",name:"Display",type:t.BIG_BATTLE,levelIds:[21,22,23,24,25,26,27,28],startDate:"Jun 12 2019 16:30:00 GMT+0530",endDate:"Jul 3 2019 16:30:00 GMT+0530",description:"8 targets unlock across 3 weeks. Recreate them in the smallest possible CSS code and climb the leaderboard!",sponsor:{name:"SitePoint",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fwww.sitepoint.com%3Futm_source%3Dcss-battles%26utm_medium%3Dreferral%26utm_campaign%3Dlogo-battle&sponsorId=2"},rewards:{gold:"$50",silver:"$30",bronze:"$20",others:"Top 20: SitePoint Premium"}},{id:5,slug:"inline",name:"Inline",type:t.MINI_BATTLE,levelIds:[29,30],startDate:"Jul 13 2019 16:30:00 GMT+0530",endDate:"Jul 15 2019 16:30:00 GMT+0530",description:"48 hours, 2 Targets and some intense CSS golfing."},{id:6,slug:"conic",name:"Conic",type:t.MINI_BATTLE,levelIds:[31,32],startDate:"Jul 19 2019 16:30:00 GMT+0530",endDate:"Jul 21 2019 16:30:00 GMT+0530",description:"48 hours, 2 Targets and some intense CSS golfing."},{id:7,slug:"backface",name:"Backface",type:t.BIG_BATTLE,levelIds:[33,34,35,36,37,38,39,40,41],startDate:"Aug 01 2019 16:30:00 GMT+0530",endDate:"Aug 22 2019 16:30:00 GMT+0530",description:"9 targets unlock across 3 weeks. Recreate them with smallest possible CSS code and climb the leaderboard!"},{id:8,slug:"transition",name:"Transition",type:t.MINI_BATTLE,levelIds:[42,43,44],startDate:"Sep 07 2019 16:30:00 GMT+0530",endDate:"Sep 09 2019 16:30:00 GMT+0530",description:"3 fun targets for the weekend \ud83d\ude00"},{id:9,slug:"margin",name:"Margin",type:t.MINI_BATTLE,levelIds:[45,46],startDate:"Dec 12 2019 16:30:00 GMT+0530",endDate:"Dec 14 2019 16:30:00 GMT+0530",description:"2 fun targets to flex your muscles for the next big battle \ud83d\udd25"},{id:10,slug:"block",name:"Block",type:t.BIG_BATTLE,levelIds:[47,48,49,50,51,52],startDate:"Mar 26 2020 16:30:00 GMT+0530",endDate:"Apr 9 2020 16:30:00 GMT+0530",description:"6 targets to battle out over 2 weeks and learn about best practices against Corona Virus \ud83d\udd25"},{id:11,slug:"overflow",name:"Overflow",type:t.BIG_BATTLE,levelIds:[53,54,55,56,57,58,59,60],startDate:"Jun 9 2020 16:30:00 GMT+0530",endDate:"Jul 9 2020 16:30:00 GMT+0530",description:"8 targets (2 per week) to battle out over 4 weeks and win some cool rewards!",sponsor:{name:"Pastel",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fusepastel.com%3Futm_source%3Dcssbattle%26utm_campaign%3Dcssbattle_sponsorship&sponsorId=3"},rewards:{gold:"$50",silver:"$30",bronze:"$20",others:"Top 10: 1-year free Pastel Premium"}},{id:12,slug:"blend",name:"Blend",type:t.BIG_BATTLE,levelIds:[61,62,63,64,65,66,67,68],openLevelIds:[62],startDate:"Nov 21 2020 16:30:00 GMT+0530",endDate:"Dec 20 2020 16:30:00 GMT+0530",description:"8 targets (2 per week, and a new twist) to battle out over 4 weeks and win some cool rewards!",sponsor:{name:"ImprovMX",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fimprovmx.com%3Futm_source%3Dcssbattle%26utm_campaign%3Dcssbattle_sponsorship&sponsorId=4"},rewards:{gold:"$80 + ImprovMX premium for 1337mo",silver:"$55 + ImprovMX premium for 42mo",bronze:"$40 + ImprovMX premium for 24mo",others:"4th-10th: $25 + ImprovMX premium for 12mo",note:"Cash prizes will be given in the form of Amazon Gift Cards"}},{id:13,slug:"clip",name:"Clip",type:t.BIG_BATTLE,levelIds:[69,70,71,72,73,74,75,76],openLevelIds:[69,71,73],startDate:"Mar 02 2021 16:30:00 GMT+0530",endDate:"Mar 30 2021 16:30:00 GMT+0530",rewards:{others:"Top 10: Customized limited edition CSSBattle Merchandise"},description:"8 targets (with some open ones!) to battle out over 4 weeks and win some cool rewards!",sponsor:{name:"PushOwl",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fpushowl.com%3Futm_source%3Dcssbattle%26utm_campaign%3Dcssbattle_sponsorship&sponsorId=5"}},{id:14,slug:"zindex",name:"ZIndex",type:t.MINI_BATTLE,levelIds:[77,78,79,80],startDate:"May 25 2021 16:30:00 GMT+0530",endDate:"May 29 2021 16:30:00 GMT+0530",description:"4 days, 1 new target everyday \ud83c\udfaf! Ultimate crash course for CSS golfing!"},{id:15,slug:"filter",name:"Filter",type:t.BIG_BATTLE,levelIds:[81,82,83,84,85,86,87,88],openLevelIds:[84],startDate:"Sep 21 2021 16:30:00 GMT+0530",endDate:"Oct 21 2021 16:30:00 GMT+0530",description:"8 targets (with some open ones!) to battle out over 4 weeks and level up your CSS!",sponsor:{name:"Odoo",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fwww.odoo.com%2Fapp%2Fwebsite%3Futm_source%3DCSSBattle%26utm_medium%3Dcpc-social%26utm_campaign%3Dwebsite&sponsorId=6"}},{id:16,slug:"aspect",name:"Aspect",type:t.BIG_BATTLE,levelIds:[89,90,91,92,93,94,95,96],openLevelIds:[91],startDate:"Oct 28 2021 16:30:00 GMT+0530",endDate:"Nov 28 2021 16:30:00 GMT+0530",description:"Create 8 targets (with some open ones!) over 4 weeks and level up your CSS!"},{id:17,slug:"christmas",name:"Christmas \ud83c\udf84",type:t.MINI_BATTLE,levelIds:[97,98,99,100],openLevelIds:[100],startDate:"Dec 22 2021 16:30:00 GMT+0530",endDate:"Dec 26 2021 16:30:00 GMT+0530",description:"This festive season, let's celebrate Christmas with these 4 merry targets and some joyful CSS! \ud83c\udf84\ud83c\udf85\ud83c\udffc"},{id:18,slug:"float",name:"Float",type:t.BIG_BATTLE,levelIds:[101,102,103,104,105,106,107,108],openLevelIds:[106],startDate:"Mar 10 2022 16:30:00 GMT+0530",endDate:"Apr 09 2022 16:30:00 GMT+0530",description:"First battle of the year! Let's get into the CSS art mood with some nice Anime targets!"},{id:19,slug:"spacing",name:"Spacing",type:t.BIG_BATTLE,levelIds:[109,110,111,112,113,114,115,116],openLevelIds:[111],startDate:"Jun 07 2022 16:30:00 GMT+0530",endDate:"Jul 05 2022 16:30:00 GMT+0530",description:"4 weeks full of CSS art! 8 fun targets coming your way!"},{id:20,slug:"hover",name:"Hover",type:t.BIG_BATTLE,levelIds:[117,118,119,120,121,122,123,124],openLevelIds:[120],startDate:"Aug 04 2022 16:30:00 GMT+0530",endDate:"Sep 02 2022 16:30:00 GMT+0530",description:"4 weeks full of CSS art! 8 fun targets coming your way in our 20th battle!",sponsor:{name:"Arineo",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Farineo.com%2Fen%2F&sponsorId=7"},rewards:{others:"Top 20: Limited-Edition CSSBattle Stickers!"}},{id:21,slug:"rotate",name:"Rotate",type:t.BIG_BATTLE,firstLevelId:125,levelIds:[125,126,127,128,129,130,131,132],openLevelIds:[130],startDate:"Sep 15 2022 22:00:00 GMT+0530",endDate:"Oct 13 2022 22:00:00 GMT+0530",description:"4 weeks full of crazy letter art! Time to do some CSS art calligraphy.",sponsor:{name:"RootLearn",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fwww.rootlearn.com%2Fbootcamp%2Fweb-dev%3Fsource%3Dcssbattle&sponsorId=8"}},{id:22,slug:"grid",name:"Grid",type:t.BIG_BATTLE,firstLevelId:133,levelIds:[133,134,135,136,137,138,139,140],openLevelIds:[137],startDate:"Nov 29 2022 22:00:00 GMT+0530",endDate:"Dec 27 2022 22:00:00 GMT+0530",description:"Let\u2019s celebrate the end of the year with some festive targets and some joyful CSS!"},{id:23,slug:"contain",name:"Contain",type:t.MINI_BATTLE,firstLevelId:141,levelIds:[141,142],openLevelIds:[142],startDate:"Mar 18 2023 22:00:00 GMT+0530",endDate:"Mar 20 2023 22:00:00 GMT+0530",description:"New year, new rules! Join us in this mini battle to kickstart the year!"},{id:24,slug:"offset",name:"Offset",type:t.BIG_BATTLE,firstLevelId:143,levelIds:[143,144,145,146,147,148,149,150],openLevelIds:[148],startDate:"May 01 2023 22:00:00 GMT+0530",endDate:"Jun 01 2023 22:00:00 GMT+0530",description:"4 weeks full of CSS art! 8 corner-themed fun targets coming your way!"},{id:25,slug:"flex",name:"Flex",type:t.BIG_BATTLE,firstLevelId:151,levelIds:[151,152,153,154,155,156,157,158],openLevelIds:[],startDate:"Jun 07 2023 22:00:00 GMT+0530",endDate:"Jul 05 2023 22:00:00 GMT+0530",description:"4 weeks full of CSS art! 8 fun targets coming your way!"},{id:26,slug:"initial",name:"Initial",type:t.BIG_BATTLE,firstLevelId:159,levelIds:[159,160,161,162,163,164,165,166],openLevelIds:[],startDate:"Aug 24 2023 22:00:00 GMT+0530",endDate:"Sep 21 2023 22:00:00 GMT+0530",description:"Time to flex your CSS art skills! 8 fun targets coming your way!"},{id:27,slug:"relative",name:"Relative",type:t.MINI_BATTLE,firstLevelId:167,levelIds:[167,168,169,170],openLevelIds:[],startDate:"Sep 22 2023 22:00:00 GMT+0530",endDate:"Sep 29 2023 22:00:00 GMT+0530",description:"A chill mini battle with 4 targets!",targetBatches:[4],sponsor:{name:"React India 2023 conference",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Freactindia.io%3Futm_source%3Dcssbattle%26utm_campaign%3Dcssbattle_sponsorship&sponsorId=9"}},{id:28,slug:"revert",name:"Revert",type:t.BIG_BATTLE,firstLevelId:171,levelIds:[171,172,173,174,175,176,177,178],openLevelIds:[],startDate:"Oct 13 2023 22:00:00 GMT+0530",endDate:"Nov 10 2023 22:00:00 GMT+0530",description:"It's Halloween month! Let's celebrate the festival with some spooky CSS art!"},{id:29,slug:"font",name:"Font",type:t.BIG_BATTLE,firstLevelId:179,levelIds:[179,180,181,182,183,184,185,186],openLevelIds:[],targetBatches:[2,3,3],startDate:"Dec 01 2023 22:00:00 GMT+0530",endDate:"Dec 22 2023 22:00:00 GMT+0530",description:"End of year battle. Let's bid adieu to 2023 with some fun CSS flag art!"},{id:30,slug:"gradient",name:"Gradient",type:t.BIG_BATTLE,firstLevelId:187,levelIds:[187,188,189,190,191,192,193,194],openLevelIds:[],startDate:"Feb 08 2024 22:00:00 GMT+0530",endDate:"Mar 07 2024 22:00:00 GMT+0530",description:"Time to flex your CSS and build some cool CSS art!"},{id:31,slug:"opacity",name:"Opacity",type:t.BIG_BATTLE,firstLevelId:195,levelIds:[195,196,197,198,199,200,201,202],openLevelIds:[],startDate:"Apr 09 2024 22:00:00 GMT+0530",endDate:"May 07 2024 22:00:00 GMT+0530",description:"Time to flex your CSS and build some cool CSS art!",sponsor:{name:"LookAway",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Flookaway.app%3Futm_source%3Dcssbattle%26utm_campaign%3Dcssbattle_sponsorship&sponsorId=10"},rewards:{others:"Top 10: 100% off of 1 Mac license"}},{id:32,slug:"animation",name:"Animation",type:t.BIG_BATTLE,firstLevelId:203,levelIds:[203,204,205,206,207,208,209,210],openLevelIds:[],startDate:"Aug 10 2024 22:00:00 GMT+0530",endDate:"Sep 7 2024 22:00:00 GMT+0530",description:"Welcome to the superhero-themed battle! Flex your CSS muscles and let's build some amazing CSS art!"},{id:33,slug:"outline",name:"Outline",type:t.BIG_BATTLE,levelIds:[211,212,213,214,215,216,217,218],firstLevelId:211,startDate:"Oct 29 2024 22:00:00 GMT+0530",endDate:"Nov 26 2024 22:00:00 GMT+0530",description:"Fun 4 weeks to create 8 targets!",sponsor:{name:"CSS Weekly",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fcssw.io%2Fcssweekly-cssbattle&sponsorId=11"},rewards:{gold:"Top 3: CSS Weekly Sticker pack",others:'Top 10: 60% off on "Mastering Linting" course'}},{id:34,slug:"border",name:"Border",type:t.BIG_BATTLE,levelIds:[219,220,221,222,223,224,225,226],firstLevelId:219,startDate:"Feb 01 2025 22:00:00 GMT+0530",endDate:"Mar 02 2025 22:00:00 GMT+0530",description:"Fun 4 weeks to create 8 targets!",sponsor:{name:"CodePen",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fcodepen.io%3Futm_source%3Dcssbattle&sponsorId=12"},rewards:{gold:"Top 3: CodePen Swag pack"}},{id:35,slug:"color",name:"Color",type:t.BIG_BATTLE,levelIds:[227,228,229,230,0,0,0,0],firstLevelId:227,startDate:"May 01 2025 22:00:00 GMT+0530",endDate:"May 29 2025 22:00:00 GMT+0530",description:"Fun 4 weeks to create 8 targets!"}];function i(e){return e.id.length>6}e.exports={BattleTypes:t,BattleStatuses:n,BattleGameModes:{CODE_GOLF:"codegolf",FIRST_TO_MATCH:"firstToMatch"},battles:r,checkIfCustomBattle:i,getBattleStatus:function(e){if(i(e={...e})){if(!e.startDate)return n.UPCOMING;e.startDate=new Date(1e3*e.startDate.seconds),e.endDate=e.endDate?new Date(1e3*e.endDate.seconds):+e.startDate+60*e.duration*1e3}const t=Date.now(),r=new Date(e.startDate).getTime(),o=new Date(e.endDate).getTime();return t<r?n.UPCOMING:t>o?n.FINISHED:n.ONGOING}}},8688:function(e){e.exports=[{id:1,name:"Simply Square",image:"/targets/1.png",colors:["#5d3a3a","#b5e0ba"]},{id:2,name:"Carrom",image:"/targets/2.png",colors:["#62374e","#fdc57b"]},{id:3,name:"Push Button",image:"/targets/3.png",colors:["#6592CF","#243D83","#EEB850"]},{id:4,name:"Ups n Downs",image:"/targets/4.png",colors:["#62306D","#F7EC7D"]},{id:5,name:"Acid Rain",image:"/targets/5.png",colors:["#0B2429","#F3AC3C","#998235"]},{id:6,name:"Missing Slice",image:"/targets/6.png",colors:["#E3516E","#F7F3D7","#51B5A9","#FADE8B"]},{id:7,name:"Leafy Trail",image:"/targets/7.png",colors:["#0B2429","#F3AC3C","#998235","#1A4341"]},{id:8,name:"Forking Crazy",image:"/targets/8.png",colors:["#6592CF","#060F55"]},{id:9,name:"Tesseract",image:"/targets/9.png",colors:["#222730","#4CAAB3","#393E46"]},{id:10,name:"Cloaked Spirits",image:"/targets/10.png",colors:["#62306D","#F7EC7D","#AA445F","#E38F66"]},{id:11,name:"Eye of Sauron",image:"/targets/11.png",colors:["#191210","#ECA03D","#84271C"]},{id:12,name:"Wiggly Moustache",image:"/targets/12.png",colors:["#F5D6B4","#D86F45"]},{id:13,name:"Totally Triangle",image:"/targets/13.png",colors:["#0B2429","#F3AC3C"]},{id:14,name:"Web Maker Logo",image:"/targets/14.png",colors:["#F2F2B6","#FF6D00","#FD4602"]},{id:15,name:"Overlap",image:"/targets/15.png",colors:["#09042A","#7B3F61","#E78481"]},{id:16,name:"Eye of the Tiger",image:"/targets/16.png",colors:["#0B2429","#998235","#F3AC3C"]},{id:17,name:"Fidget Spinner",image:"/targets/17.png",colors:["#09042A","#E78481","#F5BB9C"]},{id:18,name:"Matrix",image:"/targets/18.png",colors:["#5C434C","#F09462","#F5D6B4"]},{id:19,name:"Cube",image:"/targets/19.png",colors:["#0B2429","#F3AC3C","#998235","#1A4341"]},{id:20,name:"Ticket",image:"/targets/20.png",colors:["#62306D","#F7EC7D","#E38F66"]},{id:21,name:"SitePoint Logo",image:"/targets/21.png",colors:["#222","#F2994A","#2D9CDB"]},{id:22,name:"Cloud",image:"/targets/22.png",colors:["#F5D6B4","#D86F45"]},{id:23,name:"Boxception",image:"/targets/23.png",colors:["#F3AC3C","#1A4341","#998235"]},{id:24,name:"Switches",image:"/targets/24.png",colors:["#62306D","#F7EC7D","#AA445F","#E38F66"]},{id:25,name:"Blossom",image:"/targets/25.png",colors:["#998235","#1A4341","#F3AC3C"]},{id:26,name:"Smiley",image:"/targets/26.png",colors:["#6592CF","#060F55"]},{id:27,name:"Lock Up",image:"/targets/27.png",colors:["#E38F66","#AA445F","#F7EC7D"]},{id:28,name:"Cups & Balls",image:"/targets/28.png",colors:["#1A4341","#998235","#F3AC3C"]},{id:29,name:"Suffocate",image:"/targets/29.png",colors:["#F3AC3C","#1A4341"]},{id:30,name:"Horizon",image:"/targets/30.png",colors:["#F7EC7D","#E38F66","#AA445F","#62306D"]},{id:31,name:"Equals",image:"/targets/31.png",colors:["#AA445F","#F7EC7D","#E38F66"]},{id:32,name:"Band-aid",image:"/targets/32.png",colors:["#FFFFFF","#F3AC3C","#A3A368","#FBE18C"]},{id:33,name:"Birdie",image:"/targets/33.png",colors:["#1A4341","#998235","#F3AC3C","#0B2429"]},{id:34,name:"Christmas Tree",image:"/targets/34.png",colors:["#007065","#FFEECF","#F5C181","#00A79D"]},{id:35,name:"Ice Cream",image:"/targets/35.png",colors:["#293462","#FFF1C1","#FE5F55","#A64942"]},{id:36,name:"Interleaved",image:"/targets/36.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:37,name:"Tunnel",image:"/targets/37.png",colors:["#6592CF","#243D83"]},{id:38,name:"Not Simply Square",image:"/targets/38.png",colors:["#293462","#FFF1C1","#FE5F55","#A64942"]},{id:39,name:"Sunset",image:"/targets/39.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:40,name:"Letter B",image:"/targets/40.png",colors:["#6592CF","#243D83"]},{id:41,name:"Fox Head",image:"/targets/41.png",colors:["#293462","#FE5F55"]},{id:42,name:"Baby",image:"/targets/42.png",colors:["#293462","#FE5F55","#FFF1C1"]},{id:43,name:"Wrench",image:"/targets/43.png",colors:["#6592CF","#243D83"]},{id:44,name:"Stripes",image:"/targets/44.png",colors:["#1A4341","#F3AC3C"]},{id:45,name:"Magical Tree",image:"/targets/45.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:46,name:"Mountains",image:"/targets/46.png",colors:["#293462","#FFF1C1","#FE5F55"]},{id:47,name:"Corona Virus",image:"/targets/47.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:48,name:"Wash Your Hands",image:"/targets/48.png",colors:["#293462","#FE5F55","#A64942"]},{id:49,name:"Stay at Home",image:"/targets/49.png",colors:["#6592CF","#243D83","#EEB850"]},{id:50,name:"Use Hand Sanitizer",image:"/targets/50.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:51,name:"Wear a Mask",image:"/targets/51.png",colors:["#293462","#FFF1C1","#FE5F55"]},{id:52,name:"Break the Chain",image:"/targets/52.png",colors:["#6592CF","#243D83","#EEB850"]},{id:53,name:"Pastel Logo",image:"/targets/53.png",colors:["#19191A","#4F77FF","#9AD5FF","#F9E492"]},{id:54,name:"Black Lives Matter",image:"/targets/54.png",colors:["#191919","#F9E492"]},{id:55,name:"Windmill",image:"/targets/55.png",colors:["#191919","#F9E492","#4F77FF"]},{id:56,name:"Skull",image:"/targets/56.png",colors:["#191919","#4F77FF"]},{id:57,name:"Pillars",image:"/targets/57.png",colors:["#191919","#4F77FF","#F9E492"]},{id:58,name:"Rose",image:"/targets/58.png",colors:["#191919","#4F77FF","#F9E492"]},{id:59,name:"Earth",image:"/targets/59.png",colors:["#191919","#4F77FF"]},{id:60,name:"Evil Triangles",image:"/targets/60.png",colors:["#191919","#4F77FF"]},{id:61,name:"ImprovMX",image:"/targets/61.png",colors:["#191919","#5DBCF9"]},{id:62,name:"Sunset",isOpen:!0,image:"/targets/62.png",colors:["#191919","#F2AD43","#E08027","#824B20","#FFF58F"]},{id:63,name:"Command Key",image:"/targets/63.png",colors:["#191919","#5DBCF9"]},{id:64,name:"Door Knob",image:"/targets/64.png",colors:["#191919","#E08027","#824B20","#FFF58F"]},{id:65,name:"Max Volume",image:"/targets/65.png",colors:["#191919","#5DBCF9"]},{id:66,name:"Batmicky",image:"/targets/66.png",colors:["#191919","#F2AD43"]},{id:67,name:"Video Reel",image:"/targets/67.png",colors:["#191919","#5DBCF9"]},{id:68,name:"Bell",image:"/targets/68.png",colors:["#191919","#E08027","#F2AD43","#824B20"]},{id:69,name:"PushOwl",image:"/targets/69.png",colors:["#191919","#E08027"],isOpen:!0},{id:70,name:"Froggy",image:"/targets/70.png",colors:["#293462","#FE5F55","#A64942","#FFF1C1"]},{id:71,name:"Elephant",image:"/targets/71.png",colors:["#998235","#1A4341","#0B2429","#FFFFFF"],isOpen:!0},{id:72,name:"Sheep",image:"/targets/72.png",colors:["#243D83","#6592CF"]},{id:73,name:"Happy Tiger",image:"/targets/73.png",colors:["#F3AC3C","#998235","#1A4341","#FFFFFF"],isOpen:!0},{id:74,name:"Danger Noodle",image:"/targets/74.png",colors:["#191919","#E08027"]},{id:75,name:"Hippo",image:"/targets/75.png",colors:["#191919","#A64942","#FE5F55","#000000"]},{id:76,name:"Beeee",image:"/targets/76.png",colors:["#998235","#FFFFFF","#EFF33C","#191919"]},{id:77,name:"Notes",image:"/targets/77.png",colors:["#191919","#FE5F55","#A64942"]},{id:78,name:"Ukulele",image:"/targets/78.png",colors:["#F3AC3C","#998235","#1A4341"]},{id:79,name:"Tambourine",image:"/targets/79.png",colors:["#243D83","#6592CF"]},{id:80,name:"Piano",image:"/targets/80.png",colors:["#998235","#191919","#FFFFFF"]},{id:81,name:"Odoo",image:"/targets/81.png",colors:["#191919","#714B67","#8F8F8F"]},{id:82,name:"Diamond Cut",image:"/targets/82.png",colors:["#F3AC3C","#998235","#1A4341"]},{id:83,name:"Supernova",image:"/targets/83.png",colors:["#243D83","#6592CF","#EEB850"]},{id:84,name:"Junction",isOpen:!0,image:"/targets/84.png",colors:["#191919","#A64942","#FE5F55"]},{id:85,name:"Pythagoras",image:"/targets/85.png",colors:["#D25B70","#F7F3DA","#F6DF96","#6CB3A9"]},{id:86,name:"Stairway",image:"/targets/86.png",colors:["#191919","#4F77FF"]},{id:87,name:"Building Blocks",image:"/targets/87.png",colors:["#F3AC3C","#1A4341"]},{id:88,name:"Tight Corner",image:"/targets/88.png",colors:["#F7F3DA","#D25B70"]},{id:89,name:"Summit",image:"/targets/89.png",colors:["#191919","#F9E492","#4F77FF"]},{id:90,name:"Eclipse",image:"/targets/90.png",colors:["#998235","#F3AC3C","#1A4341"]},{id:91,name:"Reflection",image:"/targets/91.png",colors:["#6CB3A9","#D25B70","#F6DF96"],isOpen:!0},{id:92,name:"Squeeze",image:"/targets/92.png",colors:["#6592CF","#243D83"]},{id:93,name:"Great Wall",image:"/targets/93.png",colors:["#4F77FF","#191919","#F9E492","#D6B73F"]},{id:94,name:"Ripples",image:"/targets/94.png",colors:["#0E2E2C","#F3AC3C","#998235"]},{id:95,name:"Pokeball",image:"/targets/95.png",colors:["#6CB3A9","#D25B70","#FFFFFF","#781728","#F6DF96"]},{id:96,name:"Mandala",image:"/targets/96.png",colors:["#6592CF","#243D83"]},{id:97,name:"Snowman",image:"/targets/97.png",colors:["#AC474B","#FFFFFF","#0E1F2B","#FFA63F"]},{id:98,name:"Candle",image:"/targets/98.png",colors:["#14313E","#BA3E46","#F3695A","#F3AC3C"]},{id:99,name:"Gift Box",image:"/targets/99.png",colors:["#AC474B","#FFFFFF"]},{id:100,name:"CSSBattle",image:"/targets/100.png",colors:["#14313E","#FFDF00"],isOpen:!0},{id:101,name:"Sharingan",image:"/targets/101.png",colors:["#161616","#A22015","#000000","#E96A23"]},{id:102,name:"One Piece",image:"/targets/102.png",colors:["#000000","#FFFFFF"]},{id:103,name:"Super Saiyan",image:"/targets/103.png",colors:["#161616","#EBAE11","#FFFFFF","#FFDEB9"]},{id:104,name:"Amegakure",image:"/targets/104.png",colors:["#000000","#37385A","#9897AE","#C0C3DB"]},{id:105,name:"Ryuk",image:"/targets/105.png",colors:["#BAC7CE","#475862","#000000","#868A64","#5A6042","#4E2B24"]},{id:106,name:"Ryuk's Apple",image:"/targets/106.png",colors:["#000000","#D4392D"],isOpen:!0},{id:107,name:"Sealing Wand",image:"/targets/107.png",colors:["#161616","#E96A23","#FFFFFF","#A22015"]},{id:108,name:"Clow Card",image:"/targets/108.png",colors:["#000000","#E96A23","#EBAE11"]},{id:109,name:"Curtain",image:"/targets/109.png",colors:["#191919","#F6E59C"]},{id:110,name:"Sunrays",image:"/targets/110.png",colors:["#D25B70","#F2E09F"]},{id:111,name:"Rain Drops",image:"/targets/111.png",colors:["#F3AC3C","#254241"],isOpen:!0},{id:112,name:"Chevron",image:"/targets/112.png",colors:["#6592CF","#293D7E"]},{id:113,name:"Black Light",image:"/targets/113.png",colors:["#5776F6","#191919"]},{id:114,name:"Negative Box",image:"/targets/114.png",colors:["#172D2C","#E9AF53"]},{id:115,name:"Droplet",image:"/targets/115.png",colors:["#C36271","#F2E09F"]},{id:116,name:"Headphones",image:"/targets/116.png",colors:["#293D7E","#6E91CA"]},{id:117,name:"Arineo",image:"/targets/117.png",colors:["#FFFFFF","#0088CA","#2E2926"]},{id:118,name:"Donkey Kong",image:"/targets/118.png",colors:["#000000","#AF067C","#FFFFFF"]},{id:119,name:"Pacman",image:"/targets/119.png",colors:["#000000","#E0E246","#C74E4E","#FFFFFF"]},{id:120,name:"Tank",image:"/targets/120.png",colors:["#000000","#54C144","#C74E4E","#FFFFFF"],isOpen:!0},{id:121,name:"Duck Hunt",image:"/targets/121.png",colors:["#1E92FF","#6F6100","#69D10A","#441A0A"]},{id:122,name:"Tetris",image:"/targets/122.png",colors:["#173889","#EE4F63","#2CE1EA","#F8DA37","#B069F7"]},{id:123,name:"Snake",image:"/targets/123.png",colors:["#C74E4E","#E0E246","#FFFFFF"]},{id:124,name:"Space Invaders",image:"/targets/124.png",colors:["#071945","#B069F7","#F8DA37","#2CE1EA"]},{id:125,name:"Root Learn",image:"/targets/125.png",colors:["#EFF2F1","#1C1C1C"]},{id:126,name:"Letter A",image:"/targets/126.png",colors:["#62306D","#FEF9CA","#C5B732","#E38F66","#AA445F"]},{id:127,name:"Letter I",image:"/targets/127.png",colors:["#E3516E","#FADE8B"]},{id:128,name:"Letter N",image:"/targets/128.png",colors:["#998235","#0B2429","#FCBE5C"]},{id:129,name:"Letter B",image:"/targets/129.png",colors:["#6592CF","#515DBD","#2E3B9F","#060F55"]},{id:130,name:"Letter O",image:"/targets/130.png",colors:["#926927","#FFFFFF","#6D480A"],isOpen:!0},{id:131,name:"Letter W",image:"/targets/131.png",colors:["#E38F66","#62306D","#FFFBDA"]},{id:132,name:"Letter S",image:"/targets/132.png",colors:["#4F77FF","#FFFFFF","#1038BF"]},{id:133,name:"Spiral",image:"/targets/133.png",colors:["#F5D6B4","#D86F45"]},{id:134,name:"Wig",image:"/targets/134.png",colors:["#62306D","#F7EC7D"]},{id:135,name:"Spikes",image:"/targets/135.png",colors:["#E3516E","#D9D9D9"]},{id:136,name:"Alien Eye",image:"/targets/136.png",colors:["#998235","#FCBE5C","#0B2429"]},{id:137,name:"Elbow",image:"/targets/137.png",colors:["#6592CF","#060F55"],isOpen:!0},{id:138,name:"Lotus",image:"/targets/138.png",colors:["#926927","#6D480A","#FFFFFF"]},{id:139,name:"Lamp",image:"/targets/139.png",colors:["#E38F66","#FFFBDA","#62306D"]},{id:140,name:"Eclipse",image:"/targets/140.png",colors:["#4F77FF","#1038BF","#FFFFFF"]},{id:141,name:"Third Eye",image:"/targets/141.png",colors:["#E3516E","#D9D9D9"]},{id:142,name:"Curtains",image:"/targets/142.png",colors:["#4F77FF","#1038BF","#FFFFFF"],isOpen:!0},{id:143,name:"Simply Circle",image:"/targets/143.png",colors:["#F5D6B4","#D86F45"]},{id:144,name:"Long Heart",image:"/targets/144.png",colors:["#62306D","#F7EC7D"]},{id:145,name:"Spotlight",image:"/targets/145.png",colors:["#E3516E","#D9D9D9"]},{id:146,name:"Streaks",image:"/targets/146.png",colors:["#998235","#FCBE5C","#0B2429"]},{id:147,name:"Splash",image:"/targets/147.png",colors:["#6592CF","#060F55"]},{id:148,name:"Eight",image:"/targets/148.png",colors:["#926927","#6D480A"],isOpen:!0},{id:149,name:"Earthworm",image:"/targets/149.png",colors:["#E38F66","#FFFBDA"]},{id:150,name:"Finger Heart",image:"/targets/150.png",colors:["#4F77FF","#1038BF"]},{id:151,name:"Pawn",image:"/targets/151.png",colors:["#F5D6B4","#D86F45"]},{id:152,name:"Rook",image:"/targets/152.png",colors:["#62306D","#F7EC7D"]},{id:153,name:"Checkers",image:"/targets/153.png",colors:["#E3516E","#FADE8B"]},{id:154,name:"Poker Chip",image:"/targets/154.png",colors:["#998235","#FCBE5C","#0B2429"]},{id:155,name:"Snakes & Ladders",image:"/targets/155.png",colors:["#6592CF","#060F55"]},{id:156,name:"Chinese Checkers",image:"/targets/156.png",colors:["#926927","#F8B140"]},{id:157,name:"Monopoly",image:"/targets/157.png",colors:["#E38F66","#FFFBDA"]},{id:158,name:"Clubs",image:"/targets/158.png",colors:["#4F77FF","#1038BF"]},{id:159,name:"Portal",image:"/targets/159.png",colors:["#F5D6B4","#D86F45"]},{id:160,name:"Donut",image:"/targets/160.png",colors:["#62306D","#F7EC7D","#E38F66"]},{id:161,name:"Converge",image:"/targets/161.png",colors:["#E3516E","#FADE8B"]},{id:162,name:"Upwards",image:"/targets/162.png",colors:["#998235","#0B2429","#FCBE5C"]},{id:163,name:"Missing Piece",image:"/targets/163.png",colors:["#D669EC","#FDFBF8"]},{id:164,name:"Rangoli",image:"/targets/164.png",colors:["#66284A","#D86F45","#F0CD48","#D669EC","#FDFBF8"]},{id:165,name:"Pyramid",image:"/targets/165.png",colors:["#F0CD48","#66284A"]},{id:166,name:"Flow",image:"/targets/166.png",colors:["#D86F45","#FDFBF8"]},{id:167,name:"React India",image:"/targets/167.png",colors:["#0D1335","#FBFAE2","#4FA07B","#DC6638","#73C6EA"]},{id:168,name:"Carpet",image:"/targets/168.png",colors:["#0D1335","#DC6638"]},{id:169,name:"Abstract Plate",image:"/targets/169.png",colors:["#0D1335","#FBFAE2","#4FA07B"]},{id:170,name:"Party Hat",image:"/targets/170.png",colors:["#0D1335","#FBFAE2","#DC6638","#73C6EA"]},{id:171,name:"Pumpkin",image:"/targets/171.png",colors:["#784972","#F7FFCF"]},{id:172,name:"Crossbones",image:"/targets/172.png",colors:["#EFEB99","#8647E6"]},{id:173,name:"Hockey Mask",image:"/targets/173.png",colors:["#A5B5B4","#FFFFFF","#000000"]},{id:174,name:"Witch's Hat",image:"/targets/174.png",colors:["#F4DCBF","#30383F","#556D7F","#FBD038"]},{id:175,name:"Evil Cat",image:"/targets/175.png",colors:["#ED6A9D","#050044","#FFC100"]},{id:176,name:"Castlevania",image:"/targets/176.png",colors:["#A6D6AE","#3A0F09","#BB9213"]},{id:177,name:"Frankenstein",image:"/targets/177.png",colors:["#3C8D3F","#14F078","#1A1D2F","#FFFFFF"]},{id:178,name:"Candy",image:"/targets/178.png",colors:["#CBE8DD","#007192"]},{id:179,name:"Tanzania",image:"/targets/179.png",colors:["#14A84A","#F8CD1E","#000000","#3B66B0"]},{id:180,name:"Kuwait",image:"/targets/180.png",colors:["#000000","#13AA4B","#FFFFFF","#EC1E25"]},{id:181,name:"Iceland",image:"/targets/181.png",colors:["#33499F","#DE3832","#FFFFFF"]},{id:182,name:"Bahrain",image:"/targets/182.png",colors:["#DA291C","#FFFFFF"]},{id:183,name:"Brazil",image:"/targets/183.png",colors:["#009B3A","#FEDF00","#FFFFFF","#002776"]},{id:184,name:"India",image:"/targets/184.png",colors:["#00007B","#3F8627","#F19E4B","#FFFFFF"]},{id:185,name:"South Korea",image:"/targets/185.png",colors:["#CD2E3A","#0047A0","#FFFFFF","#000000"]},{id:186,name:"Guernsey",image:"/targets/186.png",colors:["#F9DD16","#E8112D","#FFFFFF"]},{id:187,name:"Striped Triangle",image:"/targets/187.png",colors:["#40234B","#A94EA4"]},{id:188,name:"Icecream Sticks",image:"/targets/188.png",colors:["#FFFD9B","#969610","#646521"]},{id:189,name:"Triangle Hook",image:"/targets/189.png",colors:["#D669EC","#FDFBF8"]},{id:190,name:"Power Chip",image:"/targets/190.png",colors:["#E3516E","#FADE8B"]},{id:191,name:"Modern Fence",image:"/targets/191.png",colors:["#2F2E59","#EEECF6"]},{id:192,name:"Abstract Firefly",image:"/targets/192.png",colors:["#1D471D","#CCE58E"]},{id:193,name:"Galver",image:"/targets/193.png",colors:["#FCDDEB","#8B0051","#F180B6"]},{id:194,name:"Fountain",image:"/targets/194.png",colors:["#4FA07B","#0D1335"]},{id:195,name:"LookAway",image:"/targets/195.png",colors:["#F459E3","#E89A52","#F9C96C","#131313"]},{id:196,name:"Tree",image:"/targets/196.png",colors:["#90D3A6","#024817"]},{id:197,name:"Crystal",image:"/targets/197.png",colors:["#5F133F","#F075B0","#F7BED9"]},{id:198,name:"Walls",image:"/targets/198.png",colors:["#6867D4","#7BAFDE","#000039"]},{id:199,name:"Antenna",image:"/targets/199.png",colors:["#F48B26","#FEFF58"]},{id:200,name:"Lantern",image:"/targets/200.png",colors:["#FAD3E5","#8B0051"]},{id:201,name:"Triple Zero",image:"/targets/201.png",colors:["#998235","#FCBE5C","#0B2429"]},{id:202,name:"Steering Wheel",image:"/targets/202.png",colors:["#4F77FF","#1038BF"]},{id:203,name:"Wolverine",image:"/targets/203.png",colors:["#F3AC3C","#373794","#FFFFFF","#0E0E39"]},{id:204,name:"Deadpool",image:"/targets/204.png",colors:["#F3AC3C","#000000","#FFFFFF","#9F3333"]},{id:205,name:"Magneto's helmet",image:"/targets/205.png",colors:["#232323","#AF3A3A"]},{id:206,name:"Punisher",image:"/targets/206.png",colors:["#000000","#CAE5DC"]},{id:207,name:"Green Lantern logo",image:"/targets/207.png",colors:["#0E532F","#70CEAF"]},{id:208,name:"Hulk fist",image:"/targets/208.png",colors:["#107640","#161D1A"]},{id:209,name:"Iron man",image:"/targets/209.png",colors:["#F3AC3C","#FFFFFF","#BB2726"]},{id:210,name:"Black widow logo",image:"/targets/210.png",colors:["#151917","#D83A34"]},{id:211,name:"CSS Weekly",image:"/targets/211.png",colors:["#9B8170","#FFFFFF"]},{id:212,name:"Fibonacci peacock",image:"/targets/212.png",colors:["#FFED99","#000000","#9F3333","#3F8627","#F48B26"]},{id:213,name:"Boat",image:"/targets/213.png",colors:["#EEF8FF","#4A7D7B","#8AB8B6"]},{id:214,name:"Newspaper",image:"/targets/214.png",colors:["#F8F8F8","#787885"]},{id:215,name:"Staggered checks",image:"/targets/215.png",colors:["#6867D4","#000039"]},{id:216,name:"Pies",image:"/targets/216.png",colors:["#37212D","#EE9B99","#BCE6E9","#76608A"]},{id:217,name:"Maze",image:"/targets/217.png",colors:["#202939","#556787","#FFFFFF"]},{id:218,name:"3D",image:"/targets/218.png",colors:["#4C455B","#8AB8B6"]},{id:219,name:"CodePen",image:"/targets/219.png",colors:["#101724","#FFFFFF"]},{id:220,name:"Building",image:"/targets/220.png",colors:["#67AED4","#0F2836","#FFFFFF"]},{id:221,name:"Entangled",image:"/targets/221.png",colors:["#3F4869","#E25C57","#F4DA64"]},{id:222,name:"Rocket",image:"/targets/222.png",colors:["#B0E1FB","#C15965","#4B4D88"]},{id:223,name:"UFO",image:"/targets/223.png",colors:["#2F434E","#E25C57","#F3AC3C"]},{id:224,name:"Levelled",image:"/targets/224.png",colors:["#F8B140","#000000","#FFFFFF","#67AED4"]},{id:225,name:"Spark",image:"/targets/225.png",colors:["#343848","#E25C57","#F4DA64"]},{id:226,name:"Bond",image:"/targets/226.png",colors:["#558C90","#FFFFFF","#325853"]},{id:227,name:"Balanced",image:"/targets/227.png",colors:["#CF6939","#F9D081","#123747","#6D8971"]},{id:228,name:"Another Tree",image:"/targets/228.png",colors:["#D2F8FF","#072949","#3F8090"]},{id:229,name:"Flower",image:"/targets/229.png",colors:["#F4DCBF","#D95362"]},{id:230,name:"Connection",image:"/targets/230.png",colors:["#3F4869","#F4DA64"]}]},3316:function(e){const t={FIRST_TO_MATCH:"firstToMatch",CODE_GOLF:"codegolf"},n={[t.FIRST_TO_MATCH]:{label:"Time Attack",emoji:"\u23f0",description:"Fastest to get 100% match wins the game",isUpcoming:!1},[t.CODE_GOLF]:{label:"Code Golf",emoji:"\u26f3",description:"Shortest code with a 100% match gets the highest score",isUpcoming:!1}},r={EASY:"easy",MEDIUM:"medium",HARD:"hard"},i={[r.EASY]:{label:"Easy",isUpcoming:!1},[r.MEDIUM]:{label:"Medium",isUpcoming:!0},[r.HARD]:{label:"Hard",isUpcoming:!0}},o={SVG_PATH_ALLOWED:"svgPathAllowed",UNICODE_ALLOWED:"unicodeAllowed"},s={[o.SVG_PATH_ALLOWED]:{label:"Allow SVG Path",emoji:"\u2702\ufe0f",description:"Usage of SVG path is not restricted in this battle!",isUpcoming:!1},[o.UNICODE_ALLOWED]:{label:"Allow Unicode",emoji:"\u267e\ufe0f",description:"Usage of unicode characters is not restricted in this battle!",isUpcoming:!1}};e.exports={VersusRoomStatuses:{ACTIVE:"active",INACTIVE:"inactive",FINISHED:"finished"},VersusGameModesEnum:t,VersusGameModes:n,VersusTargetDifficultyEnum:r,VersusTargetDifficulty:i,VersusBattleStatuses:{ONGOING:"onGoing",FINISHED:"finished"},VersusChallengesEnum:o,VersusChallenges:s}},7896:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{Z:function(){return r}})},5500:function(e,t,n){"use strict";n.d(t,{C6:function(){return S},Jn:function(){return w},KN:function(){return T},Mq:function(){return E},Xd:function(){return g},ZF:function(){return C},qX:function(){return v}});var r=n(6387),i=n(8207),o=n(3395),s=n(2065);class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const c="@firebase/app",u="0.9.14",l=new i.Yd("@firebase/app"),h="[DEFAULT]",d={[c]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},p=new Map,f=new Map;function m(e,t){try{e.container.addComponent(t)}catch(n){l.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function g(e){const t=e.name;if(f.has(t))return l.debug(`There were multiple attempts to register component ${t}.`),!1;f.set(t,e);for(const n of p.values())m(n,e);return!0}function v(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const y={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},_=new o.LL("app","Firebase",y);class b{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _.create("app-deleted",{appName:this._name})}}const w="10.0.0";function C(e,t={}){let n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:h,automaticDataCollectionEnabled:!1},t),s=i.name;if("string"!==typeof s||!s)throw _.create("bad-app-name",{appName:String(s)});if(n||(n=(0,o.aH)()),!n)throw _.create("no-options");const a=p.get(s);if(a){if((0,o.vZ)(n,a.options)&&(0,o.vZ)(i,a.config))return a;throw _.create("duplicate-app",{appName:s})}const c=new r.H0(s);for(const r of f.values())c.addComponent(r);const u=new b(n,i,c);return p.set(s,u),u}function E(e="[DEFAULT]"){const t=p.get(e);if(!t&&e===h&&(0,o.aH)())return C();if(!t)throw _.create("no-app",{appName:e});return t}function S(){return Array.from(p.values())}function T(e,t,n){var i;let o=null!==(i=d[e])&&void 0!==i?i:e;n&&(o+=`-${n}`);const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${o}" with version "${t}":`];return s&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void l.warn(e.join(" "))}g(new r.wA(`${o}-version`,(()=>({library:o,version:t})),"VERSION"))}const I="firebase-heartbeat-store";let k=null;function x(){return k||(k=(0,s.openDB)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(I)}}).catch((e=>{throw _.create("idb-open",{originalErrorMessage:e.message})}))),k}async function A(e,t){try{const n=(await x()).transaction(I,"readwrite"),r=n.objectStore(I);await r.put(t,D(e)),await n.done}catch(n){if(n instanceof o.ZR)l.warn(n.message);else{const e=_.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});l.warn(e.message)}}}function D(e){return`${e.name}!${e.options.appId}`}class R{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new O(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=M();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=M(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),L(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),L(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=(0,o.L)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function M(){return(new Date).toISOString().substring(0,10)}class O{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.hl)()&&(0,o.eu)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{const t=await x();return await t.transaction(I).objectStore(I).get(D(e))}catch(t){if(t instanceof o.ZR)l.warn(t.message);else{const e=_.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});l.warn(e.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return A(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return A(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function L(e){return(0,o.L)(JSON.stringify({version:2,heartbeats:e})).length}var N;N="",g(new r.wA("platform-logger",(e=>new a(e)),"PRIVATE")),g(new r.wA("heartbeat",(e=>new R(e)),"PRIVATE")),T(c,u,N),T(c,u,"esm2017"),T("fire-js","")},2065:function(e,t,n){"use strict";n.r(t),n.d(t,{deleteDB:function(){return g},openDB:function(){return m},unwrap:function(){return f},wrap:function(){return p}});let r,i;const o=new WeakMap,s=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap;let l={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return s.get(e);if("objectStoreNames"===t)return e.objectStoreNames||a.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return p(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function h(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(f(this),t),p(o.get(this))}:function(...t){return p(e.apply(f(this),t))}:function(t,...n){const r=e.call(f(this),t,...n);return a.set(r,t.sort?t.sort():[t]),p(r)}}function d(e){return"function"===typeof e?h(e):(e instanceof IDBTransaction&&function(e){if(s.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));s.set(e,t)}(e),t=e,(r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,l):e);var t}function p(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(p(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&o.set(t,e)})).catch((()=>{})),u.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=d(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const f=e=>u.get(e);function m(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=p(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(p(s.result),e.oldVersion,e.newVersion,p(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}function g(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(e=>t(e.oldVersion,e))),p(n).then((()=>{}))}const v=["get","getKey","getAll","getAllKeys","count"],y=["put","add","delete","clear"],_=new Map;function b(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(_.get(t))return _.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=y.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!v.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return _.set(t,o),o}l=(e=>({...e,get:(t,n,r)=>b(t,n)||e.get(t,n,r),has:(t,n)=>!!b(t,n)||e.has(t,n)}))(l)},6387:function(e,t,n){"use strict";n.d(t,{H0:function(){return a},wA:function(){return i}});var r=n(3395);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===o?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},8207:function(e,t,n){"use strict";n.d(t,{Yd:function(){return u},in:function(){return i}});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class u{constructor(e){this.name=e,this._logLevel=s,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}},630:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},8788:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,c,"next",e)}function c(e){r(s,i,o,a,c,"throw",e)}a(void 0)}))}}n.d(t,{Z:function(){return i}})},7842:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},2838:function(e,t,n){"use strict";function r(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}n.d(t,{Z:function(){return r}})},3579:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},865:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7842);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){(0,r.Z)(e,t,n[t])}))}return e}},6670:function(e,t,n){"use strict";function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}n.d(t,{Z:function(){return r}})},6297:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Z:function(){return r}})},6383:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3579);var i=n(5459);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||(0,r.Z)(e,t)||(0,i.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},930:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(630);var i=n(3579);var o=n(5459);function s(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},5459:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(630);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},2788:function(e,t,n){"use strict";var r={};!function e(t,n,r,i){var o=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),s="function"===typeof Path2D&&"function"===typeof DOMMatrix,a=function(){if(!t.OffscreenCanvas)return!1;var e=new OffscreenCanvas(1,1),n=e.getContext("2d");n.fillRect(0,0,1,1);var r=e.transferToImageBitmap();try{n.createPattern(r,"no-repeat")}catch(i){return!1}return!0}();function c(){}function u(e){var r=n.exports.Promise,i=void 0!==r?r:t.Promise;return"function"===typeof i?new i(e):(e(c,c),null)}var l,h,d,p=(l=a,h=new Map,{transform:function(e){if(l)return e;if(h.has(e))return h.get(e);var t=new OffscreenCanvas(e.width,e.height);return t.getContext("2d").drawImage(e,0,0),h.set(e,t),t},clear:function(){h.clear()}}),f=function(){var e,t,n=Math.floor(1e3/60),r={},i=0;return"function"===typeof requestAnimationFrame&&"function"===typeof cancelAnimationFrame?(e=function(e){var t=Math.random();return r[t]=requestAnimationFrame((function o(s){i===s||i+n-1<s?(i=s,delete r[t],e()):r[t]=requestAnimationFrame(o)})),t},t=function(e){r[e]&&cancelAnimationFrame(r[e])}):(e=function(e){return setTimeout(e,n)},t=function(e){return clearTimeout(e)}),{frame:e,cancel:t}}(),m=function(){var t,n,i={};return function(){if(t)return t;if(!r&&o){var s=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{t=new Worker(URL.createObjectURL(new Blob([s])))}catch(a){return void 0!==typeof console&&"function"===typeof console.warn&&console.warn("\ud83c\udf8a Could not load worker",a),null}!function(e){function t(t,n){e.postMessage({options:t||{},callback:n})}e.init=function(t){var n=t.transferControlToOffscreen();e.postMessage({canvas:n},[n])},e.fire=function(r,o,s){if(n)return t(r,null),n;var a=Math.random().toString(36).slice(2);return n=u((function(o){function c(t){t.data.callback===a&&(delete i[a],e.removeEventListener("message",c),n=null,p.clear(),s(),o())}e.addEventListener("message",c),t(r,a),i[a]=c.bind(null,{data:{callback:a}})}))},e.reset=function(){for(var t in e.postMessage({reset:!0}),i)i[t](),delete i[t]}}(t)}return t}}(),g={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function v(e,t,n){return function(e,t){return t?t(e):e}(e&&(null!==(r=e[t])&&void 0!==r)?e[t]:g[t],n);var r}function y(e){return e<0?0:Math.floor(e)}function _(e){return parseInt(e,16)}function b(e){return e.map(w)}function w(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:_(t.substring(0,2)),g:_(t.substring(2,4)),b:_(t.substring(4,6))}}function C(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function E(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function S(e){var t=e.angle*(Math.PI/180),n=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-t+(.5*n-Math.random()*n),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}function T(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var n=t.tick++/t.totalTicks,r=t.x+t.random*t.tiltCos,i=t.y+t.random*t.tiltSin,o=t.wobbleX+t.random*t.tiltCos,a=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-n)+")",e.beginPath(),s&&"path"===t.shape.type&&"string"===typeof t.shape.path&&Array.isArray(t.shape.matrix))e.fill(function(e,t,n,r,i,o,s){var a=new Path2D(e),c=new Path2D;c.addPath(a,new DOMMatrix(t));var u=new Path2D;return u.addPath(c,new DOMMatrix([Math.cos(s)*i,Math.sin(s)*i,-Math.sin(s)*o,Math.cos(s)*o,n,r])),u}(t.shape.path,t.shape.matrix,t.x,t.y,.1*Math.abs(o-r),.1*Math.abs(a-i),Math.PI/10*t.wobble));else if("bitmap"===t.shape.type){var c=Math.PI/10*t.wobble,u=.1*Math.abs(o-r),l=.1*Math.abs(a-i),h=t.shape.bitmap.width*t.scalar,d=t.shape.bitmap.height*t.scalar,f=new DOMMatrix([Math.cos(c)*u,Math.sin(c)*u,-Math.sin(c)*l,Math.cos(c)*l,t.x,t.y]);f.multiplySelf(new DOMMatrix(t.shape.matrix));var m=e.createPattern(p.transform(t.shape.bitmap),"no-repeat");m.setTransform(f),e.globalAlpha=1-n,e.fillStyle=m,e.fillRect(t.x-h/2,t.y-d/2,h,d),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(o-r)*t.ovalScalar,Math.abs(a-i)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,n,r,i,o,s,a,c){e.save(),e.translate(t,n),e.rotate(o),e.scale(r,i),e.arc(0,0,1,s,a,c),e.restore()}(e,t.x,t.y,Math.abs(o-r)*t.ovalScalar,Math.abs(a-i)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if("star"===t.shape)for(var g=Math.PI/2*3,v=4*t.scalar,y=8*t.scalar,_=t.x,b=t.y,w=5,C=Math.PI/w;w--;)_=t.x+Math.cos(g)*y,b=t.y+Math.sin(g)*y,e.lineTo(_,b),g+=C,_=t.x+Math.cos(g)*v,b=t.y+Math.sin(g)*v,e.lineTo(_,b),g+=C;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(i)),e.lineTo(Math.floor(o),Math.floor(a)),e.lineTo(Math.floor(r),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}function I(e,n){var s,a=!e,c=!!v(n||{},"resize"),l=!1,h=v(n,"disableForReducedMotion",Boolean),d=o&&!!v(n||{},"useWorker")?m():null,g=a?C:E,_=!(!e||!d)&&!!e.__confetti_initialized,w="function"===typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function I(t,n,o){for(var a,c,l=v(t,"particleCount",y),h=v(t,"angle",Number),d=v(t,"spread",Number),m=v(t,"startVelocity",Number),_=v(t,"decay",Number),w=v(t,"gravity",Number),C=v(t,"drift",Number),E=v(t,"colors",b),I=v(t,"ticks",Number),k=v(t,"shapes"),x=v(t,"scalar"),A=!!v(t,"flat"),D=function(e){var t=v(e,"origin",Object);return t.x=v(t,"x",Number),t.y=v(t,"y",Number),t}(t),R=l,M=[],O=e.width*D.x,L=e.height*D.y;R--;)M.push(S({x:O,y:L,angle:h,spread:d,startVelocity:m,color:E[R%E.length],shape:k[(a=0,c=k.length,Math.floor(Math.random()*(c-a))+a)],ticks:I,decay:_,gravity:w,drift:C,scalar:x,flat:A}));return s?s.addFettis(M):(s=function(e,t,n,o,s){var a,c,l=t.slice(),h=e.getContext("2d"),d=u((function(t){function u(){a=c=null,h.clearRect(0,0,o.width,o.height),p.clear(),s(),t()}a=f.frame((function t(){!r||o.width===i.width&&o.height===i.height||(o.width=e.width=i.width,o.height=e.height=i.height),o.width||o.height||(n(e),o.width=e.width,o.height=e.height),h.clearRect(0,0,o.width,o.height),(l=l.filter((function(e){return T(h,e)}))).length?a=f.frame(t):u()})),c=u}));return{addFettis:function(e){return l=l.concat(e),d},canvas:e,promise:d,reset:function(){a&&f.cancel(a),c&&c()}}}(e,M,g,n,o),s.promise)}function k(n){var r=h||v(n,"disableForReducedMotion",Boolean),i=v(n,"zIndex",Number);if(r&&w)return u((function(e){e()}));a&&s?e=s.canvas:a&&!e&&(e=function(e){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(i),document.body.appendChild(e)),c&&!_&&g(e);var o={width:e.width,height:e.height};function p(){if(d){var t={getBoundingClientRect:function(){if(!a)return e.getBoundingClientRect()}};return g(t),void d.postMessage({resize:{width:t.width,height:t.height}})}o.width=o.height=null}function f(){s=null,c&&(l=!1,t.removeEventListener("resize",p)),a&&e&&(document.body.contains(e)&&document.body.removeChild(e),e=null,_=!1)}return d&&!_&&d.init(e),_=!0,d&&(e.__confetti_initialized=!0),c&&!l&&(l=!0,t.addEventListener("resize",p,!1)),d?d.fire(n,o,f):I(n,o,f)}return k.reset=function(){d&&d.reset(),s&&s.reset()},k}function k(){return d||(d=I(null,{useWorker:!0,resize:!0})),d}n.exports=function(){return k().apply(this,arguments)},n.exports.reset=function(){k().reset()},n.exports.create=I,n.exports.shapeFromPath=function(e){if(!s)throw new Error("path confetti are not supported in this browser");var t,n;"string"===typeof e?t=e:(t=e.path,n=e.matrix);var r=new Path2D(t),i=document.createElement("canvas").getContext("2d");if(!n){for(var o,a,c=1e3,u=c,l=c,h=0,d=0,p=0;p<c;p+=2)for(var f=0;f<c;f+=2)i.isPointInPath(r,p,f,"nonzero")&&(u=Math.min(u,p),l=Math.min(l,f),h=Math.max(h,p),d=Math.max(d,f));o=h-u,a=d-l;var m=Math.min(10/o,10/a);n=[m,0,0,m,-Math.round(o/2+u)*m,-Math.round(a/2+l)*m]}return{type:"path",path:t,matrix:n}},n.exports.shapeFromText=function(e){var t,n=1,r="#000000",i='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"===typeof e?t=e:(t=e.text,n="scalar"in e?e.scalar:n,i="fontFamily"in e?e.fontFamily:i,r="color"in e?e.color:r);var o=10*n,s=o+"px "+i,a=new OffscreenCanvas(o,o),c=a.getContext("2d");c.font=s;var u=c.measureText(t),l=Math.ceil(u.actualBoundingBoxRight+u.actualBoundingBoxLeft),h=Math.ceil(u.actualBoundingBoxAscent+u.actualBoundingBoxDescent),d=u.actualBoundingBoxLeft+2,p=u.actualBoundingBoxAscent+2;l+=4,h+=4,(c=(a=new OffscreenCanvas(l,h)).getContext("2d")).font=s,c.fillStyle=r,c.fillText(t,d,p);var f=1/n;return{type:"bitmap",bitmap:a.transferToImageBitmap(),matrix:[f,0,0,f,-l*f/2,-h*f/2]}}}(function(){return"undefined"!==typeof window?window:"undefined"!==typeof self?self:this||{}}(),r,!1),t.Z=r.exports;r.exports.create},3947:function(e,t,n){"use strict";n.d(t,{GH:function(){return Be},hJ:function(){return je},c4:function(){return Ue},v0:function(){return _n},JB:function(){return Xe},Aj:function(){return nt},oo:function(){return Je},P6:function(){return Ye},rh:function(){return Nt},w7:function(){return rt},s:function(){return et},ck:function(){return Qe}});var r=n(3395),i=n(5500),o=n(2970),s=n(8207),a=n(6387);function c(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u=c,l=new r.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),h=new s.Yd("@firebase/auth");function d(e,...t){h.logLevel<=s.in.ERROR&&h.error(`Auth (${i.Jn}): ${e}`,...t)}function p(e,...t){throw v(e,...t)}function f(e,...t){return v(e,...t)}function m(e,t,n){const i=Object.assign(Object.assign({},u()),{[t]:n});return new r.LL("auth","Firebase",i).create(t,{appName:e.name})}function g(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&p(e,"argument-error"),m(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function v(e,...t){if("string"!==typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return l.create(e,...t)}function y(e,t,...n){if(!e)throw v(t,...n)}function _(e){const t="INTERNAL ASSERTION FAILED: "+e;throw d(t),new Error(t)}function b(e,t){e||_(t)}function w(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function C(){return"http:"===E()||"https:"===E()}function E(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class S{constructor(e,t){this.shortDelay=e,this.longDelay=t,b(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,r.uI)()||(0,r.b$)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(C()||(0,r.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function T(e,t){b(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class I{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void _("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void _("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void _("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const k={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},x=new S(3e4,6e4);function A(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function D(e,t,n,i,o={}){return R(e,o,(async()=>{let o={},s={};i&&("GET"===t?s=i:o={body:JSON.stringify(i)});const a=(0,r.xO)(Object.assign({key:e.config.apiKey},s)).slice(1),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),I.fetch()(O(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},o))}))}async function R(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},k),t);try{const t=new L(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw N(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const t=r.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw N(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw N(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw N(e,"user-disabled",o);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw m(e,a,s);p(e,a)}}catch(o){if(o instanceof r.ZR)throw o;p(e,"network-request-failed",{message:String(o)})}}async function M(e,t,n,r,i={}){const o=await D(e,t,n,r,i);return"mfaPendingCredential"in o&&p(e,"multi-factor-auth-required",{_serverResponse:o}),o}function O(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?T(e.config,i):`${e.config.apiScheme}://${i}`}class L{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(f(this.auth,"network-request-failed"))),x.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function N(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=f(e,t,r);return i.customData._tokenResponse=n,i}function P(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function F(e){return 1e3*Number(e)}function j(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return d("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,r.tV)(n);return e?JSON.parse(e):(d("Failed to decode base64 JWT payload"),null)}catch(o){return d("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}async function B(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof r.ZR&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}class U{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class V{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=P(this.lastLoginAt),this.creationTime=P(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function H(e){var t;const n=e.auth,r=await e.getIdToken(),i=await B(e,async function(e,t){return D(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));y(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=(0,o.__rest)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const c=(u=e.providerData,l=a,[...u.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var u,l;const h=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===c||void 0===c?void 0:c.length),p=!!h&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new V(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(e,f)}class q{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y("undefined"!==typeof e.idToken,"internal-error"),y("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=j(e);return y(t,"internal-error"),y("undefined"!==typeof t.exp,"internal-error"),y("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return y(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await async function(e,t){const n=await R(e,{},(async()=>{const n=(0,r.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=O(e,i,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",I.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new q;return n&&(y("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(y("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(y("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new q,this.toJSON())}_performRefresh(){return _("not implemented")}}function z(e,t){y("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ${constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,o.__rest)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new U(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new V(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await B(this,this.stsTokenManager.getToken(this.auth,e));return y(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=(0,r.m9)(e),i=await n.getIdToken(t),o=j(i);y(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s="object"===typeof o.firebase?o.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:o,token:i,authTime:P(F(o.auth_time)),issuedAtTime:P(F(o.iat)),expirationTime:P(F(o.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,r.m9)(e);await H(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new $(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await H(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await B(this,async function(e,t){return D(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,c,u;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:_,emailVerified:b,isAnonymous:w,providerData:C,stsTokenManager:E}=t;y(_&&E,e,"internal-error");const S=q.fromJSON(this.name,E);y("string"===typeof _,e,"internal-error"),z(l,e.name),z(h,e.name),y("boolean"===typeof b,e,"internal-error"),y("boolean"===typeof w,e,"internal-error"),z(d,e.name),z(p,e.name),z(f,e.name),z(m,e.name),z(g,e.name),z(v,e.name);const T=new $({uid:_,auth:e,email:h,emailVerified:b,displayName:l,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:S,createdAt:g,lastLoginAt:v});return C&&Array.isArray(C)&&(T.providerData=C.map((e=>Object.assign({},e)))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t,n=!1){const r=new q;r.updateFromServerResponse(t);const i=new $({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await H(i),i}}const W=new Map;function G(e){b(e instanceof Function,"Expected a class definition");let t=W.get(e);return t?(b(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,W.set(e,t),t)}class Z{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Z.type="NONE";const K=Z;function J(e,t,n){return`firebase:${e}:${t}:${n}`}class X{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=J(this.userKey,r.apiKey,i),this.fullPersistenceKey=J("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new X(G(K),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||G(K);const o=J(n,e.config.apiKey,e.name);let s=null;for(const u of t)try{const t=await u._get(o);if(t){const n=$._fromJSON(e,t);u!==i&&(s=n),i=u;break}}catch(c){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(c){}}))),new X(i,e,n)):new X(i,e,n)}}function Y(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ne(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Q(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ie(t))return"Blackberry";if(oe(t))return"Webos";if(ee(t))return"Safari";if((t.includes("chrome/")||te(t))&&!t.includes("edge/"))return"Chrome";if(re(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Q(e=(0,r.z$)()){return/firefox\//i.test(e)}function ee(e=(0,r.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function te(e=(0,r.z$)()){return/crios\//i.test(e)}function ne(e=(0,r.z$)()){return/iemobile/i.test(e)}function re(e=(0,r.z$)()){return/android/i.test(e)}function ie(e=(0,r.z$)()){return/blackberry/i.test(e)}function oe(e=(0,r.z$)()){return/webos/i.test(e)}function se(e=(0,r.z$)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ae(e=(0,r.z$)()){return se(e)||re(e)||oe(e)||ie(e)||/windows phone/i.test(e)||ne(e)}function ce(e,t=[]){let n;switch(e){case"Browser":n=Y((0,r.z$)());break;case"Worker":n=`${Y((0,r.z$)())}-${e}`;break;default:n=e}const o=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${i.Jn}/${o}`}async function ue(e,t){return D(e,"GET","/v2/recaptchaConfig",A(e,t))}function le(e){return void 0!==e&&void 0!==e.enterprise}class he{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function de(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=f("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function pe(e){return`__${e}${Math.floor(1e6*Math.random())}`}class fe{constructor(e){this.type="recaptcha-enterprise",this.auth=ye(e)}async verify(e="verify",t=!1){function n(t,n,r){const i=window.grecaptcha;le(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{ue(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new he(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&le(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));de("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function me(e,t,n,r=!1){const i=new fe(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}class ge{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class ve{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _e(this),this.idTokenSubscription=new _e(this),this.beforeStateQueue=new ge(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=G(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await X.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await H(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,r.m9)(e):null;return t&&y(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(G(e))}))}async initializeRecaptchaConfig(){const e=await ue(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new he(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new fe(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new r.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&G(e)||this._popupRedirectResolver;y(t,this,"argument-error"),this.redirectPersistenceManager=await X.create(this,[G(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return y(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ce(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e,...t){h.logLevel<=s.in.WARN&&h.warn(`Auth (${i.Jn}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function ye(e){return(0,r.m9)(e)}class _e{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,r.ne)((e=>this.observer=e))}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function be(e,t,n){const r=ye(e);y(r._canInitEmulator,r,"emulator-config-failed"),y(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=we(t),{host:s,port:a}=function(e){const t=we(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ce(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ce(t)}}}(t),c=null===a?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function we(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ce(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ee{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _("not implemented")}_getIdTokenResponse(e){return _("not implemented")}_linkToIdToken(e,t){return _("not implemented")}_getReauthenticationResolver(e){return _("not implemented")}}async function Se(e,t){return D(e,"POST","/v1/accounts:update",t)}async function Te(e,t){return M(e,"POST","/v1/accounts:signInWithPassword",A(e,t))}async function Ie(e,t){return D(e,"POST","/v1/accounts:sendOobCode",A(e,t))}async function ke(e,t){return Ie(e,t)}class xe extends Ee{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new xe(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new xe(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await me(e,n,"signInWithPassword");return Te(e,t)}return Te(e,n).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await me(e,n,"signInWithPassword");return Te(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",A(e,t))}(e,{email:this._email,oobCode:this._password});default:p(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Se(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",A(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:p(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ae(e,t){return M(e,"POST","/v1/accounts:signInWithIdp",A(e,t))}class De extends Ee{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new De(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):p("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,o.__rest)(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new De(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Ae(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ae(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ae(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,r.xO)(t)}return e}}const Re={USER_NOT_FOUND:"user-not-found"};class Me extends Ee{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Me({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Me({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return M(e,"POST","/v1/accounts:signInWithPhoneNumber",A(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await M(e,"POST","/v1/accounts:signInWithPhoneNumber",A(e,t));if(n.temporaryProof)throw N(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return M(e,"POST","/v1/accounts:signInWithPhoneNumber",A(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Re)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Me({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Oe{constructor(e){var t,n,i,o,s,a;const c=(0,r.zd)((0,r.pd)(e)),u=null!==(t=c.apiKey)&&void 0!==t?t:null,l=null!==(n=c.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);y(u&&l&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=l,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,r.zd)((0,r.pd)(e)).link,n=t?(0,r.zd)((0,r.pd)(t)).deep_link_id:null,i=(0,r.zd)((0,r.pd)(e)).deep_link_id;return(i?(0,r.zd)((0,r.pd)(i)).link:null)||i||n||t||e}(e);try{return new Oe(t)}catch(n){return null}}}class Le{constructor(){this.providerId=Le.PROVIDER_ID}static credential(e,t){return xe._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Oe.parseLink(t);return y(n,"argument-error"),xe._fromEmailAndCode(e,n.code,n.tenantId)}}Le.PROVIDER_ID="password",Le.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Le.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ne{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Pe extends Ne{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fe extends Pe{constructor(){super("facebook.com")}static credential(e){return De._fromParams({providerId:Fe.PROVIDER_ID,signInMethod:Fe.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fe.credentialFromTaggedObject(e)}static credentialFromError(e){return Fe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Fe.credential(e.oauthAccessToken)}catch(t){return null}}}Fe.FACEBOOK_SIGN_IN_METHOD="facebook.com",Fe.PROVIDER_ID="facebook.com";class je extends Pe{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return De._fromParams({providerId:je.PROVIDER_ID,signInMethod:je.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return je.credentialFromTaggedObject(e)}static credentialFromError(e){return je.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return je.credential(t,n)}catch(r){return null}}}je.GOOGLE_SIGN_IN_METHOD="google.com",je.PROVIDER_ID="google.com";class Be extends Pe{constructor(){super("github.com")}static credential(e){return De._fromParams({providerId:Be.PROVIDER_ID,signInMethod:Be.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Be.credentialFromTaggedObject(e)}static credentialFromError(e){return Be.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Be.credential(e.oauthAccessToken)}catch(t){return null}}}Be.GITHUB_SIGN_IN_METHOD="github.com",Be.PROVIDER_ID="github.com";class Ue extends Pe{constructor(){super("twitter.com")}static credential(e,t){return De._fromParams({providerId:Ue.PROVIDER_ID,signInMethod:Ue.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ue.credentialFromTaggedObject(e)}static credentialFromError(e){return Ue.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Ue.credential(t,n)}catch(r){return null}}}Ue.TWITTER_SIGN_IN_METHOD="twitter.com",Ue.PROVIDER_ID="twitter.com";class Ve{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await $._fromIdTokenResponse(e,n,r),o=He(n);return new Ve({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=He(n);return new Ve({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function He(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class qe extends r.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,qe.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new qe(e,t,n,r)}}function ze(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw qe._fromErrorAndOperation(e,n,t,r);throw n}))}async function $e(e,t,n=!1){const r=await B(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ve._forOperation(e,"link",r)}async function We(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await B(e,ze(r,i,t,e),n);y(o.idToken,r,"internal-error");const s=j(o.idToken);y(s,r,"internal-error");const{sub:a}=s;return y(e.uid===a,r,"user-mismatch"),Ve._forOperation(e,i,o)}catch(o){throw"auth/user-not-found"===(null===o||void 0===o?void 0:o.code)&&p(r,"user-mismatch"),o}}async function Ge(e,t,n=!1){const r="signIn",i=await ze(e,r,t),o=await Ve._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Ze(e,t){return Ge(ye(e),t)}function Ke(e,t,n){var r;y((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),y("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(y(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(y(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Je(e,t,n){var r;const i=ye(e),o={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function s(e,t){y(t.handleCodeInApp,i,"argument-error"),t&&Ke(i,e,t)}if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await me(i,o,"getOobCode",!0);s(e,n),await ke(i,e)}else s(o,n),await ke(i,o).catch((async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await me(i,o,"getOobCode",!0);s(e,n),await ke(i,e)}}))}function Xe(e,t){const n=Oe.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}async function Ye(e,t,n){const i=(0,r.m9)(e),o=Le.credentialWithLink(t,n||w());return y(o._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Ze(i,o)}async function Qe(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const i=(0,r.m9)(e),o={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},s=await B(i,async function(e,t){return D(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((({providerId:e})=>"password"===e));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}function et(e,t){return tt((0,r.m9)(e),t,null)}async function tt(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await B(e,Se(r,i));await e._updateTokensIfNecessary(o,!0)}function nt(e,t,n,i){return(0,r.m9)(e).onAuthStateChanged(t,n,i)}function rt(e){return(0,r.m9)(e).signOut()}new WeakMap;const it="__sak";class ot{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(it,"1"),this.storage.removeItem(it),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class st extends ot{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,r.z$)();return ee(e)||se(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=ae(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);(0,r.w1)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}st.type="LOCAL";const at=st;class ct extends ot{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ct.type="SESSION";const ut=ct;class lt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new lt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ht(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}lt.receivers=[];class dt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const c=ht("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function pt(){return window}function ft(){return"undefined"!==typeof pt().WorkerGlobalScope&&"function"===typeof pt().importScripts}const mt="firebaseLocalStorageDb",gt="firebaseLocalStorage",vt="fbase_key";class yt{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function _t(e,t){return e.transaction([gt],t?"readwrite":"readonly").objectStore(gt)}function bt(){const e=indexedDB.open(mt,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(gt,{keyPath:vt})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(gt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(mt);return new yt(e).toPromise()}(),t(await bt()))}))}))}async function wt(e,t,n){const r=_t(e,!0).put({[vt]:t,value:n});return new yt(r).toPromise()}function Ct(e,t){const n=_t(e,!0).delete(t);return new yt(n).toPromise()}class Et{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await bt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ft()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lt._getInstance(ft()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new dt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bt();return await wt(e,it,"1"),await Ct(e,it),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>wt(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=_t(e,!1).get(t),r=await new yt(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ct(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=_t(e,!1).getAll();return new yt(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Et.type="LOCAL";const St=Et;pe("rcb"),new S(3e4,6e4);const Tt="recaptcha";async function It(e,t,n){var r;const i=await n.verify();try{let o;if(y("string"===typeof i,e,"argument-error"),y(n.type===Tt,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){y("enroll"===t.type,e,"internal-error");const n=await function(e,t){return D(e,"POST","/v2/accounts/mfaEnrollment:start",A(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{y("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;y(n,e,"missing-multi-factor-info");const s=await function(e,t){return D(e,"POST","/v2/accounts/mfaSignIn:start",A(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return D(e,"POST","/v1/accounts:sendVerificationCode",A(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class kt{constructor(e){this.providerId=kt.PROVIDER_ID,this.auth=ye(e)}verifyPhoneNumber(e,t){return It(this.auth,e,(0,r.m9)(t))}static credential(e,t){return Me._fromVerification(e,t)}static credentialFromResult(e){const t=e;return kt.credentialFromTaggedObject(t)}static credentialFromError(e){return kt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Me._fromTokenResponse(t,n):null}}function xt(e,t){return t?G(t):(y(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}kt.PROVIDER_ID="phone",kt.PHONE_SIGN_IN_METHOD="phone";class At extends Ee{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ae(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ae(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ae(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Dt(e){return Ge(e.auth,new At(e),e.bypassAuthState)}function Rt(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),We(n,new At(e),e.bypassAuthState)}async function Mt(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),$e(n,new At(e),e.bypassAuthState)}class Ot{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dt;case"linkViaPopup":case"linkViaRedirect":return Mt;case"reauthViaPopup":case"reauthViaRedirect":return Rt;default:p(this.auth,"internal-error")}}resolve(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Lt=new S(2e3,1e4);async function Nt(e,t,n){const r=ye(e);g(e,t,Ne);const i=xt(r,n);return new Pt(r,"signInViaPopup",t,i).executeNotNull()}class Pt extends Ot{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Pt.currentPopupAction&&Pt.currentPopupAction.cancel(),Pt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return y(e,this.auth,"internal-error"),e}async onExecution(){b(1===this.filter.length,"Popup operations only handle one event");const e=ht();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(f(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(f(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(f(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Lt.get())};e()}}Pt.currentPopupAction=null;const Ft=new Map;class jt extends Ot{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Ft.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Vt(t),r=Ut(e);if(!(await r._isAvailable()))return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Ft.set(this.auth._key(),e)}return this.bypassAuthState||Ft.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Bt(e,t){Ft.set(e._key(),t)}function Ut(e){return G(e._redirectPersistence)}function Vt(e){return J("pendingRedirect",e.config.apiKey,e.name)}async function Ht(e,t,n=!1){const r=ye(e),i=xt(r,t),o=new jt(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class qt{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $t(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!$t(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(f(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zt(e))}saveEventToCache(e){this.cachedEventUids.add(zt(e)),this.lastProcessedEventTime=Date.now()}}function zt(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function $t({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null===t||void 0===t?void 0:t.code)}const Wt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gt=/^https?/;async function Zt(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return D(e,"GET","/v1/projects",t)}(e);for(const r of t)try{if(Kt(r))return}catch(n){}p(e,"unauthorized-domain")}function Kt(e){const t=w(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Gt.test(n))return!1;if(Wt.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Jt=new S(3e4,6e4);function Xt(){const e=pt().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Yt=null;function Qt(e){return Yt=Yt||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){Xt(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Xt(),n(f(e,"network-request-failed"))},timeout:Jt.get()})}if(null===(i=null===(r=pt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=pt().gapi)||void 0===o?void 0:o.load)){const t=pe("iframefcb");return pt()[t]=()=>{gapi.load?s():n(f(e,"network-request-failed"))},de(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw Yt=null,e}))}(e),Yt}const en=new S(5e3,15e3),tn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rn(e){const t=e.config;y(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?T(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,o={apiKey:t.apiKey,appName:e.name,v:i.Jn},s=nn.get(e.config.apiHost);s&&(o.eid=s);const a=e._getFrameworks();return a.length&&(o.fw=a.join(",")),`${n}?${(0,r.xO)(o).slice(1)}`}const on={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function an(e,t,n,i=500,o=600){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},on),{width:i.toString(),height:o.toString(),top:s,left:a}),l=(0,r.z$)().toLowerCase();n&&(c=te(l)?"_blank":n),Q(l)&&(t=t||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=(0,r.z$)()){var t;return se(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new sn(null);const d=window.open(t||"",c,h);y(d,e,"popup-blocked");try{d.focus()}catch(p){}return new sn(d)}const cn="__/auth/handler",un="emulator/auth/handler",ln=encodeURIComponent("fac");async function hn(e,t,n,o,s,a){y(e.config.authDomain,e,"auth-domain-config-required"),y(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:o,v:i.Jn,eventId:s};if(t instanceof Ne){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",(0,r.xb)(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))c[e]=t}if(t instanceof Pe){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(c.scopes=e.join(","))}e.tenantId&&(c.tid=e.tenantId);const u=c;for(const r of Object.keys(u))void 0===u[r]&&delete u[r];const l=await e._getAppCheckToken(),h=l?`#${ln}=${encodeURIComponent(l)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${cn}`;return T(e,un)}(e)}?${(0,r.xO)(u).slice(1)}${h}`}const dn="webStorageSupport";const pn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ut,this._completeRedirectFn=Ht,this._overrideRedirectResult=Bt}async _openPopup(e,t,n,r){var i;b(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return an(e,await hn(e,t,n,w(),r),ht())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){pt().location.href=e}(await hn(e,t,n,w(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(b(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Qt(e),n=pt().gapi;return y(n,e,"internal-error"),t.open({where:document.body,url:rn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tn,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=f(e,"network-request-failed"),o=pt().setTimeout((()=>{r(i)}),en.get());function s(){pt().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new qt(e);return t.register("authEvent",(t=>{y(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(dn,{type:dn},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),p(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Zt(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ae()||ee()||se()}};var fn="@firebase/auth",mn="1.0.0";class gn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const vn=(0,r.Pz)("authIdTokenMaxAge")||300;let yn=null;function _n(e=(0,i.Mq)()){const t=(0,i.qX)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,i.qX)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),i=n.getOptions();if((0,r.vZ)(i,null!==t&&void 0!==t?t:{}))return e;p(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:pn,persistence:[St,at,ut]}),o=(0,r.Pz)("authTokenSyncURL");if(o){const e=(s=o,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>vn)return;const r=null===t||void 0===t?void 0:t.token;yn!==r&&(yn=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){(0,r.m9)(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,i){(0,r.m9)(e).onIdTokenChanged(t,n,i)}(n,(t=>e(t)))}var s;const a=(0,r.q4)("auth");return a&&be(n,`http://${a}`),n}var bn;bn="Browser",(0,i.Xd)(new a.wA("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;y(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:o,authDomain:s,clientPlatform:bn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ce(bn)},c=new ve(n,r,i,a);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(G);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,t),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,i.Xd)(new a.wA("auth-internal",(e=>(e=>new gn(e))(ye(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,i.KN)(fn,mn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(bn)),(0,i.KN)(fn,mn,"esm2017")},8747:function(e,t,n){"use strict";n.d(t,{ET:function(){return $h},hJ:function(){return Ml},oe:function(){return zh},JU:function(){return Ol},QT:function(){return Bh},PL:function(){return Vh},ad:function(){return Fl},b9:function(){return Ih},cf:function(){return Wh},or:function(){return Ch},Xo:function(){return Sh},IO:function(){return yh},Bt:function(){return Kh},pl:function(){return Hh},r7:function(){return qh},ar:function(){return bh}});var r,i=n(5500),o=n(6387),s=n(8207),a=n(3395),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},u={},l=l||{},h=c||self;function d(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var f="closure_uid_"+(1e9*Math.random()>>>0),m=0;function g(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function y(e,t,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:v).apply(null,arguments)}function _(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function b(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function w(){this.s=this.s,this.o=this.o}w.prototype.s=!1,w.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,f)&&e[f]||(e[f]=++m))},w.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const C=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function E(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function S(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(d(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function T(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var I=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{h.addEventListener("test",(()=>{}),t),h.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function k(e){return/^[\s\xa0]*$/.test(e)}function x(){var e=h.navigator;return e&&(e=e.userAgent)?e:""}function A(e){return-1!=x().indexOf(e)}function D(e){return D[" "](e),e}D[" "]=function(){};var R,M,O=A("Opera"),L=A("Trident")||A("MSIE"),N=A("Edge"),P=N||L,F=A("Gecko")&&!(-1!=x().toLowerCase().indexOf("webkit")&&!A("Edge"))&&!(A("Trident")||A("MSIE"))&&!A("Edge"),j=-1!=x().toLowerCase().indexOf("webkit")&&!A("Edge");function B(){var e=h.document;return e?e.documentMode:void 0}e:{var U="",V=function(){var e=x();return F?/rv:([^\);]+)(\)|;)/.exec(e):N?/Edge\/([\d\.]+)/.exec(e):L?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):j?/WebKit\/(\S+)/.exec(e):O?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(V&&(U=V?V[1]:""),L){var H=B();if(null!=H&&H>parseFloat(U)){R=String(H);break e}}R=U}if(h.document&&L){var q=B();M=q||(parseInt(R,10)||void 0)}else M=void 0;var z=M;function $(e,t){if(T.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(F){e:{try{D(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:W[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&$.$.h.call(this)}}b($,T);var W={2:"touch",3:"pen",4:"mouse"};$.prototype.h=function(){$.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),Z=0;function K(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Z,this.fa=this.ia=!1}function J(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function X(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Y(e){const t={};for(const n in e)t[n]=e[n];return t}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Q.length;t++)n=Q[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function te(e){this.src=e,this.g={},this.h=0}function ne(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=C(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(J(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function re(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}te.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=re(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new K(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var ie="closure_lm_"+(1e6*Math.random()|0),oe={};function se(e,t,n,r,i){if(r&&r.once)return ce(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)se(e,t[o],n,r,i);return null}return n=me(n),e&&e[G]?e.O(t,n,p(r)?!!r.capture:!!r,i):ae(e,t,n,!1,r,i)}function ae(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=pe(e);if(a||(e[ie]=a=new te(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=de;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)I||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(he(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ce(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ce(e,t[o],n,r,i);return null}return n=me(n),e&&e[G]?e.P(t,n,p(r)?!!r.capture:!!r,i):ae(e,t,n,!0,r,i)}function ue(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ue(e,t[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=me(n),e&&e[G]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=re(o=e.g[t],n,r,i))&&(J(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=pe(e))&&(t=e.g[t.toString()],e=-1,t&&(e=re(t,n,r,i)),(n=-1<e?t[e]:null)&&le(n))}function le(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[G])ne(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(he(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=pe(t))?(ne(n,e),0==n.h&&(n.src=null,t[ie]=null)):J(e)}}}function he(e){return e in oe?oe[e]:oe[e]="on"+e}function de(e,t){if(e.fa)e=!0;else{t=new $(t,this);var n=e.listener,r=e.la||e.src;e.ia&&le(e),e=n.call(r,t)}return e}function pe(e){return(e=e[ie])instanceof te?e:null}var fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(e){return"function"===typeof e?e:(e[fe]||(e[fe]=function(t){return e.handleEvent(t)}),e[fe])}function ge(){w.call(this),this.i=new te(this),this.S=this,this.J=null}function ve(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new T(t,e);else if(t instanceof T)t.target=t.target||e;else{var i=t;ee(t=new T(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=ye(s,r,!0,t)&&i}if(i=ye(s=t.g=e,r,!0,t)&&i,i=ye(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ye(s=t.g=n[o],r,!1,t)&&i}function ye(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&ne(e.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}b(ge,w),ge.prototype[G]=!0,ge.prototype.removeEventListener=function(e,t,n,r){ue(this,e,t,n,r)},ge.prototype.N=function(){if(ge.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)J(n[r]);delete t.g[e],t.h--}}this.J=null},ge.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ge.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var _e=h.JSON.stringify;function be(){var e=ke;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var we=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Ce),(e=>e.reset()));class Ce{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ee(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Se(e){h.setTimeout((()=>{throw e}),0)}let Te,Ie=!1,ke=new class{constructor(){this.h=this.g=null}add(e,t){const n=we.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},xe=()=>{const e=h.Promise.resolve(void 0);Te=()=>{e.then(Ae)}};var Ae=()=>{for(var e;e=be();){try{e.h.call(e.g)}catch(n){Se(n)}var t=we;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ie=!1};function De(e,t){ge.call(this),this.h=e||1,this.g=t||h,this.j=y(this.qb,this),this.l=Date.now()}function Re(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Me(e,t,n){if("function"===typeof e)n&&(e=y(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=y(e.handleEvent,e)}return 2147483647<Number(t)?-1:h.setTimeout(e,t||0)}function Oe(e){e.g=Me((()=>{e.g=null,e.i&&(e.i=!1,Oe(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}b(De,ge),(r=De.prototype).ga=!1,r.T=null,r.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ve(this,"tick"),this.ga&&(Re(this),this.start()))}},r.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.N=function(){De.$.N.call(this),Re(this),delete this.g};class Le extends w{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Oe(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ne(e){w.call(this),this.h=e,this.g={}}b(Ne,w);var Pe=[];function Fe(e,t,n,r){Array.isArray(n)||(n&&(Pe[0]=n.toString()),n=Pe);for(var i=0;i<n.length;i++){var o=se(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function je(e){X(e.g,(function(e,t){this.g.hasOwnProperty(t)&&le(e)}),e),e.g={}}function Be(){this.g=!0}function Ue(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return _e(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Ne.prototype.N=function(){Ne.$.N.call(this),je(this)},Ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Be.prototype.Ea=function(){this.g=!1},Be.prototype.info=function(){};var Ve={},He=null;function qe(){return He=He||new ge}function ze(e){T.call(this,Ve.Ta,e)}function $e(e){const t=qe();ve(t,new ze(t))}function We(e,t){T.call(this,Ve.STAT_EVENT,e),this.stat=t}function Ge(e){const t=qe();ve(t,new We(t,e))}function Ze(e,t){T.call(this,Ve.Ua,e),this.size=t}function Ke(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){e()}),t)}Ve.Ta="serverreachability",b(ze,T),Ve.STAT_EVENT="statevent",b(We,T),Ve.Ua="timingevent",b(Ze,T);var Je={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Xe={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ye(){}function Qe(e){return e.h||(e.h=e.i())}function et(){}Ye.prototype.h=null;var tt,nt={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rt(){T.call(this,"d")}function it(){T.call(this,"c")}function ot(){}function st(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ne(this),this.P=ct,e=P?125:void 0,this.V=new De(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new at}function at(){this.i=null,this.g="",this.h=!1}b(rt,T),b(it,T),b(ot,Ye),ot.prototype.g=function(){return new XMLHttpRequest},ot.prototype.i=function(){return{}},tt=new ot;var ct=45e3,ut={},lt={};function ht(e,t,n){e.L=1,e.v=Dt(Tt(t)),e.s=n,e.S=!0,dt(e,null)}function dt(e,t){e.G=Date.now(),gt(e),e.A=Tt(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),qt(n.i,"t",r),e.C=0,n=e.l.J,e.h=new at,e.g=qn(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Le(y(e.Pa,e,e.g),e.O)),Fe(e.U,e.g,"readystatechange",e.nb),t=e.I?Y(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),$e(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function pt(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function ft(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=mt(e,n),r==lt){4==t&&(e.o=4,Ge(14),i=!1),Ue(e.j,e.m,null,"[Incomplete Response]");break}if(r==ut){e.o=4,Ge(15),Ue(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ue(e.j,e.m,r,null),wt(e,r)}pt(e)&&r!=lt&&r!=ut&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ge(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Nn(t),t.M=!0,Ge(11))):(Ue(e.j,e.m,n,"[Invalid Chunked Response]"),bt(e),_t(e))}function mt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?lt:(n=Number(t.substring(n,r)),isNaN(n)?ut:(r+=1)+n>t.length?lt:(t=t.slice(r,r+n),e.C=r+n,t))}function gt(e){e.Y=Date.now()+e.P,vt(e,e.P)}function vt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ke(y(e.lb,e),t)}function yt(e){e.B&&(h.clearTimeout(e.B),e.B=null)}function _t(e){0==e.l.H||e.J||jn(e.l,e)}function bt(e){yt(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Re(e.V),je(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function wt(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Kt(n.i,e)))if(!e.K&&Kt(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Fn(n),kn(n)}Ln(n),Ge(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ke(y(n.ib,n),6e3));if(1>=Zt(n.i)&&n.oa){try{n.oa()}catch(u){}n.oa=void 0}}else Un(n,11)}else if((e.K||n.g==e)&&Fn(n),!k(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const l=u[5];null!=l&&"number"===typeof l&&0<l&&(r=1.5*l,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Jt(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,At(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=Hn(r,r.J?r.pa:null,r.Y),s.K){Xt(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&(yt(a),gt(a)),r.g=s}else On(r);0<n.j.length&&An(n)}else"stop"!=u[0]&&"close"!=u[0]||Un(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Un(n,7):In(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}$e()}catch(u){}}function Ct(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(d(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(r=st.prototype).setTimeout=function(e){this.P=e},r.nb=function(e){e=e.target;const t=this.M;t&&3==bn(e)?t.l():this.Pa(e)},r.Pa=function(e){try{if(e==this.g)e:{const l=bn(this.g);var t=this.g.Ia();this.g.da();if(!(3>l)&&(3!=l||P||this.g&&(this.h.h||this.g.ja()||wn(this.g)))){this.J||4!=l||7==t||$e(),yt(this);var n=this.g.da();this.ca=n;t:if(pt(this)){var r=wn(this.g);e="";var i=r.length,o=4==bn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){bt(this),_t(this);var s="";break t}this.h.i=new h.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Ge(12),bt(this),_t(this);break e}Ue(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wt(this,n)}this.S?(ft(this,l,s),P&&this.i&&3==l&&(Fe(this.U,this.V,"tick",this.mb),this.V.start())):(Ue(this.j,this.m,s,null),wt(this,s)),4==l&&bt(this),this.i&&!this.J&&(4==l?jn(this.l,this):(this.i=!1,gt(this)))}else(function(e){const t={};e=(e.g&&2<=bn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(k(e[r]))continue;var n=Ee(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Ge(12)):(this.o=0,Ge(13)),bt(this),_t(this)}}}catch(l){}},r.mb=function(){if(this.g){var e=bn(this.g),t=this.g.ja();this.C<t.length&&(yt(this),ft(this,e,t),this.i&&4!=e&&gt(this))}},r.cancel=function(){this.J=!0,bt(this)},r.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&($e(),Ge(17)),bt(this),this.o=2,_t(this)):vt(this,this.Y-e)};var Et=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function St(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof St){this.h=e.h,It(this,e.j),this.s=e.s,this.g=e.g,kt(this,e.m),this.l=e.l;var t=e.i,n=new Bt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),xt(this,n),this.o=e.o}else e&&(t=String(e).match(Et))?(this.h=!1,It(this,t[1]||"",!0),this.s=Rt(t[2]||""),this.g=Rt(t[3]||"",!0),kt(this,t[4]),this.l=Rt(t[5]||"",!0),xt(this,t[6]||"",!0),this.o=Rt(t[7]||"")):(this.h=!1,this.i=new Bt(null,this.h))}function Tt(e){return new St(e)}function It(e,t,n){e.j=n?Rt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function kt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function xt(e,t,n){t instanceof Bt?(e.i=t,function(e,t){t&&!e.j&&(Ut(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Vt(this,t),qt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Mt(t,Ft)),e.i=new Bt(t,e.h))}function At(e,t,n){e.i.set(t,n)}function Dt(e){return At(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Rt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Mt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ot),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ot(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}St.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Mt(t,Lt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Mt(t,Lt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Mt(n,"/"==n.charAt(0)?Pt:Nt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Mt(n,jt)),e.join("")};var Lt=/[#\/\?@]/g,Nt=/[#\?:]/g,Pt=/[#\?]/g,Ft=/[#\?@]/g,jt=/#/g;function Bt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ut(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Vt(e,t){Ut(e),t=zt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ht(e,t){return Ut(e),t=zt(e,t),e.g.has(t)}function qt(e,t,n){Vt(e,t),0<n.length&&(e.i=null,e.g.set(zt(e,t),E(n)),e.h+=n.length)}function zt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(r=Bt.prototype).add=function(e,t){Ut(this),this.i=null,e=zt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){Ut(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},r.ta=function(){Ut(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},r.Z=function(e){Ut(this);let t=[];if("string"===typeof e)Ht(this,e)&&(t=t.concat(this.g.get(zt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},r.set=function(e,t){return Ut(this),this.i=null,Ht(this,e=zt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};function $t(e){this.l=e||Wt,h.PerformanceNavigationTiming?e=0<(e=h.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(h.g&&h.g.Ka&&h.g.Ka()&&h.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Wt=10;function Gt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Zt(e){return e.h?1:e.g?e.g.size:0}function Kt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Jt(e,t){e.g?e.g.add(t):e.h=t}function Xt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Yt(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return E(e.i)}$t.prototype.cancel=function(){if(this.i=Yt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Qt;function en(){this.g=new class{stringify(e){return h.JSON.stringify(e,void 0)}parse(e){return h.JSON.parse(e,void 0)}}}function tn(e,t,n){const r=n||"";try{Ct(e,(function(e,n){let i=e;p(e)&&(i=_e(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function nn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function rn(e){this.l=e.fc||null,this.j=e.ob||!1}function on(e,t){ge.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=sn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}b(rn,Ye),rn.prototype.g=function(){return new on(this.l,this.j)},rn.prototype.i=(Qt={},function(){return Qt}),b(on,ge);var sn=0;function an(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function cn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,un(e)}function un(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=on.prototype).open=function(e,t){if(this.readyState!=sn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,un(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||h).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cn(this)),this.readyState=sn},r.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,un(this)),this.g&&(this.readyState=3,un(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof h.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;an(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},r.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?cn(this):un(this),3==this.readyState&&an(this)}},r.Za=function(e){this.g&&(this.response=this.responseText=e,cn(this))},r.Ya=function(e){this.g&&(this.response=e,cn(this))},r.ka=function(){this.g&&cn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(on.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ln=h.JSON.parse;function hn(e){ge.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dn,this.L=this.M=!1}b(hn,ge);var dn="",pn=/^https?$/i,fn=["POST","PUT"];function mn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,gn(e),yn(e)}function gn(e){e.F||(e.F=!0,ve(e,"complete"),ve(e,"error"))}function vn(e){if(e.h&&"undefined"!=typeof l&&(!e.C[1]||4!=bn(e)||2!=e.da()))if(e.v&&4==bn(e))Me(e.La,0,e);else if(ve(e,"readystatechange"),4==bn(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Et)[1]||null;!i&&h.self&&h.self.location&&(i=h.self.location.protocol.slice(0,-1)),r=!pn.test(i?i.toLowerCase():"")}n=r}if(n)ve(e,"complete"),ve(e,"success");else{e.m=6;try{var o=2<bn(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",gn(e)}}finally{yn(e)}}}function yn(e,t){if(e.g){_n(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ve(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function _n(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(h.clearTimeout(e.A),e.A=null)}function bn(e){return e.g?e.g.readyState:0}function wn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case dn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(xr){return null}}function Cn(e){let t="";return X(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function En(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Cn(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):At(e,t,n))}function Sn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Tn(e){this.Ga=0,this.j=[],this.l=new Be,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Sn("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Sn("baseRetryDelayMs",5e3,e),this.hb=Sn("retryDelaySeedMs",1e4,e),this.eb=Sn("forwardChannelMaxRetries",2,e),this.xa=Sn("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new $t(e&&e.concurrentRequestLimit),this.Ja=new en,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function In(e){if(xn(e),3==e.H){var t=e.W++,n=Tt(e.I);if(At(n,"SID",e.K),At(n,"RID",t),At(n,"TYPE","terminate"),Rn(e,n),(t=new st(e,e.l,t)).L=2,t.v=Dt(Tt(n)),n=!1,h.navigator&&h.navigator.sendBeacon)try{n=h.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&h.Image&&((new Image).src=t.v,n=!0),n||(t.g=qn(t.l,null),t.g.ha(t.v)),t.G=Date.now(),gt(t)}Vn(e)}function kn(e){e.g&&(Nn(e),e.g.cancel(),e.g=null)}function xn(e){kn(e),e.u&&(h.clearTimeout(e.u),e.u=null),Fn(e),e.i.cancel(),e.m&&("number"===typeof e.m&&h.clearTimeout(e.m),e.m=null)}function An(e){if(!Gt(e.i)&&!e.m){e.m=!0;var t=e.Na;Te||xe(),Ie||(Te(),Ie=!0),ke.add(t,e),e.C=0}}function Dn(e,t){var n;n=t?t.m:e.W++;const r=Tt(e.I);At(r,"SID",e.K),At(r,"RID",n),At(r,"AID",e.V),Rn(e,r),e.o&&e.s&&En(r,e.o,e.s),n=new st(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Mn(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Jt(e.i,n),ht(n,r,t)}function Rn(e,t){e.na&&X(e.na,(function(e,n){At(t,n,e)})),e.h&&Ct({},(function(e,n){At(t,n,e)}))}function Mn(e,t,n){n=Math.min(e.j.length,n);var r=e.h?y(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const c=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{tn(c,e,"req"+n+"_")}catch(o){r&&r(c)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function On(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Te||xe(),Ie||(Te(),Ie=!0),ke.add(t,e),e.A=0}}function Ln(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Ke(y(e.Ma,e),Bn(e,e.A)),e.A++,!0)}function Nn(e){null!=e.B&&(h.clearTimeout(e.B),e.B=null)}function Pn(e){e.g=new st(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Tt(e.wa);At(t,"RID","rpc"),At(t,"SID",e.K),At(t,"AID",e.V),At(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&At(t,"TO",e.qa),At(t,"TYPE","xmlhttp"),Rn(e,t),e.o&&e.s&&En(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Dt(Tt(t)),n.s=null,n.S=!0,dt(n,e)}function Fn(e){null!=e.v&&(h.clearTimeout(e.v),e.v=null)}function jn(e,t){var n=null;if(e.g==t){Fn(e),Nn(e),e.g=null;var r=2}else{if(!Kt(e.i,t))return;n=t.F,Xt(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;ve(r=qe(),new Ze(r,n)),An(e)}else On(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Zt(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Ke(y(e.Na,e,t),Bn(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ln(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Un(e,5);break;case 4:Un(e,10);break;case 3:Un(e,6);break;default:Un(e,2)}}function Bn(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Un(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=y(e.pb,e);n||(n=new St("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||It(n,"https"),Dt(n)),function(e,t){const n=new Be;if(h.Image){const r=new Image;r.onload=_(nn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_(nn,n,r,"TestLoadImage: error",!1,t),r.onabort=_(nn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_(nn,n,r,"TestLoadImage: timeout",!1,t),h.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ge(2);e.H=0,e.h&&e.h.za(t),Vn(e),xn(e)}function Vn(e){if(e.H=0,e.ma=[],e.h){const t=Yt(e.i);0==t.length&&0==e.j.length||(S(e.ma,t),S(e.ma,e.j),e.i.i.length=0,E(e.j),e.j.length=0),e.h.ya()}}function Hn(e,t,n){var r=n instanceof St?Tt(n):new St(n);if(""!=r.g)t&&(r.g=t+"."+r.g),kt(r,r.m);else{var i=h.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new St(null);r&&It(o,r),t&&(o.g=t),i&&kt(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&At(r,n,t),At(r,"VER",e.ra),Rn(e,r),r}function qn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new hn(new rn({ob:!0})):new hn(e.va)).Oa(e.J),t}function zn(){}function $n(){if(L&&!(10<=Number(z)))throw Error("Environmental error: no available transport.")}function Wn(e,t){ge.call(this),this.g=new Tn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!k(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!k(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Kn(this)}function Gn(e){rt.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Zn(){it.call(this),this.status=1}function Kn(e){this.g=e}function Jn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Xn(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Yn(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(r=hn.prototype).Oa=function(e){this.M=e},r.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():tt.g(),this.C=this.u?Qe(this.u):Qe(tt),this.g.onreadystatechange=y(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void mn(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=h.FormData&&e instanceof h.FormData,!(0<=C(fn,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_n(this),0<this.B&&((this.L=function(e){return L&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=y(this.ua,this)):this.A=Me(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){mn(this,o)}},r.ua=function(){"undefined"!=typeof l&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ve(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ve(this,"complete"),ve(this,"abort"),yn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yn(this,!0)),hn.$.N.call(this)},r.La=function(){this.s||(this.G||this.v||this.l?vn(this):this.kb())},r.kb=function(){vn(this)},r.isActive=function(){return!!this.g},r.da=function(){try{return 2<bn(this)?this.g.status:-1}catch(Qt){return-1}},r.ja=function(){try{return this.g?this.g.responseText:""}catch(Qt){return""}},r.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ln(t)}},r.Ia=function(){return this.m},r.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(r=Tn.prototype).ra=8,r.H=1,r.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new st(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Y(o),ee(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Mn(this,i,t),At(n=Tt(this.I),"RID",e),At(n,"CVER",22),this.F&&At(n,"X-HTTP-Session-Id",this.F),Rn(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Cn(o)))+"&"+t:this.o&&En(n,this.o,o)),Jt(this.i,i),this.bb&&At(n,"TYPE","init"),this.P?(At(n,"$req",t),At(n,"SID","null"),i.aa=!0,ht(i,n,null)):ht(i,n,t),this.H=2}}else 3==this.H&&(e?Dn(this,e):0==this.j.length||Gt(this.i)||Dn(this))},r.Ma=function(){if(this.u=null,Pn(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ke(y(this.jb,this),e)}},r.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ge(10),kn(this),Pn(this))},r.ib=function(){null!=this.v&&(this.v=null,kn(this),Ln(this),Ge(19))},r.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ge(2)):(this.l.info("Failed to ping google.com"),Ge(1))},r.isActive=function(){return!!this.h&&this.h.isActive(this)},(r=zn.prototype).Ba=function(){},r.Aa=function(){},r.za=function(){},r.ya=function(){},r.isActive=function(){return!0},r.Va=function(){},$n.prototype.g=function(e,t){return new Wn(e,t)},b(Wn,ge),Wn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ge(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Hn(e,null,e.Y),An(e)},Wn.prototype.close=function(){In(this.g)},Wn.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=_e(e),e=n);t.j.push(new class{constructor(e,t){this.g=e,this.map=t}}(t.fb++,e)),3==t.H&&An(t)},Wn.prototype.N=function(){this.g.h=null,delete this.j,In(this.g),delete this.g,Wn.$.N.call(this)},b(Gn,rt),b(Zn,it),b(Kn,zn),Kn.prototype.Ba=function(){ve(this.g,"a")},Kn.prototype.Aa=function(e){ve(this.g,new Gn(e))},Kn.prototype.za=function(e){ve(this.g,new Zn)},Kn.prototype.ya=function(){ve(this.g,"b")},b(Jn,(function(){this.blockSize=-1})),Jn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Jn.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Xn(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Xn(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Xn(this,r),i=0;break}}this.h=i,this.i+=t},Jn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Qn={};function er(e){return-128<=e&&128>e?function(e,t){var n=Qn;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Yn([0|e],0>e?-1:0)})):new Yn([0|e],0>e?-1:0)}function tr(e){if(isNaN(e)||!isFinite(e))return rr;if(0>e)return cr(tr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=nr;return new Yn(t,0)}var nr=4294967296,rr=er(0),ir=er(1),or=er(16777216);function sr(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function ar(e){return-1==e.h}function cr(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Yn(n,~e.h).add(ir)}function ur(e,t){return e.add(cr(t))}function lr(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function hr(e,t){this.g=e,this.h=t}function dr(e,t){if(sr(t))throw Error("division by zero");if(sr(e))return new hr(rr,rr);if(ar(e))return t=dr(cr(e),t),new hr(cr(t.g),cr(t.h));if(ar(t))return t=dr(e,cr(t)),new hr(cr(t.g),t.h);if(30<e.g.length){if(ar(e)||ar(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ir,r=t;0>=r.X(e);)n=pr(n),r=pr(r);var i=fr(n,1),o=fr(r,1);for(r=fr(r,2),n=fr(n,2);!sr(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=fr(r,1),n=fr(n,1)}return t=ur(e,i.R(t)),new hr(i,t)}for(i=rr;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=tr(n)).R(t);ar(s)||0<s.X(e);)s=(o=tr(n-=r)).R(t);sr(o)&&(o=ir),i=i.add(o),e=ur(e,s)}return new hr(i,e)}function pr(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Yn(n,e.h)}function fr(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Yn(i,e.h)}(r=Yn.prototype).ea=function(){if(ar(this))return-cr(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:nr+r)*t,t*=nr}return e},r.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(sr(this))return"0";if(ar(this))return"-"+cr(this).toString(e);for(var t=tr(Math.pow(e,6)),n=this,r="";;){var i=dr(n,t).g,o=((0<(n=ur(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(sr(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},r.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},r.X=function(e){return ar(e=ur(this,e))?-1:sr(e)?0:1},r.abs=function(){return ar(this)?cr(this):this},r.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Yn(n,-2147483648&n[n.length-1]?-1:0)},r.R=function(e){if(sr(this)||sr(e))return rr;if(ar(this))return ar(e)?cr(this).R(cr(e)):cr(cr(this).R(e));if(ar(e))return cr(this.R(cr(e)));if(0>this.X(or)&&0>e.X(or))return tr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,c=65535&e.D(i);n[2*r+2*i]+=s*c,lr(n,2*r+2*i),n[2*r+2*i+1]+=o*c,lr(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,lr(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,lr(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Yn(n,0)},r.gb=function(e){return dr(this,e).h},r.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Yn(n,this.h&e.h)},r.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Yn(n,this.h|e.h)},r.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Yn(n,this.h^e.h)},$n.prototype.createWebChannel=$n.prototype.g,Wn.prototype.send=Wn.prototype.u,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,Je.NO_ERROR=0,Je.TIMEOUT=8,Je.HTTP_ERROR=6,Xe.COMPLETE="complete",et.EventType=nt,nt.OPEN="a",nt.CLOSE="b",nt.ERROR="c",nt.MESSAGE="d",ge.prototype.listen=ge.prototype.O,hn.prototype.listenOnce=hn.prototype.P,hn.prototype.getLastError=hn.prototype.Sa,hn.prototype.getLastErrorCode=hn.prototype.Ia,hn.prototype.getStatus=hn.prototype.da,hn.prototype.getResponseJson=hn.prototype.Wa,hn.prototype.getResponseText=hn.prototype.ja,hn.prototype.send=hn.prototype.ha,hn.prototype.setWithCredentials=hn.prototype.Oa,Jn.prototype.digest=Jn.prototype.l,Jn.prototype.reset=Jn.prototype.reset,Jn.prototype.update=Jn.prototype.j,Yn.prototype.add=Yn.prototype.add,Yn.prototype.multiply=Yn.prototype.R,Yn.prototype.modulo=Yn.prototype.gb,Yn.prototype.compare=Yn.prototype.X,Yn.prototype.toNumber=Yn.prototype.ea,Yn.prototype.toString=Yn.prototype.toString,Yn.prototype.getBits=Yn.prototype.D,Yn.fromNumber=tr,Yn.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return cr(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=tr(Math.pow(n,8)),i=rr,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=tr(Math.pow(n,s)),i=i.R(s).add(tr(a))):i=(i=i.R(r)).add(tr(a))}return i};var mr=u.createWebChannelTransport=function(){return new $n},gr=u.getStatEventTarget=function(){return qe()},vr=u.ErrorCode=Je,yr=u.EventType=Xe,_r=u.Event=Ve,br=u.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wr=u.FetchXmlHttpFactory=rn,Cr=u.WebChannel=et,Er=u.XhrIo=hn,Sr=u.Md5=Jn,Tr=u.Integer=Yn;n(3542);const Ir="@firebase/firestore";class kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");let xr="10.0.0";const Ar=new s.Yd("@firebase/firestore");function Dr(){return Ar.logLevel}function Rr(e,...t){if(Ar.logLevel<=s.in.DEBUG){const n=t.map(Lr);Ar.debug(`Firestore (${xr}): ${e}`,...n)}}function Mr(e,...t){if(Ar.logLevel<=s.in.ERROR){const n=t.map(Lr);Ar.error(`Firestore (${xr}): ${e}`,...n)}}function Or(e,...t){if(Ar.logLevel<=s.in.WARN){const n=t.map(Lr);Ar.warn(`Firestore (${xr}): ${e}`,...n)}}function Lr(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Nr(e="Unexpected state"){const t=`FIRESTORE (${xr}) INTERNAL ASSERTION FAILED: `+e;throw Mr(t),new Error(t)}function Pr(e,t){e||Nr()}function Fr(e,t){return e}const jr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Br extends a.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Vr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(kr.UNAUTHENTICATED)))}shutdown(){}}class qr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class zr{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ur,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Rr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Rr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ur)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Rr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Pr("string"==typeof t.accessToken),new Vr(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pr(null===e||"string"==typeof e),new kr(e)}}class $r{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Wr{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new $r(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(kr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zr{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Rr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Rr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Rr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Rr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Pr("string"==typeof e.token),this.R=e.token,new Gr(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Kr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Jr{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Kr(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function Xr(e,t){return e<t?-1:e>t?1:0}function Yr(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Qr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Br(jr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Br(jr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Br(jr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Br(jr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qr.fromMillis(Date.now())}static fromDate(e){return Qr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Qr(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xr(this.nanoseconds,e.nanoseconds):Xr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ei{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ei(e)}static min(){return new ei(new Qr(0,0))}static max(){return new ei(new Qr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ti{constructor(e,t,n){void 0===t?t=0:t>e.length&&Nr(),void 0===n?n=e.length-t:n>e.length-t&&Nr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ti.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ni extends ti{construct(e,t,n){return new ni(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Br(jr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new ni(t)}static emptyPath(){return new ni([])}}const ri=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ii extends ti{construct(e,t,n){return new ii(e,t,n)}static isValidIdentifier(e){return ri.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ii.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ii(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Br(jr.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Br(jr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Br(jr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Br(jr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ii(t)}static emptyPath(){return new ii([])}}class oi{constructor(e){this.path=e}static fromPath(e){return new oi(ni.fromString(e))}static fromName(e){return new oi(ni.fromString(e).popFirst(5))}static empty(){return new oi(ni.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ni.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ni.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oi(new ni(e.slice()))}}class si{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}si.UNKNOWN_ID=-1;function ai(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ei.fromTimestamp(1e9===r?new Qr(n+1,0):new Qr(n,r));return new ui(i,oi.empty(),t)}function ci(e){return new ui(e.readTime,e.key,-1)}class ui{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ui(ei.min(),oi.empty(),-1)}static max(){return new ui(ei.max(),oi.empty(),-1)}}function li(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=oi.comparator(e.documentKey,t.documentKey),0!==n?n:Xr(e.largestBatchId,t.largestBatchId))}const hi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class di{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function pi(e){if(e.code!==jr.FAILED_PRECONDITION||e.message!==hi)throw e;Rr("LocalStore","Unexpectedly lost primary lease")}class fi{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Nr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fi(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof fi?t:fi.resolve(t)}catch(e){return fi.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):fi.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):fi.reject(t)}static resolve(e){return new fi(((t,n)=>{t(e)}))}static reject(e){return new fi(((t,n)=>{n(e)}))}static waitFor(e){return new fi(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=fi.resolve(!1);for(const n of e)t=t.next((e=>e?fi.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new fi(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{o[c]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new fi(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function mi(e){return"IndexedDbTransactionError"===e.name}class gi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}function vi(e){return null==e}function yi(e){return 0===e&&1/e==-1/0}function _i(e){return"number"==typeof e&&Number.isInteger(e)&&!yi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}gi.ae=-1;const bi=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wi=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ci=wi;function Ei(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Si(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ti(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ii{constructor(e,t){this.comparator=e,this.root=t||xi.EMPTY}insert(e,t){return new Ii(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(e){return new Ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ki(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ki(this.root,e,this.comparator,!1)}getReverseIterator(){return new ki(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ki(this.root,e,this.comparator,!0)}}class ki{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xi{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:xi.RED,this.left=null!=r?r:xi.EMPTY,this.right=null!=i?i:xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new xi(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return xi.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nr();if(this.right.isRed())throw Nr();const e=this.left.check();if(e!==this.right.check())throw Nr();return e+(this.isRed()?0:1)}}xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1,xi.EMPTY=new class{constructor(){this.size=0}get key(){throw Nr()}get value(){throw Nr()}get color(){throw Nr()}get left(){throw Nr()}get right(){throw Nr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new xi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ai{constructor(e){this.comparator=e,this.data=new Ii(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Di(this.data.getIterator())}getIteratorFrom(e){return new Di(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ai))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ai(this.comparator);return t.data=e,t}}class Di{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ri{constructor(e){this.fields=e,e.sort(ii.comparator)}static empty(){return new Ri([])}unionWith(e){let t=new Ai(ii.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ri(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yr(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Mi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Oi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Mi("Invalid base64 string: "+e):e}}(e);return new Oi(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Oi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Oi.EMPTY_BYTE_STRING=new Oi("");const Li=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(e){if(Pr(!!e),"string"==typeof e){let t=0;const n=Li.exec(e);if(Pr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Pi(e.seconds),nanos:Pi(e.nanos)}}function Pi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Fi(e){return"string"==typeof e?Oi.fromBase64String(e):Oi.fromUint8Array(e)}function ji(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Bi(e){const t=e.mapValue.fields.__previous_value__;return ji(t)?Bi(t):t}function Ui(e){const t=Ni(e.mapValue.fields.__local_write_time__.timestampValue);return new Qr(t.seconds,t.nanos)}class Vi{constructor(e,t,n,r,i,o,s,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=c}}class Hi{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Hi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Hi&&e.projectId===this.projectId&&e.database===this.database}}const qi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ji(e)?4:io(e)?9007199254740991:10:Nr()}function $i(e,t){if(e===t)return!0;const n=zi(e);if(n!==zi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ui(e).isEqual(Ui(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ni(e.timestampValue),r=Ni(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Fi(e.bytesValue).isEqual(Fi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Pi(e.geoPointValue.latitude)===Pi(t.geoPointValue.latitude)&&Pi(e.geoPointValue.longitude)===Pi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Pi(e.integerValue)===Pi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Pi(e.doubleValue),r=Pi(t.doubleValue);return n===r?yi(n)===yi(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Yr(e.arrayValue.values||[],t.arrayValue.values||[],$i);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ei(n)!==Ei(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!$i(n[i],r[i])))return!1;return!0}(e,t);default:return Nr()}}function Wi(e,t){return void 0!==(e.values||[]).find((e=>$i(e,t)))}function Gi(e,t){if(e===t)return 0;const n=zi(e),r=zi(t);if(n!==r)return Xr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Pi(e.integerValue||e.doubleValue),r=Pi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Zi(e.timestampValue,t.timestampValue);case 4:return Zi(Ui(e),Ui(t));case 5:return Xr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Fi(e),r=Fi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Xr(n[i],r[i]);if(0!==e)return e}return Xr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Xr(Pi(e.latitude),Pi(t.latitude));return 0!==n?n:Xr(Pi(e.longitude),Pi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Gi(n[i],r[i]);if(e)return e}return Xr(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===qi.mapValue&&t===qi.mapValue)return 0;if(e===qi.mapValue)return 1;if(t===qi.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Xr(r[s],o[s]);if(0!==e)return e;const t=Gi(n[r[s]],i[o[s]]);if(0!==t)return t}return Xr(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Nr()}}function Zi(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Xr(e,t);const n=Ni(e),r=Ni(t),i=Xr(n.seconds,r.seconds);return 0!==i?i:Xr(n.nanos,r.nanos)}function Ki(e){return Ji(e)}function Ji(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ni(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Fi(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return oi.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ji(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Ji(e.fields[i])}`;return n+"}"}(e.mapValue):Nr()}function Xi(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Yi(e){return!!e&&"integerValue"in e}function Qi(e){return!!e&&"arrayValue"in e}function eo(e){return!!e&&"nullValue"in e}function to(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function no(e){return!!e&&"mapValue"in e}function ro(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Si(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ro(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ro(e.arrayValue.values[n]);return t}return Object.assign({},e)}function io(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class oo{constructor(e){this.value=e}static empty(){return new oo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!no(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ro(t)}setAll(e){let t=ii.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ro(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());no(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];no(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Si(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new oo(ro(this.value))}}function so(e){const t=[];return Si(e.fields,((e,n)=>{const r=new ii([e]);if(no(n)){const e=so(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ri(t)}class ao{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new ao(e,0,ei.min(),ei.min(),ei.min(),oo.empty(),0)}static newFoundDocument(e,t,n,r){return new ao(e,1,t,ei.min(),n,r,0)}static newNoDocument(e,t){return new ao(e,2,t,ei.min(),ei.min(),oo.empty(),0)}static newUnknownDocument(e,t){return new ao(e,3,t,ei.min(),ei.min(),oo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ei.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ei.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ao&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ao(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class co{constructor(e,t){this.position=e,this.inclusive=t}}function uo(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?oi.comparator(oi.fromName(s.referenceValue),n.key):Gi(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function lo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!$i(e.position[n],t.position[n]))return!1;return!0}class ho{constructor(e,t="asc"){this.field=e,this.dir=t}}function po(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class fo{}class mo extends fo{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Eo(e,t,n):"array-contains"===t?new ko(e,n):"in"===t?new xo(e,n):"not-in"===t?new Ao(e,n):"array-contains-any"===t?new Do(e,n):new mo(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new So(e,n):new To(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Gi(t,this.value)):null!==t&&zi(this.value)===zi(t)&&this.matchesComparison(Gi(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Nr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class go extends fo{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new go(e,t)}matches(e){return vo(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le((e=>e.isInequality()));return null!==e?e.field:null}le(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function vo(e){return"and"===e.op}function yo(e){return _o(e)&&vo(e)}function _o(e){for(const t of e.filters)if(t instanceof go)return!1;return!0}function bo(e){if(e instanceof mo)return e.field.canonicalString()+e.op.toString()+Ki(e.value);if(yo(e))return e.filters.map((e=>bo(e))).join(",");{const t=e.filters.map((e=>bo(e))).join(",");return`${e.op}(${t})`}}function wo(e,t){return e instanceof mo?function(e,t){return t instanceof mo&&e.op===t.op&&e.field.isEqual(t.field)&&$i(e.value,t.value)}(e,t):e instanceof go?function(e,t){return t instanceof go&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&wo(n,t.filters[r])),!0)}(e,t):void Nr()}function Co(e){return e instanceof mo?function(e){return`${e.field.canonicalString()} ${e.op} ${Ki(e.value)}`}(e):e instanceof go?function(e){return e.op.toString()+" {"+e.getFilters().map(Co).join(" ,")+"}"}(e):"Filter"}class Eo extends mo{constructor(e,t,n){super(e,t,n),this.key=oi.fromName(n.referenceValue)}matches(e){const t=oi.comparator(e.key,this.key);return this.matchesComparison(t)}}class So extends mo{constructor(e,t){super(e,"in",t),this.keys=Io("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class To extends mo{constructor(e,t){super(e,"not-in",t),this.keys=Io("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Io(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>oi.fromName(e.referenceValue)))}class ko extends mo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qi(t)&&Wi(t.arrayValue,this.value)}}class xo extends mo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wi(this.value.arrayValue,t)}}class Ao extends mo{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Wi(this.value.arrayValue,t)}}class Do extends mo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qi(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Wi(this.value.arrayValue,e)))}}class Ro{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.he=null}}function Mo(e,t=null,n=[],r=[],i=null,o=null,s=null){return new Ro(e,t,n,r,i,o,s)}function Oo(e){const t=Fr(e);if(null===t.he){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>bo(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),vi(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ki(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ki(e))).join(",")),t.he=e}return t.he}function Lo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!po(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!wo(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!lo(e.startAt,t.startAt)&&lo(e.endAt,t.endAt)}function No(e){return oi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Po{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function Fo(e,t,n,r,i,o,s,a){return new Po(e,t,n,r,i,o,s,a)}function jo(e){return new Po(e)}function Bo(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Uo(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Vo(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Ho(e){return null!==e.collectionGroup}function qo(e){const t=Fr(e);if(null===t.Pe){t.Pe=[];const e=Vo(t),n=Uo(t);if(null!==e&&null===n)e.isKeyField()||t.Pe.push(new ho(e)),t.Pe.push(new ho(ii.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.Pe.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new ho(ii.keyField(),e))}}}return t.Pe}function zo(e){const t=Fr(e);if(!t.Ie)if("F"===t.limitType)t.Ie=Mo(t.path,t.collectionGroup,qo(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of qo(t)){const t="desc"===i.dir?"asc":"desc";e.push(new ho(i.field,t))}const n=t.endAt?new co(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new co(t.startAt.position,t.startAt.inclusive):null;t.Ie=Mo(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.Ie}function $o(e,t){t.getFirstInequalityField(),Vo(e);const n=e.filters.concat([t]);return new Po(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Wo(e,t,n){return new Po(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Go(e,t){return Lo(zo(e),zo(t))&&e.limitType===t.limitType}function Zo(e){return`${Oo(zo(e))}|lt:${e.limitType}`}function Ko(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Co(e))).join(", ")}]`),vi(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ki(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ki(e))).join(",")),`Target(${t})`}(zo(e))}; limitType=${e.limitType})`}function Jo(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):oi.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of qo(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=uo(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,qo(e),t))&&!(e.endAt&&!function(e,t,n){const r=uo(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,qo(e),t))}(e,t)}function Xo(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Yo(e){return(t,n)=>{let r=!1;for(const i of qo(e)){const e=Qo(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Qo(e,t,n){const r=e.field.isKeyField()?oi.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Gi(r,i):Nr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Nr()}}class es{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Si(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Ti(this.inner)}size(){return this.innerSize}}const ts=new Ii(oi.comparator);function ns(){return ts}const rs=new Ii(oi.comparator);function is(...e){let t=rs;for(const n of e)t=t.insert(n.key,n);return t}function os(e){let t=rs;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function ss(){return cs()}function as(){return cs()}function cs(){return new es((e=>e.toString()),((e,t)=>e.isEqual(t)))}const us=new Ii(oi.comparator),ls=new Ai(oi.comparator);function hs(...e){let t=ls;for(const n of e)t=t.add(n);return t}const ds=new Ai(Xr);function ps(){return ds}function fs(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yi(t)?"-0":t}}function ms(e){return{integerValue:""+e}}function gs(e,t){return _i(t)?ms(t):fs(e,t)}class vs{constructor(){this._=void 0}}function ys(e,t,n){return e instanceof ws?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ji(t)&&(t=Bi(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Cs?Es(e,t):e instanceof Ss?Ts(e,t):function(e,t){const n=bs(e,t),r=ks(n)+ks(e.Te);return Yi(n)&&Yi(e.Te)?ms(r):fs(e.serializer,r)}(e,t)}function _s(e,t,n){return e instanceof Cs?Es(e,t):e instanceof Ss?Ts(e,t):n}function bs(e,t){return e instanceof Is?function(e){return Yi(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ws extends vs{}class Cs extends vs{constructor(e){super(),this.elements=e}}function Es(e,t){const n=xs(t);for(const r of e.elements)n.some((e=>$i(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Ss extends vs{constructor(e){super(),this.elements=e}}function Ts(e,t){let n=xs(t);for(const r of e.elements)n=n.filter((e=>!$i(e,r)));return{arrayValue:{values:n}}}class Is extends vs{constructor(e,t){super(),this.serializer=e,this.Te=t}}function ks(e){return Pi(e.integerValue||e.doubleValue)}function xs(e){return Qi(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class As{constructor(e,t){this.field=e,this.transform=t}}class Ds{constructor(e,t){this.version=e,this.transformResults=t}}class Rs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rs}static exists(e){return new Rs(void 0,e)}static updateTime(e){return new Rs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ms(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Os{}function Ls(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new zs(e.key,Rs.none()):new Bs(e.key,e.data,Rs.none());{const n=e.data,r=oo.empty();let i=new Ai(ii.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Us(e.key,r,new Ri(i.toArray()),Rs.none())}}function Ns(e,t,n){e instanceof Bs?function(e,t,n){const r=e.value.clone(),i=Hs(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Us?function(e,t,n){if(!Ms(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Hs(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Vs(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ps(e,t,n,r){return e instanceof Bs?function(e,t,n,r){if(!Ms(e.precondition,t))return n;const i=e.value.clone(),o=qs(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Us?function(e,t,n,r){if(!Ms(e.precondition,t))return n;const i=qs(e.fieldTransforms,r,t),o=t.data;return o.setAll(Vs(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Ms(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Fs(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=bs(r.transform,e||null);null!=i&&(null===n&&(n=oo.empty()),n.set(r.field,i))}return n||null}function js(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Yr(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Cs&&t instanceof Cs||e instanceof Ss&&t instanceof Ss?Yr(e.elements,t.elements,$i):e instanceof Is&&t instanceof Is?$i(e.Te,t.Te):e instanceof ws&&t instanceof ws}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Bs extends Os{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Us extends Os{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Vs(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Hs(e,t,n){const r=new Map;Pr(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,_s(s,a,n[i]))}return r}function qs(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,ys(e,o,t))}return r}class zs extends Os{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $s extends Os{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ws{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ns(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ps(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ps(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=as();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Ls(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(ei.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),hs())}isEqual(e){return this.batchId===e.batchId&&Yr(this.mutations,e.mutations,((e,t)=>js(e,t)))&&Yr(this.baseMutations,e.baseMutations,((e,t)=>js(e,t)))}}class Gs{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Pr(e.mutations.length===n.length);let r=us;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Gs(e,t,n,r)}}class Zs{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ks{constructor(e,t){this.count=e,this.unchangedNames=t}}var Js,Xs;function Ys(e){switch(e){default:return Nr();case jr.CANCELLED:case jr.UNKNOWN:case jr.DEADLINE_EXCEEDED:case jr.RESOURCE_EXHAUSTED:case jr.INTERNAL:case jr.UNAVAILABLE:case jr.UNAUTHENTICATED:return!1;case jr.INVALID_ARGUMENT:case jr.NOT_FOUND:case jr.ALREADY_EXISTS:case jr.PERMISSION_DENIED:case jr.FAILED_PRECONDITION:case jr.ABORTED:case jr.OUT_OF_RANGE:case jr.UNIMPLEMENTED:case jr.DATA_LOSS:return!0}}function Qs(e){if(void 0===e)return Mr("GRPC error has no .code"),jr.UNKNOWN;switch(e){case Js.OK:return jr.OK;case Js.CANCELLED:return jr.CANCELLED;case Js.UNKNOWN:return jr.UNKNOWN;case Js.DEADLINE_EXCEEDED:return jr.DEADLINE_EXCEEDED;case Js.RESOURCE_EXHAUSTED:return jr.RESOURCE_EXHAUSTED;case Js.INTERNAL:return jr.INTERNAL;case Js.UNAVAILABLE:return jr.UNAVAILABLE;case Js.UNAUTHENTICATED:return jr.UNAUTHENTICATED;case Js.INVALID_ARGUMENT:return jr.INVALID_ARGUMENT;case Js.NOT_FOUND:return jr.NOT_FOUND;case Js.ALREADY_EXISTS:return jr.ALREADY_EXISTS;case Js.PERMISSION_DENIED:return jr.PERMISSION_DENIED;case Js.FAILED_PRECONDITION:return jr.FAILED_PRECONDITION;case Js.ABORTED:return jr.ABORTED;case Js.OUT_OF_RANGE:return jr.OUT_OF_RANGE;case Js.UNIMPLEMENTED:return jr.UNIMPLEMENTED;case Js.DATA_LOSS:return jr.DATA_LOSS;default:return Nr()}}(Xs=Js||(Js={}))[Xs.OK=0]="OK",Xs[Xs.CANCELLED=1]="CANCELLED",Xs[Xs.UNKNOWN=2]="UNKNOWN",Xs[Xs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xs[Xs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xs[Xs.NOT_FOUND=5]="NOT_FOUND",Xs[Xs.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xs[Xs.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xs[Xs.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xs[Xs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xs[Xs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xs[Xs.ABORTED=10]="ABORTED",Xs[Xs.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xs[Xs.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xs[Xs.INTERNAL=13]="INTERNAL",Xs[Xs.UNAVAILABLE=14]="UNAVAILABLE",Xs[Xs.DATA_LOSS=15]="DATA_LOSS";class ea{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ta}static getOrCreateInstance(){return null===ta&&(ta=new ea),ta}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let ta=null;function na(){return new TextEncoder}const ra=new Tr([4294967295,4294967295],0);function ia(e){const t=na().encode(e),n=new Sr;return n.update(t),new Uint8Array(n.digest())}function oa(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Tr([n,r],0),new Tr([i,o],0)]}class sa{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new aa(`Invalid padding: ${t}`);if(n<0)throw new aa(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new aa(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new aa(`Invalid padding when bitmap length is 0: ${t}`);this.de=8*e.length-t,this.Ae=Tr.fromNumber(this.de)}Re(e,t,n){let r=e.add(t.multiply(Tr.fromNumber(n)));return 1===r.compare(ra)&&(r=new Tr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ae).toNumber()}Ve(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.de)return!1;const t=ia(e),[n,r]=oa(t);for(let i=0;i<this.hashCount;i++){const e=this.Re(n,r,i);if(!this.Ve(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new sa(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.de)return;const t=ia(e),[n,r]=oa(t);for(let i=0;i<this.hashCount;i++){const e=this.Re(n,r,i);this.me(e)}}me(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class aa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ca{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ua.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ca(ei.min(),r,new Ii(Xr),ns(),hs())}}class ua{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ua(n,t,hs(),hs(),hs())}}class la{constructor(e,t,n,r){this.fe=e,this.removedTargetIds=t,this.key=n,this.ge=r}}class ha{constructor(e,t){this.targetId=e,this.pe=t}}class da{constructor(e,t,n=Oi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class pa{constructor(){this.ye=0,this.we=ga(),this.Se=Oi.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return 0!==this.ye}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=hs(),t=hs(),n=hs();return this.we.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Nr()}})),new ua(this.Se,this.be,e,t,n)}xe(){this.De=!1,this.we=ga()}Oe(e,t){this.De=!0,this.we=this.we.insert(e,t)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class fa{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=ns(),this.$e=ma(),this.Ue=new Ii(Xr)}We(e){for(const t of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(t,e.ge):this.ze(t,e.key,e.ge);for(const t of e.removedTargetIds)this.ze(t,e.key,e.ge)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Fe(e.resumeToken);break;case 1:n.Le(),n.ve||n.xe(),n.Fe(e.resumeToken);break;case 2:n.Le(),n.ve||this.removeTarget(t);break;case 3:this.Je(t)&&(n.ke(),n.Fe(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Fe(e.resumeToken));break;default:Nr()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){var t,n;const r=e.targetId,i=e.pe.count,o=this.Xe(r);if(o){const s=o.target;if(No(s))if(0===i){const e=new oi(s.path);this.ze(r,e,ao.newNoDocument(e,ei.min()))}else Pr(1===i);else{const o=this.et(r);if(o!==i){const i=this.tt(e,o);if(0!==i.status){this.Ye(r);const e=2===i.status?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(r,e)}null===(t=ea.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n,r){var i,o,s,a,c,u;const l={localCacheCount:n,existenceFilterCount:r.count},h=r.unchangedNames;return h&&(l.bloomFilter={applied:0===e,hashCount:null!==(i=null==h?void 0:h.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(a=null===(s=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==a?a:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0},t&&(l.bloomFilter.mightContain=t)),l}(i.status,null!==(n=i.nt)&&void 0!==n?n:null,o,e.pe))}}}}tt(e,t){const{unchangedNames:n,count:r}=e.pe;if(!n||!n.bits)return{status:1};const{bits:{bitmap:i="",padding:o=0},hashCount:s=0}=n;let a,c;try{a=Fi(i).toUint8Array()}catch(e){if(e instanceof Mi)return Or("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw e}try{c=new sa(a,o,s)}catch(e){return Or(e instanceof aa?"BloomFilter error: ":"Applying bloom filter failed: ",e),{status:1}}const u=e=>{const t=this.qe.rt();return c.mightContain(`projects/${t.projectId}/databases/${t.database}/documents/${e}`)};return 0===c.de?{status:1}:{status:r===t-this.it(e.targetId,u)?0:2,nt:u}}it(e,t){const n=this.qe.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{t(n.path.canonicalString())||(this.ze(e,n,null),r++)})),r}st(e){const t=new Map;this.Qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&No(i.target)){const t=new oi(i.target.path);null!==this.Ke.get(t)||this.ot(r,t)||this.ze(r,t,ao.newNoDocument(t,e))}n.Ce&&(t.set(r,n.Me()),n.xe())}}));let n=hs();this.$e.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Ke.forEach(((t,n)=>n.setReadTime(e)));const r=new ca(e,t,this.Ue,this.Ke,n);return this.Ke=ns(),this.$e=ma(),this.Ue=new Ii(Xr),r}Ge(e,t){if(!this.Je(e))return;const n=this.ot(e,t.key)?2:0;this.He(e).Oe(t.key,n),this.Ke=this.Ke.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ot(e,t)?r.Oe(t,1):r.Ne(t),this.$e=this.$e.insert(t,this._t(t).delete(e)),n&&(this.Ke=this.Ke.insert(t,n))}removeTarget(e){this.Qe.delete(e)}et(e){const t=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let t=this.Qe.get(e);return t||(t=new pa,this.Qe.set(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ai(Xr),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||Rr("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.Qe.get(e);return t&&t.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new pa),this.qe.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ot(e,t){return this.qe.getRemoteKeysForTarget(e).has(t)}}function ma(){return new Ii(oi.comparator)}function ga(){return new Ii(oi.comparator)}const va={asc:"ASCENDING",desc:"DESCENDING"},ya={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_a={and:"AND",or:"OR"};class ba{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wa(e,t){return e.useProto3Json||vi(t)?t:{value:t}}function Ca(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ea(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Sa(e,t){return Ca(e,t.toTimestamp())}function Ta(e){return Pr(!!e),ei.fromTimestamp(function(e){const t=Ni(e);return new Qr(t.seconds,t.nanos)}(e))}function Ia(e,t){return function(e){return new ni(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ka(e){const t=ni.fromString(e);return Pr(Ga(t)),t}function xa(e,t){return Ia(e.databaseId,t.path)}function Aa(e,t){const n=ka(t);if(n.get(1)!==e.databaseId.projectId)throw new Br(jr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Br(jr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new oi(Oa(n))}function Da(e,t){return Ia(e.databaseId,t)}function Ra(e){const t=ka(e);return 4===t.length?ni.emptyPath():Oa(t)}function Ma(e){return new ni(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Oa(e){return Pr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function La(e,t,n){return{name:xa(e,t),fields:n.value.mapValue.fields}}function Na(e,t){let n;if(t instanceof Bs)n={update:La(e,t.key,t.value)};else if(t instanceof zs)n={delete:xa(e,t.key)};else if(t instanceof Us)n={update:La(e,t.key,t.data),updateMask:Wa(t.fieldMask)};else{if(!(t instanceof $s))return Nr();n={verify:xa(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ws)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cs)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ss)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Is)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw Nr()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Sa(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Nr()}(e,t.precondition)),n}function Pa(e,t){return{documents:[Da(e,t.path)]}}function Fa(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Da(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Da(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return $a(go.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:qa(e.field),direction:Ua(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=wa(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ja(e){let t=Ra(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pr(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Ba(e);return t instanceof go&&yo(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new ho(za(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,vi(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new co(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new co(n,t)}(n.endAt)),Fo(t,i,s,o,a,"F",c,u)}function Ba(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=za(e.unaryFilter.field);return mo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=za(e.unaryFilter.field);return mo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=za(e.unaryFilter.field);return mo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=za(e.unaryFilter.field);return mo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Nr()}}(e):void 0!==e.fieldFilter?function(e){return mo.create(za(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nr()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return go.create(e.compositeFilter.filters.map((e=>Ba(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Nr()}}(e.compositeFilter.op))}(e):Nr()}function Ua(e){return va[e]}function Va(e){return ya[e]}function Ha(e){return _a[e]}function qa(e){return{fieldPath:e.canonicalString()}}function za(e){return ii.fromServerFormat(e.fieldPath)}function $a(e){return e instanceof mo?function(e){if("=="===e.op){if(to(e.value))return{unaryFilter:{field:qa(e.field),op:"IS_NAN"}};if(eo(e.value))return{unaryFilter:{field:qa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(to(e.value))return{unaryFilter:{field:qa(e.field),op:"IS_NOT_NAN"}};if(eo(e.value))return{unaryFilter:{field:qa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(e.field),op:Va(e.op),value:e.value}}}(e):e instanceof go?function(e){const t=e.getFilters().map((e=>$a(e)));return 1===t.length?t[0]:{compositeFilter:{op:Ha(e.op),filters:t}}}(e):Nr()}function Wa(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Ga(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Za{constructor(e,t,n,r,i=ei.min(),o=ei.min(),s=Oi.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ka{constructor(e){this.ct=e}}function Ja(e){const t=ja({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Wo(t,t.limit,"L"):t}class Xa{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Pi(e.integerValue));else if("doubleValue"in e){const n=Pi(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),yi(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At(`${n.seconds||""}`),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Fi(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?io(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Nr()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),oi.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}Xa.bt=new Xa;class Ya{constructor(){this.sn=new Qa}addToCollectionParentIndex(e,t){return this.sn.add(t),fi.resolve()}getCollectionParents(e,t){return fi.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return fi.resolve()}deleteFieldIndex(e,t){return fi.resolve()}getDocumentsMatchingTarget(e,t){return fi.resolve(null)}getIndexType(e,t){return fi.resolve(0)}getFieldIndexes(e,t){return fi.resolve([])}getNextCollectionGroupToUpdate(e){return fi.resolve(null)}getMinOffset(e,t){return fi.resolve(ui.min())}getMinOffsetFromCollectionGroup(e,t){return fi.resolve(ui.min())}updateCollectionGroup(e,t,n){return fi.resolve()}updateIndexEntries(e,t){return fi.resolve()}}class Qa{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ai(ni.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ai(ni.comparator)).toArray()}}new Uint8Array(0);class ec{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ec(e,ec.DEFAULT_COLLECTION_PERCENTILE,ec.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ec.DEFAULT_COLLECTION_PERCENTILE=10,ec.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ec.DEFAULT=new ec(41943040,ec.DEFAULT_COLLECTION_PERCENTILE,ec.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ec.DISABLED=new ec(-1,0,0);class tc{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new tc(0)}static On(){return new tc(-1)}}class nc{constructor(){this.changes=new es((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ao.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?fi.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ic{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Ps(n.mutation,e,Ri.empty(),Qr.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,hs()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=hs()){const r=ss();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=is();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=ss();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,hs())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=ns();const o=cs(),s=cs();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Us)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Ps(s.mutation,t,s.mutation.getFieldMask(),Qr.now())):o.set(t.key,Ri.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new rc(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=cs();let r=new Ii(((e,t)=>e-t)),i=hs();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Ri.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||hs()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,c=r.value,u=as();c.forEach((e=>{if(!i.has(e)){const r=Ls(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,u))}return fi.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return oi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ho(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):fi.resolve(ss());let s=-1,a=i;return o.next((t=>fi.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?fi.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,hs()))).next((e=>({batchId:s,changes:os(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new oi(t)).next((e=>{let t=is();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=is();return this.indexManager.getCollectionParents(e,r).next((o=>fi.forEach(o,(o=>{const s=function(e,t){return new Po(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,s,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,ao.newInvalidDocument(r)))}));let n=is();return e.forEach(((e,i)=>{const o=r.get(e);void 0!==o&&Ps(o.mutation,i,Ri.empty(),Qr.now()),Jo(t,i)&&(n=n.insert(e,i))})),n}))}}class oc{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,t){return fi.resolve(this.ar.get(t))}saveBundleMetadata(e,t){return this.ar.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ta(e.createTime)}}(t)),fi.resolve()}getNamedQuery(e,t){return fi.resolve(this.ur.get(t))}saveNamedQuery(e,t){return this.ur.set(t.name,function(e){return{name:e.name,query:Ja(e.bundledQuery),readTime:Ta(e.readTime)}}(t)),fi.resolve()}}class sc{constructor(){this.overlays=new Ii(oi.comparator),this.cr=new Map}getOverlay(e,t){return fi.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ss();return fi.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),fi.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.cr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.cr.delete(n)),fi.resolve()}getOverlaysForCollection(e,t,n){const r=ss(),i=t.length+1,o=new oi(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return fi.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ii(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ss(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=ss(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return fi.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.cr.get(r.largestBatchId).delete(n.key);this.cr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Zs(t,n));let i=this.cr.get(t);void 0===i&&(i=hs(),this.cr.set(t,i)),this.cr.set(t,i.add(n.key))}}class ac{constructor(){this.lr=new Ai(cc.hr),this.Pr=new Ai(cc.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,t){const n=new cc(e,t);this.lr=this.lr.add(n),this.Pr=this.Pr.add(n)}Tr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Er(new cc(e,t))}dr(e,t){e.forEach((e=>this.removeReference(e,t)))}Ar(e){const t=new oi(new ni([])),n=new cc(t,e),r=new cc(t,e+1),i=[];return this.Pr.forEachInRange([n,r],(e=>{this.Er(e),i.push(e.key)})),i}Rr(){this.lr.forEach((e=>this.Er(e)))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const t=new oi(new ni([])),n=new cc(t,e),r=new cc(t,e+1);let i=hs();return this.Pr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new cc(e,0),n=this.lr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class cc{constructor(e,t){this.key=e,this.mr=t}static hr(e,t){return oi.comparator(e.key,t.key)||Xr(e.mr,t.mr)}static Ir(e,t){return Xr(e.mr,t.mr)||oi.comparator(e.key,t.key)}}class uc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.gr=1,this.pr=new Ai(cc.hr)}checkEmpty(e){return fi.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ws(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.pr=this.pr.add(new cc(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return fi.resolve(o)}lookupMutationBatch(e,t){return fi.resolve(this.yr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.wr(n),i=r<0?0:r;return fi.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return fi.resolve(0===this.mutationQueue.length?-1:this.gr-1)}getAllMutationBatches(e){return fi.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new cc(t,0),r=new cc(t,Number.POSITIVE_INFINITY),i=[];return this.pr.forEachInRange([n,r],(e=>{const t=this.yr(e.mr);i.push(t)})),fi.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ai(Xr);return t.forEach((e=>{const t=new cc(e,0),r=new cc(e,Number.POSITIVE_INFINITY);this.pr.forEachInRange([t,r],(e=>{n=n.add(e.mr)}))})),fi.resolve(this.Sr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;oi.isDocumentKey(i)||(i=i.child(""));const o=new cc(new oi(i),0);let s=new Ai(Xr);return this.pr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.mr)),!0)}),o),fi.resolve(this.Sr(s))}Sr(e){const t=[];return e.forEach((e=>{const n=this.yr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Pr(0===this.br(t.batchId,"removed")),this.mutationQueue.shift();let n=this.pr;return fi.forEach(t.mutations,(r=>{const i=new cc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.pr=n}))}Cn(e){}containsKey(e,t){const n=new cc(t,0),r=this.pr.firstAfterOrEqual(n);return fi.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,fi.resolve()}br(e,t){return this.wr(e)}wr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}yr(e){const t=this.wr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class lc{constructor(e){this.Dr=e,this.docs=new Ii(oi.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Dr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return fi.resolve(n?n.document.mutableCopy():ao.newInvalidDocument(t))}getEntries(e,t){let n=ns();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():ao.newInvalidDocument(e))})),fi.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ns();const o=t.path,s=new oi(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||li(ci(s),n)<=0||(r.has(s.key)||Jo(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return fi.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Nr()}vr(e,t){return fi.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new hc(this)}getSize(e){return fi.resolve(this.size)}}class hc extends nc{constructor(e){super(),this.sr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.sr.addEntry(e,r)):this.sr.removeEntry(n)})),fi.waitFor(t)}getFromCache(e,t){return this.sr.getEntry(e,t)}getAllFromCache(e,t){return this.sr.getEntries(e,t)}}class dc{constructor(e){this.persistence=e,this.Cr=new es((e=>Oo(e)),Lo),this.lastRemoteSnapshotVersion=ei.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new ac,this.targetCount=0,this.Or=tc.xn()}forEachTarget(e,t){return this.Cr.forEach(((e,n)=>t(n))),fi.resolve()}getLastRemoteSnapshotVersion(e){return fi.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fi.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),fi.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fr&&(this.Fr=t),fi.resolve()}Ln(e){this.Cr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Or=new tc(t),this.highestTargetId=t),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,t){return this.Ln(t),this.targetCount+=1,fi.resolve()}updateTargetData(e,t){return this.Ln(t),fi.resolve()}removeTargetData(e,t){return this.Cr.delete(t.target),this.Mr.Ar(t.targetId),this.targetCount-=1,fi.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Cr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Cr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),fi.waitFor(i).next((()=>r))}getTargetCount(e){return fi.resolve(this.targetCount)}getTargetData(e,t){const n=this.Cr.get(t)||null;return fi.resolve(n)}addMatchingKeys(e,t,n){return this.Mr.Tr(t,n),fi.resolve()}removeMatchingKeys(e,t,n){this.Mr.dr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),fi.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Mr.Ar(t),fi.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Mr.Vr(t);return fi.resolve(n)}containsKey(e,t){return fi.resolve(this.Mr.containsKey(t))}}class pc{constructor(e,t){this.Nr={},this.overlays={},this.Br=new gi(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new dc(this),this.indexManager=new Ya,this.remoteDocumentCache=function(e){return new lc(e)}((e=>this.referenceDelegate.qr(e))),this.serializer=new Ka(t),this.Qr=new oc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Nr[e.toKey()];return n||(n=new uc(t,this.referenceDelegate),this.Nr[e.toKey()]=n),n}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,t,n){Rr("MemoryPersistence","Starting transaction:",e);const r=new fc(this.Br.next());return this.referenceDelegate.Kr(),n(r).next((e=>this.referenceDelegate.$r(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ur(e,t){return fi.or(Object.values(this.Nr).map((n=>()=>n.containsKey(e,t))))}}class fc extends di{constructor(e){super(),this.currentSequenceNumber=e}}class mc{constructor(e){this.persistence=e,this.Wr=new ac,this.Gr=null}static zr(e){return new mc(e)}get jr(){if(this.Gr)return this.Gr;throw Nr()}addReference(e,t,n){return this.Wr.addReference(n,t),this.jr.delete(n.toString()),fi.resolve()}removeReference(e,t,n){return this.Wr.removeReference(n,t),this.jr.add(n.toString()),fi.resolve()}markPotentiallyOrphaned(e,t){return this.jr.add(t.toString()),fi.resolve()}removeTarget(e,t){this.Wr.Ar(t.targetId).forEach((e=>this.jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Kr(){this.Gr=new Set}$r(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fi.forEach(this.jr,(n=>{const r=oi.fromPath(n);return this.Hr(e,r).next((e=>{e||t.removeEntry(r,ei.min())}))})).next((()=>(this.Gr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hr(e,t).next((e=>{e?this.jr.delete(t.toString()):this.jr.add(t.toString())}))}qr(e){return 0}Hr(e,t){return fi.or([()=>fi.resolve(this.Wr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ur(e,t)])}}class gc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Li=n,this.ki=r}static qi(e,t){let n=hs(),r=hs();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new gc(e,t.fromCache,n,r)}}class vc{constructor(){this.Qi=!1}initialize(e,t){this.Ki=e,this.indexManager=t,this.Qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.$i(e,t).next((i=>i||this.Ui(e,t,r,n))).next((n=>n||this.Wi(e,t)))}$i(e,t){if(Bo(t))return fi.resolve(null);let n=zo(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Wo(t,null,"F"),n=zo(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=hs(...r);return this.Ki.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Gi(t,r);return this.zi(t,o,i,n.readTime)?this.$i(e,Wo(t,null,"F")):this.ji(e,o,t,n)}))))})))))}Ui(e,t,n,r){return Bo(t)||r.isEqual(ei.min())?this.Wi(e,t):this.Ki.getDocuments(e,n).next((i=>{const o=this.Gi(t,i);return this.zi(t,o,n,r)?this.Wi(e,t):(Dr()<=s.in.DEBUG&&Rr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ko(t)),this.ji(e,o,t,ai(r,-1)))}))}Gi(e,t){let n=new Ai(Yo(e));return t.forEach(((t,r)=>{Jo(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Wi(e,t){return Dr()<=s.in.DEBUG&&Rr("QueryEngine","Using full collection scan to execute query:",Ko(t)),this.Ki.getDocumentsMatchingQuery(e,t,ui.min())}ji(e,t,n,r){return this.Ki.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class yc{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Ii(Xr),this.Yi=new es((e=>Oo(e)),Lo),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(n)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ic(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function _c(e,t,n,r){return new yc(e,t,n,r)}async function bc(e,t){const n=Fr(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.es(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=hs();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({ts:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function wc(e){const t=Fr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.kr.getLastRemoteSnapshotVersion(e)))}function Cc(e,t,n){let r=hs(),i=hs();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=ns();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(ei.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Rr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{ns:r,rs:i}}))}function Ec(e,t){const n=Fr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Sc(e,t){const n=Fr(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.kr.getTargetData(e,t).next((i=>i?(r=i,fi.resolve(r)):n.kr.allocateTargetId(e).next((i=>(r=new Za(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.kr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function Tc(e,t,n){const r=Fr(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!mi(e))throw e;Rr("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function Ic(e,t,n){const r=Fr(e);let i=ei.min(),o=hs();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Fr(e),i=r.Yi.get(n);return void 0!==i?fi.resolve(r.Ji.get(i)):r.kr.getTargetData(t,n)}(r,e,zo(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:ei.min(),n?o:hs()))).next((e=>(kc(r,Xo(t),e),{documents:e,ss:o})))))}function kc(e,t,n){let r=e.Zi.get(t)||ei.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Zi.set(t,r)}class xc{constructor(){this.activeTargetIds=ps()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ac{constructor(){this.Hs=new xc,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,t,n){this.Js[e]=t}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new xc,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Dc{Ys(e){}shutdown(){}}class Rc{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){Rr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){Rr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Mc=null;function Oc(){return null===Mc?Mc=268435456+Math.round(2147483648*Math.random()):Mc++,"0x"+Mc.toString(16)}const Lc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Nc{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}const Pc="WebChannelConnection";class Fc extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.To=t+"://"+e.host,this.Eo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get Ao(){return!1}Ro(e,t,n,r,i){const o=Oc(),s=this.Vo(e,t);Rr("RestConnection",`Sending RPC '${e}' ${o}:`,s,n);const a={};return this.mo(a,r,i),this.fo(e,s,a,n).then((t=>(Rr("RestConnection",`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw Or("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",s,"request:",n),t}))}po(e,t,n,r,i,o){return this.Ro(e,t,n,r,i)}mo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+xr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Vo(e,t){const n=Lc[e];return`${this.To}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}fo(e,t,n,r){const i=Oc();return new Promise(((o,s)=>{const a=new Er;a.setWithCredentials(!0),a.listenOnce(yr.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case vr.NO_ERROR:const t=a.getResponseJson();Rr(Pc,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case vr.TIMEOUT:Rr(Pc,`RPC '${e}' ${i} timed out`),s(new Br(jr.DEADLINE_EXCEEDED,"Request time out"));break;case vr.HTTP_ERROR:const n=a.getStatus();if(Rr(Pc,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(jr).indexOf(t)>=0?t:jr.UNKNOWN}(t.status);s(new Br(e,t.message))}else s(new Br(jr.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Br(jr.UNAVAILABLE,"Connection failed."));break;default:Nr()}}finally{Rr(Pc,`RPC '${e}' ${i} completed.`)}}));const c=JSON.stringify(r);Rr(Pc,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",c,n,15)}))}yo(e,t,n){const r=Oc(),i=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mr(),s=gr(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.xmlHttpFactory=new wr({})),this.mo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");Rr(Pc,`Creating RPC '${e}' stream ${r}: ${u}`,a);const l=o.createWebChannel(u,a);let h=!1,d=!1;const p=new Nc({so:t=>{d?Rr(Pc,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(Rr(Pc,`Opening RPC '${e}' stream ${r} transport.`),l.open(),h=!0),Rr(Pc,`RPC '${e}' stream ${r} sending:`,t),l.send(t))},oo:()=>l.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(l,Cr.EventType.OPEN,(()=>{d||Rr(Pc,`RPC '${e}' stream ${r} transport opened.`)})),f(l,Cr.EventType.CLOSE,(()=>{d||(d=!0,Rr(Pc,`RPC '${e}' stream ${r} transport closed`),p.Po())})),f(l,Cr.EventType.ERROR,(t=>{d||(d=!0,Or(Pc,`RPC '${e}' stream ${r} transport errored:`,t),p.Po(new Br(jr.UNAVAILABLE,"The operation could not be completed")))})),f(l,Cr.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Pr(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Rr(Pc,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=Js[e];if(void 0!==t)return Qs(t)}(t),i=s.message;void 0===n&&(n=jr.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,p.Po(new Br(n,i)),l.close()}else Rr(Pc,`RPC '${e}' stream ${r} received:`,i),p.Io(i)}})),f(s,_r.STAT_EVENT,(t=>{t.stat===br.PROXY?Rr(Pc,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===br.NOPROXY&&Rr(Pc,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{p.ho()}),0),p}}function jc(){return"undefined"!=typeof document?document:null}function Bc(e){return new ba(e,!0)}class Uc{constructor(e,t,n=1e3,r=1.5,i=6e4){this.ii=e,this.timerId=t,this.wo=n,this.So=r,this.bo=i,this.Do=0,this.vo=null,this.Co=Date.now(),this.reset()}reset(){this.Do=0}Fo(){this.Do=this.bo}Mo(e){this.cancel();const t=Math.floor(this.Do+this.xo()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Rr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Do} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.vo=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.Do*=this.So,this.Do<this.wo&&(this.Do=this.wo),this.Do>this.bo&&(this.Do=this.bo)}Oo(){null!==this.vo&&(this.vo.skipDelay(),this.vo=null)}cancel(){null!==this.vo&&(this.vo.cancel(),this.vo=null)}xo(){return(Math.random()-.5)*this.Do}}class Vc{constructor(e,t,n,r,i,o,s,a){this.ii=e,this.No=n,this.Bo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Lo=0,this.ko=null,this.qo=null,this.stream=null,this.Qo=new Uc(e,t)}Ko(){return 1===this.state||5===this.state||this.$o()}$o(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Uo()}async stop(){this.Ko()&&await this.close(0)}Wo(){this.state=0,this.Qo.reset()}Go(){this.$o()&&null===this.ko&&(this.ko=this.ii.enqueueAfterDelay(this.No,6e4,(()=>this.zo())))}jo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.$o())return this.close(0)}Ho(){this.ko&&(this.ko.cancel(),this.ko=null)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}async close(e,t){this.Ho(),this.Jo(),this.Qo.cancel(),this.Lo++,4!==e?this.Qo.reset():t&&t.code===jr.RESOURCE_EXHAUSTED?(Mr(t.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.Qo.Fo()):t&&t.code===jr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.uo(t)}Yo(){}auth(){this.state=1;const e=this.Zo(this.Lo),t=this.Lo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Lo===t&&this.Xo(e,n)}),(t=>{e((()=>{const e=new Br(jr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.e_(e)}))}))}Xo(e,t){const n=this.Zo(this.Lo);this.stream=this.t_(e,t),this.stream._o((()=>{n((()=>(this.state=2,this.qo=this.ii.enqueueAfterDelay(this.Bo,1e4,(()=>(this.$o()&&(this.state=3),Promise.resolve()))),this.listener._o())))})),this.stream.uo((e=>{n((()=>this.e_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Uo(){this.state=5,this.Qo.Mo((async()=>{this.state=0,this.start()}))}e_(e){return Rr("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Zo(e){return t=>{this.ii.enqueueAndForget((()=>this.Lo===e?t():(Rr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Hc extends Vc{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}t_(e,t){return this.connection.yo("Listen",e,t)}onMessage(e){this.Qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Nr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Pr(void 0===t||"string"==typeof t),Oi.fromBase64String(t||"")):(Pr(void 0===t||t instanceof Uint8Array),Oi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?jr.UNKNOWN:Qs(e.code);return new Br(t,e.message||"")}(s);n=new da(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Aa(e,r.document.name),o=Ta(r.document.updateTime),s=r.document.createTime?Ta(r.document.createTime):ei.min(),a=new oo({mapValue:{fields:r.document.fields}}),c=ao.newFoundDocument(i,o,s,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new la(u,l,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Aa(e,r.document),o=r.readTime?Ta(r.readTime):ei.min(),s=ao.newNoDocument(i,o),a=r.removedTargetIds||[];n=new la([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Aa(e,r.document),o=r.removedTargetIds||[];n=new la([],o,i,null)}else{if(!("filter"in t))return Nr();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Ks(r,i),s=e.targetId;n=new ha(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ei.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ei.min():t.readTime?Ta(t.readTime):ei.min()}(e);return this.listener.n_(t,n)}r_(e){const t={};t.database=Ma(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=No(r)?{documents:Pa(e,r)}:{query:Fa(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ea(e,t.resumeToken);const r=wa(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ei.min())>0){n.readTime=Ca(e,t.snapshotVersion.toTimestamp());const r=wa(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nr()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.jo(t)}i_(e){const t={};t.database=Ma(this.serializer),t.removeTarget=e,this.jo(t)}}class qc extends Vc{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.s_=!1}get o_(){return this.s_}start(){this.s_=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.s_&&this.__([])}t_(e,t){return this.connection.yo("Write",e,t)}onMessage(e){if(Pr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.s_){this.Qo.reset();const t=function(e,t){return e&&e.length>0?(Pr(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Ta(e.updateTime):Ta(t);return n.isEqual(ei.min())&&(n=Ta(t)),new Ds(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Ta(e.commitTime);return this.listener.a_(n,t)}return Pr(!e.writeResults||0===e.writeResults.length),this.s_=!0,this.listener.u_()}c_(){const e={};e.database=Ma(this.serializer),this.jo(e)}__(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Na(this.serializer,e)))};this.jo(t)}}class zc extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.l_=!1}h_(){if(this.l_)throw new Br(jr.FAILED_PRECONDITION,"The client has already been terminated.")}Ro(e,t,n){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.connection.Ro(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===jr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Br(jr.UNKNOWN,e.toString())}))}po(e,t,n,r){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.po(e,t,n,i,o,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===jr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Br(jr.UNKNOWN,e.toString())}))}terminate(){this.l_=!0}}class $c{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.I_=0,this.T_=null,this.E_=!0}d_(){0===this.I_&&(this.A_("Unknown"),this.T_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.T_=null,this.R_("Backend didn't respond within 10 seconds."),this.A_("Offline"),Promise.resolve()))))}V_(e){"Online"===this.state?this.A_("Unknown"):(this.I_++,this.I_>=1&&(this.m_(),this.R_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.A_("Offline")))}set(e){this.m_(),this.I_=0,"Online"===e&&(this.E_=!1),this.A_(e)}A_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}R_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.E_?(Mr(t),this.E_=!1):Rr("OnlineStateTracker",t)}m_(){null!==this.T_&&(this.T_.cancel(),this.T_=null)}}class Wc{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.f_=[],this.g_=new Map,this.p_=new Set,this.y_=[],this.w_=i,this.w_.Ys((e=>{n.enqueueAndForget((async()=>{tu(this)&&(Rr("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Fr(e);t.p_.add(4),await Zc(t),t.S_.set("Unknown"),t.p_.delete(4),await Gc(t)}(this))}))})),this.S_=new $c(n,r)}}async function Gc(e){if(tu(e))for(const t of e.y_)await t(!0)}async function Zc(e){for(const t of e.y_)await t(!1)}function Kc(e,t){const n=Fr(e);n.g_.has(t.targetId)||(n.g_.set(t.targetId,t),eu(n)?Qc(n):_u(n).$o()&&Xc(n,t))}function Jc(e,t){const n=Fr(e),r=_u(n);n.g_.delete(t),r.$o()&&Yc(n,t),0===n.g_.size&&(r.$o()?r.Go():tu(n)&&n.S_.set("Unknown"))}function Xc(e,t){if(e.b_.Be(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ei.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}_u(e).r_(t)}function Yc(e,t){e.b_.Be(t),_u(e).i_(t)}function Qc(e){e.b_=new fa({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.g_.get(t)||null,rt:()=>e.datastore.serializer.databaseId}),_u(e).start(),e.S_.d_()}function eu(e){return tu(e)&&!_u(e).Ko()&&e.g_.size>0}function tu(e){return 0===Fr(e).p_.size}function nu(e){e.b_=void 0}async function ru(e){e.g_.forEach(((t,n)=>{Xc(e,t)}))}async function iu(e,t){nu(e),eu(e)?(e.S_.V_(t),Qc(e)):e.S_.set("Unknown")}async function ou(e,t,n){if(e.S_.set("Online"),t instanceof da&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.g_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.g_.delete(r),e.b_.removeTarget(r))}(e,t)}catch(n){Rr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await su(e,n)}else if(t instanceof la?e.b_.We(t):t instanceof ha?e.b_.Ze(t):e.b_.je(t),!n.isEqual(ei.min()))try{const t=await wc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.b_.st(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.g_.get(r);i&&e.g_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.g_.get(t);if(!r)return;e.g_.set(t,r.withResumeToken(Oi.EMPTY_BYTE_STRING,r.snapshotVersion)),Yc(e,t);const i=new Za(r.target,t,n,r.sequenceNumber);Xc(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Rr("RemoteStore","Failed to raise snapshot:",t),await su(e,t)}}async function su(e,t,n){if(!mi(t))throw t;e.p_.add(1),await Zc(e),e.S_.set("Offline"),n||(n=()=>wc(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Rr("RemoteStore","Retrying IndexedDB access"),await n(),e.p_.delete(1),await Gc(e)}))}function au(e,t){return t().catch((n=>su(e,n,t)))}async function cu(e){const t=Fr(e),n=bu(t);let r=t.f_.length>0?t.f_[t.f_.length-1].batchId:-1;for(;uu(t);)try{const e=await Ec(t.localStore,r);if(null===e){0===t.f_.length&&n.Go();break}r=e.batchId,lu(t,e)}catch(e){await su(t,e)}hu(t)&&du(t)}function uu(e){return tu(e)&&e.f_.length<10}function lu(e,t){e.f_.push(t);const n=bu(e);n.$o()&&n.o_&&n.__(t.mutations)}function hu(e){return tu(e)&&!bu(e).Ko()&&e.f_.length>0}function du(e){bu(e).start()}async function pu(e){bu(e).c_()}async function fu(e){const t=bu(e);for(const n of e.f_)t.__(n.mutations)}async function mu(e,t,n){const r=e.f_.shift(),i=Gs.from(r,t,n);await au(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await cu(e)}async function gu(e,t){t&&bu(e).o_&&await async function(e,t){if(function(e){return Ys(e)&&e!==jr.ABORTED}(t.code)){const n=e.f_.shift();bu(e).Wo(),await au(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await cu(e)}}(e,t),hu(e)&&du(e)}async function vu(e,t){const n=Fr(e);n.asyncQueue.verifyOperationInProgress(),Rr("RemoteStore","RemoteStore received new credentials");const r=tu(n);n.p_.add(3),await Zc(n),r&&n.S_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.p_.delete(3),await Gc(n)}async function yu(e,t){const n=Fr(e);t?(n.p_.delete(2),await Gc(n)):t||(n.p_.add(2),await Zc(n),n.S_.set("Unknown"))}function _u(e){return e.D_||(e.D_=function(e,t,n){const r=Fr(e);return r.h_(),new Hc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{_o:ru.bind(null,e),uo:iu.bind(null,e),n_:ou.bind(null,e)}),e.y_.push((async t=>{t?(e.D_.Wo(),eu(e)?Qc(e):e.S_.set("Unknown")):(await e.D_.stop(),nu(e))}))),e.D_}function bu(e){return e.v_||(e.v_=function(e,t,n){const r=Fr(e);return r.h_(),new qc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{_o:pu.bind(null,e),uo:gu.bind(null,e),u_:fu.bind(null,e),a_:mu.bind(null,e)}),e.y_.push((async t=>{t?(e.v_.Wo(),await cu(e)):(await e.v_.stop(),e.f_.length>0&&(Rr("RemoteStore",`Stopping write stream with ${e.f_.length} pending writes`),e.f_=[]))}))),e.v_}class wu{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new wu(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Br(jr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cu(e,t){if(Mr("AsyncQueue",`${t}: ${e}`),mi(e))return new Br(jr.UNAVAILABLE,`${t}: ${e}`);throw e}class Eu{constructor(e){this.comparator=e?(t,n)=>e(t,n)||oi.comparator(t.key,n.key):(e,t)=>oi.comparator(e.key,t.key),this.keyedMap=is(),this.sortedSet=new Ii(this.comparator)}static emptySet(e){return new Eu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Eu))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Eu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Su{constructor(){this.C_=new Ii(oi.comparator)}track(e){const t=e.doc.key,n=this.C_.get(t);n?0!==e.type&&3===n.type?this.C_=this.C_.insert(t,e):3===e.type&&1!==n.type?this.C_=this.C_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.C_=this.C_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.C_=this.C_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.C_=this.C_.remove(t):1===e.type&&2===n.type?this.C_=this.C_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.C_=this.C_.insert(t,{type:2,doc:e.doc}):Nr():this.C_=this.C_.insert(t,e)}F_(){const e=[];return this.C_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Tu{constructor(e,t,n,r,i,o,s,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new Tu(e,t,Eu.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Go(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Iu{constructor(){this.M_=void 0,this.listeners=[]}}class ku{constructor(){this.queries=new es((e=>Zo(e)),Go),this.onlineState="Unknown",this.x_=new Set}}async function xu(e,t){const n=Fr(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Iu),i)try{o.M_=await n.onListen(r)}catch(e){const n=Cu(e,`Initialization of query '${Ko(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.O_(n.onlineState),o.M_&&t.N_(o.M_)&&Mu(n)}async function Au(e,t){const n=Fr(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Du(e,t){const n=Fr(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.N_(i)&&(r=!0);t.M_=i}}r&&Mu(n)}function Ru(e,t,n){const r=Fr(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function Mu(e){e.x_.forEach((e=>{e.next()}))}class Ou{constructor(e,t,n){this.query=e,this.B_=t,this.L_=!1,this.k_=null,this.onlineState="Unknown",this.options=n||{}}N_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Tu(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.L_?this.q_(e)&&(this.B_.next(e),t=!0):this.Q_(e,this.onlineState)&&(this.K_(e),t=!0),this.k_=e,t}onError(e){this.B_.error(e)}O_(e){this.onlineState=e;let t=!1;return this.k_&&!this.L_&&this.Q_(this.k_,e)&&(this.K_(this.k_),t=!0),t}Q_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.U_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}q_(e){if(e.docChanges.length>0)return!0;const t=this.k_&&this.k_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}K_(e){e=Tu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.L_=!0,this.B_.next(e)}}class Lu{constructor(e){this.key=e}}class Nu{constructor(e){this.key=e}}class Pu{constructor(e,t){this.query=e,this.Z_=t,this.X_=null,this.hasCachedResults=!1,this.current=!1,this.ea=hs(),this.mutatedKeys=hs(),this.ta=Yo(e),this.na=new Eu(this.ta)}get ra(){return this.Z_}ia(e,t){const n=t?t.sa:new Su,r=t?t.na:this.na;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),l=Jo(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let p=!1;u&&l?u.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),p=!0):this.oa(u,l)||(n.track({type:2,doc:l}),p=!0,(a&&this.ta(l,a)>0||c&&this.ta(l,c)<0)&&(s=!0)):!u&&l?(n.track({type:0,doc:l}),p=!0):u&&!l&&(n.track({type:1,doc:u}),p=!0,(a||c)&&(s=!0)),p&&(l?(o=o.add(l),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{na:o,sa:n,zi:s,mutatedKeys:i}}oa(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.na;this.na=e.na,this.mutatedKeys=e.mutatedKeys;const i=e.sa.F_();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nr()}};return n(e)-n(t)}(e.type,t.type)||this.ta(e.doc,t.doc))),this._a(n);const o=t?this.aa():[],s=0===this.ea.size&&this.current?1:0,a=s!==this.X_;return this.X_=s,0!==i.length||a?{snapshot:new Tu(this.query,e.na,r,i,e.mutatedKeys,0===s,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),ua:o}:{ua:o}}O_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({na:this.na,sa:new Su,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ua:[]}}ca(e){return!this.Z_.has(e)&&!!this.na.has(e)&&!this.na.get(e).hasLocalMutations}_a(e){e&&(e.addedDocuments.forEach((e=>this.Z_=this.Z_.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Z_=this.Z_.delete(e))),this.current=e.current)}aa(){if(!this.current)return[];const e=this.ea;this.ea=hs(),this.na.forEach((e=>{this.ca(e.key)&&(this.ea=this.ea.add(e.key))}));const t=[];return e.forEach((e=>{this.ea.has(e)||t.push(new Nu(e))})),this.ea.forEach((n=>{e.has(n)||t.push(new Lu(n))})),t}la(e){this.Z_=e.ss,this.ea=hs();const t=this.ia(e.documents);return this.applyChanges(t,!0)}ha(){return Tu.fromInitialDocuments(this.query,this.na,this.mutatedKeys,0===this.X_,this.hasCachedResults)}}class Fu{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class ju{constructor(e){this.key=e,this.Pa=!1}}class Bu{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ia={},this.Ta=new es((e=>Zo(e)),Go),this.Ea=new Map,this.da=new Set,this.Aa=new Ii(oi.comparator),this.Ra=new Map,this.Va=new ac,this.ma={},this.fa=new Map,this.ga=tc.On(),this.onlineState="Unknown",this.pa=void 0}get isPrimaryClient(){return!0===this.pa}}async function Uu(e,t){const n=il(e);let r,i;const o=n.Ta.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.ha();else{const e=await Sc(n.localStore,zo(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Vu(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&Kc(n.remoteStore,e)}return i}async function Vu(e,t,n,r,i){e.ya=(t,n,r)=>async function(e,t,n,r){let i=t.view.ia(n);i.zi&&(i=await Ic(e.localStore,t.query,!1).then((({documents:e})=>t.view.ia(e,i))));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return Yu(e,t.targetId,s.ua),s.snapshot}(e,t,n,r);const o=await Ic(e.localStore,t,!0),s=new Pu(t,o.ss),a=s.ia(o.documents),c=ua.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=s.applyChanges(a,e.isPrimaryClient,c);Yu(e,n,u.ua);const l=new Fu(t,n,s);return e.Ta.set(t,l),e.Ea.has(n)?e.Ea.get(n).push(t):e.Ea.set(n,[t]),u.snapshot}async function Hu(e,t){const n=Fr(e),r=n.Ta.get(t),i=n.Ea.get(r.targetId);if(i.length>1)return n.Ea.set(r.targetId,i.filter((e=>!Go(e,t)))),void n.Ta.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Tc(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Jc(n.remoteStore,r.targetId),Ju(n,r.targetId)})).catch(pi)):(Ju(n,r.targetId),await Tc(n.localStore,r.targetId,!0))}async function qu(e,t){const n=Fr(e);try{const e=await function(e,t){const n=Fr(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const s=[];t.targetChanges.forEach(((o,a)=>{const c=i.get(a);if(!c)return;s.push(n.kr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.kr.addMatchingKeys(e,o.addedDocuments,a))));let u=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(Oi.EMPTY_BYTE_STRING,ei.min()).withLastLimboFreeSnapshotVersion(ei.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,u,o)&&s.push(n.kr.updateTargetData(e,u))}));let a=ns(),c=hs();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Cc(e,o,t.documentUpdates).next((e=>{a=e.ns,c=e.rs}))),!r.isEqual(ei.min())){const t=n.kr.getLastRemoteSnapshotVersion(e).next((t=>n.kr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return fi.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ra.get(t);r&&(Pr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Pa=!0:e.modifiedDocuments.size>0?Pr(r.Pa):e.removedDocuments.size>0&&(Pr(r.Pa),r.Pa=!1))})),await tl(n,e,t)}catch(e){await pi(e)}}function zu(e,t,n){const r=Fr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Ta.forEach(((n,r)=>{const i=r.view.O_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Fr(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.O_(t)&&(r=!0)})),r&&Mu(n)}(r.eventManager,t),e.length&&r.Ia.n_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function $u(e,t,n){const r=Fr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ra.get(t),o=i&&i.key;if(o){let e=new Ii(oi.comparator);e=e.insert(o,ao.newNoDocument(o,ei.min()));const n=hs().add(o),i=new ca(ei.min(),new Map,new Ii(Xr),e,n);await qu(r,i),r.Aa=r.Aa.remove(o),r.Ra.delete(t),el(r)}else await Tc(r.localStore,t,!1).then((()=>Ju(r,t,n))).catch(pi)}async function Wu(e,t){const n=Fr(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Fr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=fi.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Pr(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=hs();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Ku(n,r,null),Zu(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tl(n,e)}catch(e){await pi(e)}}async function Gu(e,t,n){const r=Fr(e);try{const e=await function(e,t){const n=Fr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Pr(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Ku(r,t,n),Zu(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await tl(r,e)}catch(n){await pi(n)}}function Zu(e,t){(e.fa.get(t)||[]).forEach((e=>{e.resolve()})),e.fa.delete(t)}function Ku(e,t,n){const r=Fr(e);let i=r.ma[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.ma[r.currentUser.toKey()]=i}}function Ju(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ea.get(t))e.Ta.delete(r),n&&e.Ia.wa(r,n);e.Ea.delete(t),e.isPrimaryClient&&e.Va.Ar(t).forEach((t=>{e.Va.containsKey(t)||Xu(e,t)}))}function Xu(e,t){e.da.delete(t.path.canonicalString());const n=e.Aa.get(t);null!==n&&(Jc(e.remoteStore,n),e.Aa=e.Aa.remove(t),e.Ra.delete(n),el(e))}function Yu(e,t,n){for(const r of n)r instanceof Lu?(e.Va.addReference(r.key,t),Qu(e,r)):r instanceof Nu?(Rr("SyncEngine","Document no longer in limbo: "+r.key),e.Va.removeReference(r.key,t),e.Va.containsKey(r.key)||Xu(e,r.key)):Nr()}function Qu(e,t){const n=t.key,r=n.path.canonicalString();e.Aa.get(n)||e.da.has(r)||(Rr("SyncEngine","New document in limbo: "+n),e.da.add(r),el(e))}function el(e){for(;e.da.size>0&&e.Aa.size<e.maxConcurrentLimboResolutions;){const t=e.da.values().next().value;e.da.delete(t);const n=new oi(ni.fromString(t)),r=e.ga.next();e.Ra.set(r,new ju(n)),e.Aa=e.Aa.insert(n,r),Kc(e.remoteStore,new Za(zo(jo(n.path)),r,"TargetPurposeLimboResolution",gi.ae))}}async function tl(e,t,n){const r=Fr(e),i=[],o=[],s=[];r.Ta.isEmpty()||(r.Ta.forEach(((e,a)=>{s.push(r.ya(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=gc.qi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Ia.n_(i),await async function(e,t){const n=Fr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>fi.forEach(t,(t=>fi.forEach(t.Li,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>fi.forEach(t.ki,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!mi(e))throw e;Rr("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,o))}async function nl(e,t){const n=Fr(e);if(!n.currentUser.isEqual(t)){Rr("SyncEngine","User change. New user:",t.toKey());const e=await bc(n.localStore,t);n.currentUser=t,function(e,t){e.fa.forEach((e=>{e.forEach((e=>{e.reject(new Br(jr.CANCELLED,t))}))})),e.fa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await tl(n,e.ts)}}function rl(e,t){const n=Fr(e),r=n.Ra.get(t);if(r&&r.Pa)return hs().add(r.key);{let e=hs();const r=n.Ea.get(t);if(!r)return e;for(const t of r){const r=n.Ta.get(t);e=e.unionWith(r.view.ra)}return e}}function il(e){const t=Fr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=qu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rl.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$u.bind(null,t),t.Ia.n_=Du.bind(null,t.eventManager),t.Ia.wa=Ru.bind(null,t.eventManager),t}function ol(e){const t=Fr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Wu.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Gu.bind(null,t),t}class sl{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Bc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return _c(this.persistence,new vc,e.initialUser,this.serializer)}createPersistence(e){return new pc(mc.zr,this.serializer)}createSharedClientState(e){return new Ac}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class al{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>zu(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=nl.bind(null,this.syncEngine),await yu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ku}createDatastore(e){const t=Bc(e.databaseInfo.databaseId),n=function(e){return new Fc(e)}(e.databaseInfo);return function(e,t,n,r){return new zc(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Wc(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>zu(this.syncEngine,e,0)),Rc.v()?new Rc:new Dc)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Bu(e,t,n,r,i,o);return s&&(a.pa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Fr(e);Rr("RemoteStore","RemoteStore shutting down."),t.p_.add(5),await Zc(t),t.w_.shutdown(),t.S_.set("Unknown")}(this.remoteStore)}}class cl{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Da(this.observer.next,e)}error(e){this.observer.error?this.Da(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString())}va(){this.muted=!0}Da(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class ul{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=kr.UNAUTHENTICATED,this.clientId=Jr.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Rr("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Rr("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Br(jr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Cu(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function ll(e,t){e.asyncQueue.verifyOperationInProgress(),Rr("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await bc(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function hl(e,t){e.asyncQueue.verifyOperationInProgress();const n=await pl(e);Rr("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>vu(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>vu(t.remoteStore,n))),e._onlineComponents=t}function dl(e){return"FirebaseError"===e.name?e.code===jr.FAILED_PRECONDITION||e.code===jr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function pl(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Rr("FirestoreClient","Using user provided OfflineComponentProvider");try{await ll(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!dl(n))throw n;Or("Error using user provided cache. Falling back to memory cache: "+n),await ll(e,new sl)}}else Rr("FirestoreClient","Using default OfflineComponentProvider"),await ll(e,new sl);return e._offlineComponents}async function fl(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Rr("FirestoreClient","Using user provided OnlineComponentProvider"),await hl(e,e._uninitializedComponentsProvider._online)):(Rr("FirestoreClient","Using default OnlineComponentProvider"),await hl(e,new al))),e._onlineComponents}function ml(e){return fl(e).then((e=>e.syncEngine))}async function gl(e){const t=await fl(e),n=t.eventManager;return n.onListen=Uu.bind(null,t.syncEngine),n.onUnlisten=Hu.bind(null,t.syncEngine),n}function vl(e,t,n={}){const r=new Ur;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new cl({next:o=>{t.enqueueAndForget((()=>Au(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Br(jr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Br(jr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Ou(jo(n.path),o,{includeMetadataChanges:!0,U_:!0});return xu(e,s)}(await gl(e),e.asyncQueue,t,n,r))),r.promise}function yl(e,t,n={}){const r=new Ur;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new cl({next:n=>{t.enqueueAndForget((()=>Au(e,s))),n.fromCache&&"server"===r.source?i.reject(new Br(jr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Ou(n,o,{includeMetadataChanges:!0,U_:!0});return xu(e,s)}(await gl(e),e.asyncQueue,t,n,r))),r.promise}function _l(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const bl=new Map;function wl(e,t,n){if(!n)throw new Br(jr.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Cl(e){if(!oi.isDocumentKey(e))throw new Br(jr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function El(e){if(oi.isDocumentKey(e))throw new Br(jr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Sl(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Nr()}function Tl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Br(jr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sl(e);throw new Br(jr.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Il(e,t){if(t<=0)throw new Br(jr.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class kl{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Br(jr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Br(jr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Br(jr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_l(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Br(jr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Br(jr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Br(jr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xl{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Br(jr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Br(jr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kl(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Hr;switch(e.type){case"firstParty":return new Wr(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Br(jr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bl.get(e);t&&(Rr("ComponentProvider","Removing Datastore"),bl.delete(e),t.terminate())}(this),Promise.resolve()}}class Al{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Al(this.firestore,e,this._query)}}class Dl{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dl(this.firestore,e,this._key)}}class Rl extends Al{constructor(e,t,n){super(e,t,jo(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dl(this.firestore,null,new oi(e))}withConverter(e){return new Rl(this.firestore,e,this._path)}}function Ml(e,t,...n){if(e=(0,a.m9)(e),wl("collection","path",t),e instanceof xl){const r=ni.fromString(t,...n);return El(r),new Rl(e,null,r)}{if(!(e instanceof Dl||e instanceof Rl))throw new Br(jr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ni.fromString(t,...n));return El(r),new Rl(e.firestore,null,r)}}function Ol(e,t,...n){if(e=(0,a.m9)(e),1===arguments.length&&(t=Jr.V()),wl("doc","path",t),e instanceof xl){const r=ni.fromString(t,...n);return Cl(r),new Dl(e,null,new oi(r))}{if(!(e instanceof Dl||e instanceof Rl))throw new Br(jr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ni.fromString(t,...n));return Cl(r),new Dl(e.firestore,e instanceof Rl?e.converter:null,new oi(r))}}class Ll{constructor(){this.Ua=Promise.resolve(),this.Wa=[],this.Ga=!1,this.za=[],this.ja=null,this.Ha=!1,this.Ja=!1,this.Ya=[],this.Qo=new Uc(this,"async_queue_retry"),this.Za=()=>{const e=jc();e&&Rr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Qo.Oo()};const e=jc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Za)}get isShuttingDown(){return this.Ga}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xa(),this.eu(e)}enterRestrictedMode(e){if(!this.Ga){this.Ga=!0,this.Ja=e||!1;const t=jc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Za)}}enqueue(e){if(this.Xa(),this.Ga)return new Promise((()=>{}));const t=new Ur;return this.eu((()=>this.Ga&&this.Ja?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Wa.push(e),this.tu())))}async tu(){if(0!==this.Wa.length){try{await this.Wa[0](),this.Wa.shift(),this.Qo.reset()}catch(e){if(!mi(e))throw e;Rr("AsyncQueue","Operation failed with retryable error: "+e)}this.Wa.length>0&&this.Qo.Mo((()=>this.tu()))}}eu(e){const t=this.Ua.then((()=>(this.Ha=!0,e().catch((e=>{this.ja=e,this.Ha=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Mr("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ha=!1,e))))));return this.Ua=t,t}enqueueAfterDelay(e,t,n){this.Xa(),this.Ya.indexOf(e)>-1&&(t=0);const r=wu.createAndSchedule(this,e,t,n,(e=>this.nu(e)));return this.za.push(r),r}Xa(){this.ja&&Nr()}verifyOperationInProgress(){}async ru(){let e;do{e=this.Ua,await e}while(e!==this.Ua)}iu(e){for(const t of this.za)if(t.timerId===e)return!0;return!1}su(e){return this.ru().then((()=>{this.za.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.za)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ru()}))}ou(e){this.Ya.push(e)}nu(e){const t=this.za.indexOf(e);this.za.splice(t,1)}}function Nl(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Pl extends xl{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Ll,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Bl(this),this._firestoreClient.terminate()}}function Fl(e,t){const n="object"==typeof e?e:(0,i.Mq)(),r="string"==typeof e?e:t||"(default)",o=(0,i.qX)(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const e=(0,a.P0)("firestore");e&&function(e,t,n,r={}){var i;const o=(e=Tl(e,xl))._getSettings(),s=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Or("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=kr.MOCK_USER;else{t=(0,a.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Br(jr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new kr(o)}e._authCredentials=new qr(new Vr(t,n))}}(o,...e)}return o}function jl(e){return e._firestoreClient||Bl(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Bl(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Vi(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,_l(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new ul(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Ul{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ul(Oi.fromBase64String(e))}catch(e){throw new Br(jr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Ul(Oi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Vl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Br(jr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ii(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hl{constructor(e){this._methodName=e}}class ql{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Br(jr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Br(jr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xr(this._lat,e._lat)||Xr(this._long,e._long)}}const zl=/^__.*__$/;class $l{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Us(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bs(e,this.data,t,this.fieldTransforms)}}class Wl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Us(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Gl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nr()}}class Zl{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this._u(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get au(){return this.settings.au}uu(e){return new Zl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}cu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.uu({path:n,lu:!1});return r.hu(e),r}Pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.uu({path:n,lu:!1});return r._u(),r}Iu(e){return this.uu({path:void 0,lu:!0})}Tu(e){return lh(e,this.settings.methodName,this.settings.Eu||!1,this.path,this.settings.du)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}_u(){if(this.path)for(let e=0;e<this.path.length;e++)this.hu(this.path.get(e))}hu(e){if(0===e.length)throw this.Tu("Document fields must not be empty");if(Gl(this.au)&&zl.test(e))throw this.Tu('Document fields cannot begin and end with "__"')}}class Kl{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Bc(e)}Au(e,t,n,r=!1){return new Zl({au:e,methodName:t,du:n,path:ii.emptyPath(),lu:!1,Eu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jl(e){const t=e._freezeSettings(),n=Bc(e._databaseId);return new Kl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Xl(e,t,n,r,i,o={}){const s=e.Au(o.merge||o.mergeFields?2:0,t,n,i);sh("Data must be an object, but it was:",s,r);const a=ih(r,s);let c,u;if(o.merge)c=new Ri(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=ah(t,r,n);if(!s.contains(i))throw new Br(jr.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);hh(e,i)||e.push(i)}c=new Ri(e),u=s.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,u=s.fieldTransforms;return new $l(new oo(a),c,u)}class Yl extends Hl{_toFieldTransform(e){if(2!==e.au)throw 1===e.au?e.Tu(`${this._methodName}() can only appear at the top level of your update data`):e.Tu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yl}}class Ql extends Hl{_toFieldTransform(e){return new As(e.path,new ws)}isEqual(e){return e instanceof Ql}}function eh(e,t,n,r){const i=e.Au(1,t,n);sh("Data must be an object, but it was:",i,r);const o=[],s=oo.empty();Si(r,((e,r)=>{const c=uh(t,e,n);r=(0,a.m9)(r);const u=i.Pu(c);if(r instanceof Yl)o.push(c);else{const e=rh(r,u);null!=e&&(o.push(c),s.set(c,e))}}));const c=new Ri(o);return new Wl(s,c,i.fieldTransforms)}function th(e,t,n,r,i,o){const s=e.Au(1,t,n),c=[ah(t,r,n)],u=[i];if(o.length%2!=0)throw new Br(jr.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let a=0;a<o.length;a+=2)c.push(ah(t,o[a])),u.push(o[a+1]);const l=[],h=oo.empty();for(let p=c.length-1;p>=0;--p)if(!hh(l,c[p])){const e=c[p];let t=u[p];t=(0,a.m9)(t);const n=s.Pu(e);if(t instanceof Yl)l.push(e);else{const r=rh(t,n);null!=r&&(l.push(e),h.set(e,r))}}const d=new Ri(l);return new Wl(h,d,s.fieldTransforms)}function nh(e,t,n,r=!1){return rh(n,e.Au(r?4:3,t))}function rh(e,t){if(oh(e=(0,a.m9)(e)))return sh("Unsupported field value:",t,e),ih(e,t);if(e instanceof Hl)return function(e,t){if(!Gl(t.au))throw t.Tu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Tu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.lu&&4!==t.au)throw t.Tu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=rh(i,t.Iu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,a.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return gs(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Qr.fromDate(e);return{timestampValue:Ca(t.serializer,n)}}if(e instanceof Qr){const n=new Qr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ca(t.serializer,n)}}if(e instanceof ql)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ul)return{bytesValue:Ea(t.serializer,e._byteString)};if(e instanceof Dl){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Tu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Ia(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Tu(`Unsupported field value: ${Sl(e)}`)}(e,t)}function ih(e,t){const n={};return Ti(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Si(e,((e,r)=>{const i=rh(r,t.cu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function oh(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Qr||e instanceof ql||e instanceof Ul||e instanceof Dl||e instanceof Hl)}function sh(e,t,n){if(!oh(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Sl(n);throw"an object"===r?t.Tu(e+" a custom object"):t.Tu(e+" "+r)}}function ah(e,t,n){if((t=(0,a.m9)(t))instanceof Vl)return t._internalPath;if("string"==typeof t)return uh(e,t);throw lh("Field path arguments must be of type string or ",e,!1,void 0,n)}const ch=new RegExp("[~\\*/\\[\\]]");function uh(e,t,n){if(t.search(ch)>=0)throw lh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Vl(...t.split("."))._internalPath}catch(b){throw lh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function lh(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Br(jr.INVALID_ARGUMENT,a+e+c)}function hh(e,t){return e.some((e=>e.isEqual(t)))}class dh{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Dl(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ph(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ph extends dh{data(){return super.data()}}function fh(e,t){return"string"==typeof t?uh(e,t):t instanceof Vl?t._internalPath:t._delegate._internalPath}function mh(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Br(jr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gh{}class vh extends gh{}function yh(e,t,...n){let r=[];t instanceof gh&&r.push(t),r=r.concat(n),function(e){const t=e.filter((e=>e instanceof wh)).length,n=e.filter((e=>e instanceof _h)).length;if(t>1||t>0&&n>0)throw new Br(jr.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class _h extends vh{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new _h(e,t,n)}_apply(e){const t=this._parse(e);return Ah(e._query,t),new Al(e.firestore,e.converter,$o(e._query,t))}_parse(e){const t=Jl(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Br(jr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){xh(s,o);const t=[];for(const n of s)t.push(kh(r,e,n));a={arrayValue:{values:t}}}else a=kh(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||xh(s,o),a=nh(n,t,s,"in"===o||"not-in"===o);return mo.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function bh(e,t,n){const r=t,i=fh("where",e);return _h._create(i,r,n)}class wh extends gh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new wh(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:go.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Ah(n,i),n=$o(n,i)}(e._query,t),new Al(e.firestore,e.converter,$o(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Ch(...e){return e.forEach((e=>Rh("or",e))),wh._create("or",e)}class Eh extends vh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Eh(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Br(jr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Br(jr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new ho(t,n);return function(e,t){if(null===Uo(e)){const n=Vo(e);null!==n&&Dh(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Al(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Po(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Sh(e,t="asc"){const n=t,r=fh("orderBy",e);return Eh._create(r,n)}class Th extends vh{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Th(e,t,n)}_apply(e){return new Al(e.firestore,e.converter,Wo(e._query,this._limit,this._limitType))}}function Ih(e){return Il("limit",e),Th._create("limit",e,"F")}function kh(e,t,n){if("string"==typeof(n=(0,a.m9)(n))){if(""===n)throw new Br(jr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ho(t)&&-1!==n.indexOf("/"))throw new Br(jr.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ni.fromString(n));if(!oi.isDocumentKey(r))throw new Br(jr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xi(e,new oi(r))}if(n instanceof Dl)return Xi(e,n._key);throw new Br(jr.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sl(n)}.`)}function xh(e,t){if(!Array.isArray(e)||0===e.length)throw new Br(jr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Ah(e,t){if(t.isInequality()){const n=Vo(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Br(jr.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=Uo(e);null!==i&&Dh(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Br(jr.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Br(jr.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Dh(e,t,n){if(!n.isEqual(t))throw new Br(jr.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}function Rh(e,t){if(!(t instanceof _h||t instanceof wh))throw new Br(jr.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class Mh{convertValue(e,t="none"){switch(zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Nr()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Si(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new ql(Pi(e.latitude),Pi(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Bi(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ui(e));default:return null}}convertTimestamp(e){const t=Ni(e);return new Qr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ni.fromString(e);Pr(Ga(n));const r=new Hi(n.get(1),n.get(3)),i=new oi(n.popFirst(5));return r.isEqual(t)||Mr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Oh(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Lh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nh extends dh{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(fh("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Ph extends Nh{data(e={}){return super.data(e)}}class Fh{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Lh(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Ph(this._firestore,this._userDataWriter,n.key,n,new Lh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Br(jr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Ph(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Lh(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Ph(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Lh(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:jh(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jh(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nr()}}function Bh(e){e=Tl(e,Dl);const t=Tl(e.firestore,Pl);return vl(jl(t),e._key).then((n=>Zh(t,e,n)))}class Uh extends Mh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ul(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dl(this.firestore,null,t)}}function Vh(e){e=Tl(e,Al);const t=Tl(e.firestore,Pl),n=jl(t),r=new Uh(t);return mh(e._query),yl(n,e._query).then((n=>new Fh(t,r,e,n)))}function Hh(e,t,n){e=Tl(e,Dl);const r=Tl(e.firestore,Pl),i=Oh(e.converter,t,n);return Gh(r,[Xl(Jl(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Rs.none())])}function qh(e,t,n,...r){e=Tl(e,Dl);const i=Tl(e.firestore,Pl),o=Jl(i);let s;return s="string"==typeof(t=(0,a.m9)(t))||t instanceof Vl?th(o,"updateDoc",e._key,t,n,r):eh(o,"updateDoc",e._key,t),Gh(i,[s.toMutation(e._key,Rs.exists(!0))])}function zh(e){return Gh(Tl(e.firestore,Pl),[new zs(e._key,Rs.none())])}function $h(e,t){const n=Tl(e.firestore,Pl),r=Ol(e),i=Oh(e.converter,t);return Gh(n,[Xl(Jl(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Rs.exists(!1))]).then((()=>r))}function Wh(e,...t){var n,r,i;e=(0,a.m9)(e);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||Nl(t[s])||(o=t[s],s++);const c={includeMetadataChanges:o.includeMetadataChanges};if(Nl(t[s])){const e=t[s];t[s]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[s+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[s+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,l,h;if(e instanceof Dl)l=Tl(e.firestore,Pl),h=jo(e._key.path),u={next:n=>{t[s]&&t[s](Zh(l,e,n))},error:t[s+1],complete:t[s+2]};else{const n=Tl(e,Al);l=Tl(n.firestore,Pl),h=n._query;const r=new Uh(l);u={next:e=>{t[s]&&t[s](new Fh(l,r,n,e))},error:t[s+1],complete:t[s+2]},mh(e._query)}return function(e,t,n,r){const i=new cl(r),o=new Ou(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>xu(await gl(e),o))),()=>{i.va(),e.asyncQueue.enqueueAndForget((async()=>Au(await gl(e),o)))}}(jl(l),h,c,u)}function Gh(e,t){return function(e,t){const n=new Ur;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=ol(e);try{const e=await function(e,t){const n=Fr(e),r=Qr.now(),i=t.reduce(((e,t)=>e.add(t.key)),hs());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=ns(),c=hs();return n.Xi.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=Fs(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Us(e.key,t,so(t.value.mapValue),Rs.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:os(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.ma[e.currentUser.toKey()];r||(r=new Ii(Xr)),r=r.insert(t,n),e.ma[e.currentUser.toKey()]=r}(r,e.batchId,n),await tl(r,e.changes),await cu(r.remoteStore)}catch(e){const t=Cu(e,"Failed to persist write");n.reject(t)}}(await ml(e),t,n))),n.promise}(jl(e),t)}function Zh(e,t,n){const r=n.docs.get(t._key),i=new Uh(e);return new Nh(e,i,t._key,r,new Lh(n.hasPendingWrites,n.fromCache),t.converter)}function Kh(){return new Ql("serverTimestamp")}!function(e,t=!0){!function(e){xr=e}(i.Jn),(0,i.Xd)(new o.wA("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),o=new Pl(new zr(e.getProvider("auth-internal")),new Zr(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Br(jr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hi(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),(0,i.KN)(Ir,"4.0.0",e),(0,i.KN)(Ir,"4.0.0","esm2017")}()},1540:function(e,t,n){"use strict";n.d(t,{oq:function(){return be},cF:function(){return Ce},iH:function(){return we},KV:function(){return _e}});var r=n(5500),i=n(3395),o=n(6387);const s="firebasestorage.googleapis.com";class a extends i.ZR{constructor(e,t,n=0){super(l(e),`Firebase Storage: ${t} (${l(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,a.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return l(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var c,u;function l(e){return"storage/"+e}function h(){return new a(c.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function d(){return new a(c.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function p(){return new a(c.CANCELED,"User canceled the upload/download.")}function f(){return new a(c.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function m(e){return new a(c.INVALID_ARGUMENT,e)}function g(){return new a(c.APP_DELETED,"The Firebase app was deleted.")}function v(e,t){return new a(c.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function y(e){throw new a(c.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(c||(c={}));class _{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=_.makeFromUrl(e,t)}catch(i){return new _(e,"")}if(""===n.path)return n;throw r=e,new a(c.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const u=t.replace(/[.]/g,"\\."),l=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${u}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===s?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let s=0;s<l.length;s++){const t=l[s],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new _(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new a(c.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class b{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function w(e){return"string"===typeof e||e instanceof String}function C(e){return E()&&e instanceof Blob}function E(){return"undefined"!==typeof Blob&&!(0,i.UG)()}function S(e,t,n,r){if(r<t)throw m(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw m(`Invalid value for '${e}'. Expected ${n} or less.`)}function T(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function I(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function k(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(u||(u={}));class x{constructor(e,t,n,r,i,o,s,a,c,u,l,h=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=l,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new A(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===u.NO_ERROR,i=n.getStatus();if(!t||k(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===u.ABORT;return void e(!1,new A(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new A(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(o){r(o)}else if(null!==i){const e=h();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?g():p())}else{r(d())}};this.canceled_?t(0,new A(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let u=!1;function l(...e){u||(u=!0,t.apply(null,e))}function h(t){i=setTimeout((()=>{i=null,e(p,c())}),t)}function d(){o&&clearTimeout(o)}function p(e,...t){if(u)return void d();if(e)return d(),void l.call(null,e,...t);if(c()||s)return d(),void l.call(null,e,...t);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let f=!1;function m(e){f||(f=!0,d(),u||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class A{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function D(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function R(...e){const t=D();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(E())return new Blob(e);throw new a(c.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function M(e){if("undefined"===typeof atob)throw t="base-64",new a(c.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const O="raw",L="base64",N="base64url",P="data_url";class F{constructor(e,t){this.data=e,this.contentType=t||null}}function j(e,t){switch(e){case O:return new F(B(t));case L:case N:return new F(U(e,t));case P:return new F(function(e){const t=new V(e);return t.base64?U(L,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw v(P,"Malformed data URL.")}return B(t)}(t.rest)}(t),new V(t).contentType)}throw h()}function B(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function U(e,t){switch(e){case L:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw v(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case N:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw v(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=M(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw v(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class V{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw v(P,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}}class H{constructor(e,t){let n=0,r="";C(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(C(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new H(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new H(n,!0)}}static getBlob(...e){if(E()){const t=e.map((e=>e instanceof H?e.data_:e));return new H(R.apply(null,t))}{const t=e.map((e=>w(e)?j(O,e).data:e.data_));let n=0;t.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return t.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new H(r,!0)}}uploadData(){return this.data_}}function q(e){let t;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t;var n}function z(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function $(e,t){return t}class W{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||$}}let G=null;function Z(){if(G)return G;const e=[];e.push(new W("bucket")),e.push(new W("generation")),e.push(new W("metageneration")),e.push(new W("name","fullPath",!0));const t=new W("name");t.xform=function(e,t){return function(e){return!w(e)||e.length<2?e:z(e)}(t)},e.push(t);const n=new W("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new W("timeCreated")),e.push(new W("updated")),e.push(new W("md5Hash",null,!0)),e.push(new W("cacheControl",null,!0)),e.push(new W("contentDisposition",null,!0)),e.push(new W("contentEncoding",null,!0)),e.push(new W("contentLanguage",null,!0)),e.push(new W("contentType",null,!0)),e.push(new W("metadata","customMetadata",!0)),G=e,G}function K(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new _(n,r);return t._makeStorageReference(i)}})}(r,e),r}function J(e,t,n){const r=q(t);if(null===r)return null;return K(e,r,n)}function X(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class Y{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Q(e){if(!e)throw h()}function ee(e,t){return function(n,r){const i=J(e,r,t);return Q(null!==i),i}}function te(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new a(c.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new a(c.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new a(c.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new a(c.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function ne(e){const t=te(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new a(c.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function re(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function ie(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const c=re(t,r,i),u="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+X(c,n)+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",l="\r\n--"+a+"--",h=H.getBlob(u,r,l);if(null===h)throw f();const d={name:c.fullPath},p=T(o,e.host,e._protocol),m=e.maxUploadRetryTime,g=new Y(p,"POST",ee(e,n),m);return g.urlParams=d,g.headers=s,g.body=h.uploadData(),g.errorHandler=te(t),g}class oe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=u.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=u.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=u.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw y("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw y("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw y("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw y("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw y("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class se extends oe{initXhr(){this.xhr_.responseType="text"}}function ae(){return new se}class ce{constructor(e,t){this._service=e,this._location=t instanceof _?t:_.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ce(e,t)}get root(){const e=new _(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return z(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new _(this._location.bucket,e);return new ce(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new a(c.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function ue(e,t,n){e._throwIfRoot("uploadBytes");const r=ie(e.storage,e._location,Z(),new H(t,!0),n);return e.storage.makeRequestWithTokens(r,ae).then((t=>({metadata:t,ref:e})))}function le(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=T(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Y(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=ne(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,ae)}function he(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new _(e._location.bucket,n);return new ce(e.storage,r)}function de(e,t){if(e instanceof me){const n=e;if(null==n._bucket)throw new a(c.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const r=new ce(n,n._bucket);return null!=t?de(r,t):r}return void 0!==t?he(e,t):e}function pe(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof me)return new ce(e,t);throw m("To use ref(service, url), the first argument must be a Storage instance.")}return de(e,t)}function fe(e,t){const n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:_.makeFromBucketSpec(n,e)}class me{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=s,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?_.makeFromBucketSpec(r,this._host):fe(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=_.makeFromBucketSpec(this._url,e):this._bucket=fe(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){S("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){S("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ce(this,e)}_makeRequest(e,t,n,r,i=!0){if(this._deleted)return new b(g());{const o=function(e,t,n,r,i,o,s=!0){const a=I(e.urlParams),c=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new x(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const ge="@firebase/storage",ve="0.11.2",ye="storage";function _e(e,t,n){return ue(e=(0,i.m9)(e),t,n)}function be(e){return le(e=(0,i.m9)(e))}function we(e,t){return pe(e=(0,i.m9)(e),t)}function Ce(e=(0,r.Mq)(),t){e=(0,i.m9)(e);const n=(0,r.qX)(e,ye).getImmediate({identifier:t}),o=(0,i.P0)("storage");return o&&function(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:o}=r;o&&(e._overrideAuthToken="string"===typeof o?o:(0,i.Sg)(o,e.app.options.projectId))}(e,t,n,r)}(n,...o),n}function Ee(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new me(n,i,o,t,r.Jn)}(0,r.Xd)(new o.wA(ye,Ee,"PUBLIC").setMultipleInstances(!0)),(0,r.KN)(ge,ve,""),(0,r.KN)(ge,ve,"esm2017")},3422:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});const r=(0,n(2784).createContext)({})},976:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});const r=(0,n(2784).createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"})},7967:function(e,t,n){"use strict";n.d(t,{O:function(){return r}});const r=(0,n(2784).createContext)(null)},5403:function(e,t,n){"use strict";n.d(t,{w:function(){return r}});const r={delta:0,timestamp:0,isProcessing:!1}},1816:function(e,t,n){"use strict";n.d(t,{Pn:function(){return h},Wi:function(){return l},S6:function(){return a}});var r=n(5403);let i=!0,o=!1;const s=["read","update","preRender","render","postRender"],a=s.reduce(((e,t)=>(e[t]=function(e){let t=[],n=[],r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(e,o=!1,a=!1)=>{const c=a&&i,u=c?t:n;return o&&s.add(e),-1===u.indexOf(e)&&(u.push(e),c&&i&&(r=t.length)),e},cancel:e=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1),s.delete(e)},process:c=>{if(i)o=!0;else{if(i=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let n=0;n<r;n++){const r=t[n];r(c),s.has(r)&&(a.schedule(r),e())}i=!1,o&&(o=!1,a.process(c))}}};return a}((()=>o=!0)),e)),{}),c=e=>a[e].process(r.w),u=e=>{o=!1,r.w.delta=i?1e3/60:Math.max(Math.min(e-r.w.timestamp,40),1),r.w.timestamp=e,r.w.isProcessing=!0,s.forEach(c),r.w.isProcessing=!1,o&&(i=!1,requestAnimationFrame(u))},l=s.reduce(((e,t)=>{const n=a[t];return e[t]=(e,t=!1,s=!1)=>(o||(o=!0,i=!0,r.w.isProcessing||requestAnimationFrame(u)),n.schedule(e,t,s)),e}),{});function h(e){s.forEach((t=>a[t].cancel(e)))}},2548:function(e,t,n){"use strict";n.d(t,{E:function(){return Lo}});var r=n(2784),i=n(976);const o=(0,r.createContext)({});var s=n(7967),a=n(3617);const c=(0,r.createContext)({strict:!1});function u(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function l(e){return"string"===typeof e||Array.isArray(e)}function h(e){return"object"===typeof e&&"function"===typeof e.start}const d=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],p=["initial",...d];function f(e){return h(e.animate)||p.some((t=>l(e[t])))}function m(e){return Boolean(f(e)||e.variants)}function g(e){const{initial:t,animate:n}=function(e,t){if(f(e)){const{initial:t,animate:n}=e;return{initial:!1===t||l(t)?t:void 0,animate:l(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(o));return(0,r.useMemo)((()=>({initial:t,animate:n})),[v(t),v(n)])}function v(e){return Array.isArray(e)?e.join(" "):e}const y={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_={};for(const No in y)_[No]={isEnabled:e=>y[No].some((t=>!!e[t]))};var b=n(3791),w=n(3422);const C=(0,r.createContext)({}),E=Symbol.for("motionComponentSymbol");function S({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:l,Component:h}){e&&function(e){for(const t in e)_[t]={..._[t],...e[t]}}(e);const d=(0,r.forwardRef)((function(d,p){let f;const m={...(0,r.useContext)(i._),...d,layoutId:T(d)},{isStatic:v}=m,y=g(d),_=l(d,v);if(!v&&b.j){y.visualElement=function(e,t,n,u){const{visualElement:l}=(0,r.useContext)(o),h=(0,r.useContext)(c),d=(0,r.useContext)(s.O),p=(0,r.useContext)(i._).reducedMotion,f=(0,r.useRef)();u=u||h.renderer,!f.current&&u&&(f.current=u(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:!!d&&!1===d.initial,reducedMotionConfig:p}));const m=f.current;return(0,r.useInsertionEffect)((()=>{m&&m.update(n,d)})),(0,a.L)((()=>{m&&m.render()})),(0,r.useEffect)((()=>{m&&m.updateFeatures()})),(window.HandoffAppearAnimations?a.L:r.useEffect)((()=>{m&&m.animationState&&m.animationState.animateChanges()})),m}(h,_,m,t);const n=(0,r.useContext)(C),u=(0,r.useContext)(c).strict;y.visualElement&&(f=y.visualElement.loadFeatures(m,u,e,n))}return r.createElement(o.Provider,{value:y},f&&y.visualElement?r.createElement(f,{visualElement:y.visualElement,...m}):null,n(h,d,function(e,t,n){return(0,r.useCallback)((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):u(n)&&(n.current=r))}),[t])}(_,y.visualElement,p),_,v,y.visualElement))}));return d[E]=h,d}function T({layoutId:e}){const t=(0,r.useContext)(w.p).id;return t&&void 0!==e?t+"-"+e:e}function I(e){function t(t,n={}){return S(e(t,n))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const k=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function x(e){return"string"===typeof e&&!e.includes("-")&&!!(k.indexOf(e)>-1||/[A-Z]/.test(e))}const A={};const D=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],R=new Set(D);function M(e,{layout:t,layoutId:n}){return R.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!A[e]||"opacity"===e)}const O=e=>Boolean(e&&e.getVelocity),L={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},N=D.length;const P=e=>t=>"string"===typeof t&&t.startsWith(e),F=P("--"),j=P("var(--"),B=(e,t)=>t&&"number"===typeof e?t.transform(e):e,U=(e,t,n)=>Math.min(Math.max(n,e),t),V={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},H={...V,transform:e=>U(0,1,e)},q={...V,default:1},z=e=>Math.round(1e5*e)/1e5,$=/(-)?([\d]*\.?[\d])+/g,W=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,G=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Z(e){return"string"===typeof e}const K=e=>({test:t=>Z(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),J=K("deg"),X=K("%"),Y=K("px"),Q=K("vh"),ee=K("vw"),te={...X,parse:e=>X.parse(e)/100,transform:e=>X.transform(100*e)},ne={...V,transform:Math.round},re={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,size:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,rotate:J,rotateX:J,rotateY:J,rotateZ:J,scale:q,scaleX:q,scaleY:q,scaleZ:q,skew:J,skewX:J,skewY:J,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:H,originX:te,originY:te,originZ:Y,zIndex:ne,fillOpacity:H,strokeOpacity:H,numOctaves:ne};function ie(e,t,n,r){const{style:i,vars:o,transform:s,transformOrigin:a}=e;let c=!1,u=!1,l=!0;for(const h in t){const e=t[h];if(F(h)){o[h]=e;continue}const n=re[h],r=B(e,n);if(R.has(h)){if(c=!0,s[h]=r,!l)continue;e!==(n.default||0)&&(l=!1)}else h.startsWith("origin")?(u=!0,a[h]=r):i[h]=r}if(t.transform||(c||r?i.transform=function(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let o="";for(let s=0;s<N;s++){const t=D[s];void 0!==e[t]&&(o+=`${L[t]||t}(${e[t]}) `)}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(e,r?"":o):n&&r&&(o="none"),o}(e.transform,n,l,r):i.transform&&(i.transform="none")),u){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;i.transformOrigin=`${e} ${t} ${n}`}}const oe=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function se(e,t,n){for(const r in t)O(t[r])||M(r,n)||(e[r]=t[r])}function ae(e,t,n){const i={};return se(i,e.style||{},e),Object.assign(i,function({transformTemplate:e},t,n){return(0,r.useMemo)((()=>{const r={style:{},transform:{},transformOrigin:{},vars:{}};return ie(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)}),[t])}(e,t,n)),e.transformValues?e.transformValues(i):i}function ce(e,t,n){const r={},i=ae(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}var ue=n(2898);function le(e,t,n){return"string"===typeof e?e:Y.transform(t+n*e)}const he={offset:"stroke-dashoffset",array:"stroke-dasharray"},de={offset:"strokeDashoffset",array:"strokeDasharray"};function pe(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:c=0,...u},l,h,d){if(ie(e,u,l,d),h)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:f,dimensions:m}=e;p.transform&&(m&&(f.transform=p.transform),delete p.transform),m&&(void 0!==i||void 0!==o||f.transform)&&(f.transformOrigin=function(e,t,n){return`${le(t,e.x,e.width)} ${le(n,e.y,e.height)}`}(m,void 0!==i?i:.5,void 0!==o?o:.5)),void 0!==t&&(p.x=t),void 0!==n&&(p.y=n),void 0!==r&&(p.scale=r),void 0!==s&&function(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?he:de;e[o.offset]=Y.transform(-r);const s=Y.transform(t),a=Y.transform(n);e[o.array]=`${s} ${a}`}(p,s,a,c,!1)}const fe=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),me=e=>"string"===typeof e&&"svg"===e.toLowerCase();function ge(e,t,n,i){const o=(0,r.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return pe(n,t,{enableHardwareAcceleration:!1},me(i),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};se(t,e.style,e),o.style={...t,...o.style}}return o}function ve(e=!1){return(t,n,i,{latestValues:o},s)=>{const a=(x(t)?ge:ce)(n,o,s,t),c={...(0,ue.L)(n,"string"===typeof t,e),...a,ref:i},{children:u}=n,l=(0,r.useMemo)((()=>O(u)?u.get():u),[u]);return(0,r.createElement)(t,{...c,children:l})}}const ye=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function _e(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const be=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function we(e,t,n,r){_e(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(be.has(i)?i:ye(i),t.attrs[i])}function Ce(e,t){const{style:n}=e,r={};for(const i in n)(O(n[i])||t.style&&O(t.style[i])||M(i,e))&&(r[i]=n[i]);return r}function Ee(e,t){const n=Ce(e,t);for(const r in e)if(O(e[r])||O(t[r])){n[-1!==D.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function Se(e,t,n,r={},i={}){return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}var Te=n(3105);const Ie=e=>Array.isArray(e);function ke(e){const t=O(e)?e.get():e;return n=t,Boolean(n&&"object"===typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const xe=e=>(t,n)=>{const i=(0,r.useContext)(o),a=(0,r.useContext)(s.O),c=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,o){const s={latestValues:Ae(r,i,o,e),renderState:t()};return n&&(s.mount=e=>n(r,e,s)),s}(e,t,i,a);return n?c():(0,Te.h)(c)};function Ae(e,t,n,r){const i={},o=r(e,{});for(const h in o)i[h]=ke(o[h]);let{initial:s,animate:a}=e;const c=f(e),u=m(e);t&&u&&!c&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===a&&(a=t.animate));let l=!!n&&!1===n.initial;l=l||!1===s;const d=l?a:s;if(d&&"boolean"!==typeof d&&!h(d)){(Array.isArray(d)?d:[d]).forEach((t=>{const n=Se(e,t);if(!n)return;const{transitionEnd:r,transition:o,...s}=n;for(const e in s){let t=s[e];if(Array.isArray(t)){t=t[l?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]}))}return i}const De={useVisualState:xe({scrapeMotionValuesFromProps:Ee,createRenderState:fe,onMount:(e,t,{renderState:n,latestValues:r})=>{try{n.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(i){n.dimensions={x:0,y:0,width:0,height:0}}pe(n,r,{enableHardwareAcceleration:!1},me(t.tagName),e.transformTemplate),we(t,n)}})},Re={useVisualState:xe({scrapeMotionValuesFromProps:Ce,createRenderState:oe})};function Me(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Oe=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Le(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function Ne(e,t,n,r){return Me(e,t,(e=>t=>Oe(t)&&e(t,Le(t)))(n),r)}const Pe=(e,t)=>n=>t(e(n)),Fe=(...e)=>e.reduce(Pe);function je(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const Be=je("dragHorizontal"),Ue=je("dragVertical");function Ve(e){let t=!1;if("y"===e)t=Ue();else if("x"===e)t=Be();else{const e=Be(),n=Ue();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function He(){const e=Ve(!0);return!e||(e(),!1)}class qe{constructor(e){this.isMounted=!1,this.node=e}update(){}}var ze=n(1816);function $e(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return Ne(e.current,n,((n,i)=>{if("touch"===n.type||He())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&ze.Wi.update((()=>o[r](n,i)))}),{passive:!e.getProps()[r]})}const We=(e,t)=>!!t&&(e===t||We(e,t.parentElement));var Ge=n(65);function Ze(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Le(n))}const Ke=new WeakMap,Je=new WeakMap,Xe=e=>{const t=Ke.get(e.target);t&&t(e)},Ye=e=>{e.forEach(Xe)};function Qe(e,t,n){const r=function({root:e,...t}){const n=e||document;Je.has(n)||Je.set(n,{});const r=Je.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Ye,{root:e,...t})),r[i]}(t);return Ke.set(e,n),r.observe(e),()=>{Ke.delete(e),r.unobserve(e)}}const et={some:0,all:1};const tt={inView:{Feature:class extends qe{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:et[r]};return Qe(this.node.current,o,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=t?n:r;o&&o(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends qe{constructor(){super(...arguments),this.removeStartListeners=Ge.Z,this.removeEndListeners=Ge.Z,this.removeAccessibleListeners=Ge.Z,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const n=this.node.getProps(),r=Ne(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r}=this.node.getProps();ze.Wi.update((()=>{We(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)}))}),{passive:!(n.onTap||n.onPointerUp)}),i=Ne(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Fe(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Me(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Me(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&Ze("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&ze.Wi.update((()=>n(e,t)))}))})),Ze("down",((e,t)=>{this.startPress(e,t)}))})),t=Me(this.node.current,"blur",(()=>{this.isPressing&&Ze("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=Fe(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&ze.Wi.update((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!He()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&ze.Wi.update((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=Ne(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Me(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Fe(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends qe{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fe(Me(this.node.current,"focus",(()=>this.onFocus())),Me(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends qe{mount(){this.unmount=Fe($e(this.node,!0),$e(this.node,!1))}unmount(){}}}};function nt(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function rt(e,t,n){const r=e.getProps();return Se(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.get())),t}(e),function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.getVelocity())),t}(e))}const it="data-"+ye("framerAppearId");var ot=n(7035);const st=e=>1e3*e,at=e=>e/1e3,ct=!1,ut=e=>Array.isArray(e)&&"number"===typeof e[0];function lt(e){return Boolean(!e||"string"===typeof e&&dt[e]||ut(e)||Array.isArray(e)&&e.every(lt))}const ht=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,dt={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ht([0,.65,.55,1]),circOut:ht([.55,0,1,.45]),backIn:ht([.31,.01,.66,-.59]),backOut:ht([.33,1.53,.69,.99])};function pt(e){if(e)return ut(e)?ht(e):Array.isArray(e)?e.map(pt):dt[e]}const ft={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},mt={},gt={};for(const No in ft)gt[No]=()=>(void 0===mt[No]&&(mt[No]=ft[No]()),mt[No]);const vt=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function yt(e,t,n,r){if(e===t&&n===r)return Ge.Z;const i=t=>function(e,t,n,r,i){let o,s,a=0;do{s=t+(n-t)/2,o=vt(s,r,i)-e,o>0?n=s:t=s}while(Math.abs(o)>1e-7&&++a<12);return s}(t,0,1,e,n);return e=>0===e||1===e?e:vt(i(e),t,r)}const _t=yt(.42,0,1,1),bt=yt(0,0,.58,1),wt=yt(.42,0,.58,1),Ct=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Et=e=>t=>1-e(1-t),St=e=>1-Math.sin(Math.acos(e)),Tt=Et(St),It=Ct(Tt),kt=yt(.33,1.53,.69,.99),xt=Et(kt),At=Ct(xt),Dt={linear:Ge.Z,easeIn:_t,easeInOut:wt,easeOut:bt,circIn:St,circInOut:It,circOut:Tt,backIn:xt,backInOut:At,backOut:kt,anticipate:e=>(e*=2)<1?.5*xt(e):.5*(2-Math.pow(2,-10*(e-1)))},Rt=e=>{if(Array.isArray(e)){(0,ot.k)(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return yt(t,n,r,i)}return"string"===typeof e?((0,ot.k)(void 0!==Dt[e],`Invalid easing type '${e}'`),Dt[e]):e},Mt=(e,t)=>n=>Boolean(Z(n)&&G.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Ot=(e,t,n)=>r=>{if(!Z(r))return r;const[i,o,s,a]=r.match($);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},Lt={...V,transform:e=>Math.round((e=>U(0,255,e))(e))},Nt={test:Mt("rgb","red"),parse:Ot("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Lt.transform(e)+", "+Lt.transform(t)+", "+Lt.transform(n)+", "+z(H.transform(r))+")"};const Pt={test:Mt("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Nt.transform},Ft={test:Mt("hsl","hue"),parse:Ot("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+X.transform(z(t))+", "+X.transform(z(n))+", "+z(H.transform(r))+")"},jt={test:e=>Nt.test(e)||Pt.test(e)||Ft.test(e),parse:e=>Nt.test(e)?Nt.parse(e):Ft.test(e)?Ft.parse(e):Pt.parse(e),transform:e=>Z(e)?e:e.hasOwnProperty("red")?Nt.transform(e):Ft.transform(e)},Bt=(e,t,n)=>-n*e+n*t+e;function Ut(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const Vt=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Ht=[Pt,Nt,Ft];function qt(e){const t=(n=e,Ht.find((e=>e.test(n))));var n;(0,ot.k)(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`);let r=t.parse(e);return t===Ft&&(r=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,o=0,s=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,a=2*n-r;i=Ut(a,r,e+1/3),o=Ut(a,r,e),s=Ut(a,r,e-1/3)}else i=o=s=n;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*s),alpha:r}}(r)),r}const zt=(e,t)=>{const n=qt(e),r=qt(t),i={...n};return e=>(i.red=Vt(n.red,r.red,e),i.green=Vt(n.green,r.green,e),i.blue=Vt(n.blue,r.blue,e),i.alpha=Bt(n.alpha,r.alpha,e),Nt.transform(i))};const $t={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:Ge.Z},Wt={regex:W,countKey:"Colors",token:"${c}",parse:jt.parse},Gt={regex:$,countKey:"Numbers",token:"${n}",parse:V.parse};function Zt(e,{regex:t,countKey:n,token:r,parse:i}){const o=e.tokenised.match(t);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(i)))}function Kt(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Zt(n,$t),Zt(n,Wt),Zt(n,Gt),n}function Jt(e){return Kt(e).values}function Xt(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Kt(e),o=t.length;return e=>{let t=i;for(let i=0;i<o;i++)t=i<r?t.replace($t.token,e[i]):i<r+n?t.replace(Wt.token,jt.transform(e[i])):t.replace(Gt.token,z(e[i]));return t}}const Yt=e=>"number"===typeof e?0:e;const Qt={test:function(e){var t,n;return isNaN(e)&&Z(e)&&((null===(t=e.match($))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(W))||void 0===n?void 0:n.length)||0)>0},parse:Jt,createTransformer:Xt,getAnimatableNone:function(e){const t=Jt(e);return Xt(e)(t.map(Yt))}},en=(e,t)=>n=>`${n>0?t:e}`;function tn(e,t){return"number"===typeof e?n=>Bt(e,t,n):jt.test(e)?zt(e,t):e.startsWith("var(")?en(e,t):on(e,t)}const nn=(e,t)=>{const n=[...e],r=n.length,i=e.map(((e,n)=>tn(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},rn=(e,t)=>{const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=tn(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},on=(e,t)=>{const n=Qt.createTransformer(t),r=Kt(e),i=Kt(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Fe(nn(r.values,i.values),n):((0,ot.K)(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),en(e,t))},sn=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},an=(e,t)=>n=>Bt(e,t,n);function cn(e,t,n){const r=[],i=n||("number"===typeof(o=e[0])?an:"string"===typeof o?jt.test(o)?zt:on:Array.isArray(o)?nn:"object"===typeof o?rn:an);var o;const s=e.length-1;for(let a=0;a<s;a++){let n=i(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||Ge.Z:t;n=Fe(e,n)}r.push(n)}return r}function un(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if((0,ot.k)(o===t.length,"Both input and output ranges must be the same length"),1===o)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=cn(t,r,i),a=s.length,c=t=>{let n=0;if(a>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=sn(e[n],e[n+1],t);return s[n](r)};return n?t=>c(U(e[0],e[o-1],t)):c}function ln(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=sn(0,t,r);e.push(Bt(n,1,i))}}(t,e.length-1),t}function hn({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(r)?r.map(Rt):Rt(r),o={done:!1,value:t[0]},s=function(e,t){return e.map((e=>e*t))}(n&&n.length===t.length?n:ln(t),e),a=un(s,t,{ease:Array.isArray(i)?i:(c=t,u=i,c.map((()=>u||wt)).splice(0,c.length-1))});var c,u;return{calculatedDuration:e,next:t=>(o.value=a(t),o.done=t>=e,o)}}function dn(e,t){return t?e*(1e3/t):0}function pn(e,t,n){const r=Math.max(t-5,0);return dn(n-e(r),t-r)}const fn=.001;function mn({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,o;(0,ot.K)(e<=st(10),"Spring duration must be 10 seconds or less");let s=1-t;s=U(.05,1,s),e=U(.01,10,at(e)),s<1?(i=t=>{const r=t*s,i=r*e,o=r-n,a=gn(t,s),c=Math.exp(-i);return fn-o/a*c},o=t=>{const r=t*s*e,o=r*n+n,a=Math.pow(s,2)*Math.pow(t,2)*e,c=Math.exp(-r),u=gn(Math.pow(t,2),s);return(-i(t)+fn>0?-1:1)*((o-a)*c)/u}):(i=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,o=t=>Math.exp(-t*e)*(e*e*(n-t)));const a=function(e,t,n){let r=n;for(let i=1;i<12;i++)r-=e(r)/t(r);return r}(i,o,5/e);if(e=st(e),isNaN(a))return{stiffness:100,damping:10,duration:e};{const t=Math.pow(a,2)*r;return{stiffness:t,damping:2*s*Math.sqrt(r*t),duration:e}}}function gn(e,t){return e*Math.sqrt(1-t*t)}const vn=["duration","bounce"],yn=["stiffness","damping","mass"];function _n(e,t){return t.some((t=>void 0!==e[t]))}function bn({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],o=e[e.length-1],s={done:!1,value:i},{stiffness:a,damping:c,mass:u,velocity:l,duration:h,isResolvedFromDuration:d}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!_n(e,yn)&&_n(e,vn)){const n=mn(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}(r),p=l?-at(l):0,f=c/(2*Math.sqrt(a*u)),m=o-i,g=at(Math.sqrt(a/u)),v=Math.abs(m)<5;let y;if(n||(n=v?.01:2),t||(t=v?.005:.5),f<1){const e=gn(g,f);y=t=>{const n=Math.exp(-f*g*t);return o-n*((p+f*g*m)/e*Math.sin(e*t)+m*Math.cos(e*t))}}else if(1===f)y=e=>o-Math.exp(-g*e)*(m+(p+g*m)*e);else{const e=g*Math.sqrt(f*f-1);y=t=>{const n=Math.exp(-f*g*t),r=Math.min(e*t,300);return o-n*((p+f*g*m)*Math.sinh(r)+e*m*Math.cosh(r))/e}}return{calculatedDuration:d&&h||null,next:e=>{const r=y(e);if(d)s.done=e>=h;else{let i=p;0!==e&&(i=f<1?pn(y,e,r):0);const a=Math.abs(i)<=n,c=Math.abs(o-r)<=t;s.done=a&&c}return s.value=s.done?o:r,s}}}function wn({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:c,restDelta:u=.5,restSpeed:l}){const h=e[0],d={done:!1,value:h},p=e=>void 0===a?c:void 0===c||Math.abs(a-e)<Math.abs(c-e)?a:c;let f=n*t;const m=h+f,g=void 0===s?m:s(m);g!==m&&(f=g-h);const v=e=>-f*Math.exp(-e/r),y=e=>g+v(e),_=e=>{const t=v(e),n=y(e);d.done=Math.abs(t)<=u,d.value=d.done?g:n};let b,w;const C=e=>{var t;(t=d.value,void 0!==a&&t<a||void 0!==c&&t>c)&&(b=e,w=bn({keyframes:[d.value,p(d.value)],velocity:pn(y,e,d.value),damping:i,stiffness:o,restDelta:u,restSpeed:l}))};return C(0),{calculatedDuration:null,next:e=>{let t=!1;return w||void 0!==b||(t=!0,_(e),C(e)),void 0!==b&&e>b?w.next(e-b):(!t&&_(e),d)}}}var Cn=n(5403);const En=e=>{const t=({timestamp:t})=>e(t);return{start:()=>ze.Wi.update(t,!0),stop:()=>(0,ze.Pn)(t),now:()=>Cn.w.isProcessing?Cn.w.timestamp:performance.now()}};function Sn(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const Tn={decay:wn,inertia:wn,tween:hn,keyframes:hn,spring:bn};function In({autoplay:e=!0,delay:t=0,driver:n=En,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:c,onStop:u,onComplete:l,onUpdate:h,...d}){let p,f,m=1,g=!1;const v=()=>{p&&p(),f=new Promise((e=>{p=e}))};let y;v();const _=Tn[i]||hn;let b;_!==hn&&"number"!==typeof r[0]&&(b=un([0,100],r,{clamp:!1}),r=[0,100]);const w=_({...d,keyframes:r});let C;"mirror"===a&&(C=_({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let E="idle",S=null,T=null,I=null;null===w.calculatedDuration&&o&&(w.calculatedDuration=Sn(w));const{calculatedDuration:k}=w;let x=1/0,A=1/0;null!==k&&(x=k+s,A=x*(o+1)-s);let D=0;const R=e=>{if(null===T)return;m>0&&(T=Math.min(T,e)),D=null!==S?S:(e-T)*m;const n=D-t,i=n<0;D=Math.max(n,0),"finished"===E&&null===S&&(D=A);let c=D,u=w;if(o){const e=D/x;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,o+1);const r=Boolean(t%2);r&&("reverse"===a?(n=1-n,s&&(n-=s/x)):"mirror"===a&&(u=C));let i=U(0,1,n);D>A&&(i="reverse"===a&&r?1:0),c=i*x}const l=i?{done:!1,value:r[0]}:u.next(c);b&&(l.value=b(l.value));let{done:d}=l;i||null===k||(d=D>=A);const p=null===S&&("finished"===E||"running"===E&&d||m<0&&D<=0);return h&&h(l.value),p&&L(),l},M=()=>{y&&y.stop(),y=void 0},O=()=>{E="idle",M(),v(),T=I=null},L=()=>{E="finished",l&&l(),M(),v()},N=()=>{if(g)return;y||(y=n(R));const e=y.now();c&&c(),null!==S?T=e-S:T&&"finished"!==E||(T=e),I=T,S=null,E="running",y.start()};e&&N();const P={then:(e,t)=>f.then(e,t),get time(){return at(D)},set time(e){e=st(e),D=e,null===S&&y&&0!==m?T=y.now()-e/m:S=e},get duration(){const e=null===w.calculatedDuration?Sn(w):w.calculatedDuration;return at(e)},get speed(){return m},set speed(e){e!==m&&y&&(m=e,P.time=at(D))},get state(){return E},play:N,pause:()=>{E="paused",S=D},stop:()=>{g=!0,"idle"!==E&&(E="idle",u&&u(),O())},cancel:()=>{null!==I&&R(I),O()},complete:()=>{E="finished"},sample:e=>(T=0,R(e))};return P}const kn=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function xn(e,t,{onUpdate:n,onComplete:r,...i}){if(!(gt.waapi()&&kn.has(t)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type))return!1;let o,s,a=!1;const c=()=>{s=new Promise((e=>{o=e}))};c();let{keyframes:u,duration:l=300,ease:h,times:d}=i;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!lt(t.ease))(t,i)){const e=In({...i,repeat:0,delay:0});let t={done:!1,value:u[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;d=void 0,u=n,l=r-10,h="linear"}const p=function(e,t,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:c}={}){const u={[t]:n};c&&(u.offset=c);const l=pt(a);return Array.isArray(l)&&(u.easing=l),e.animate(u,{delay:r,duration:i,easing:Array.isArray(l)?"linear":l,fill:"both",iterations:o+1,direction:"reverse"===s?"alternate":"normal"})}(e.owner.current,t,u,{...i,duration:l,ease:h,times:d}),f=()=>p.cancel(),m=()=>{ze.Wi.update(f),o(),c()};return p.onfinish=()=>{e.set(function(e,{repeat:t,repeatType:n="loop"}){return e[t&&"loop"!==n&&t%2===1?0:e.length-1]}(u,i)),r&&r(),m()},{then:(e,t)=>s.then(e,t),get time(){return at(p.currentTime||0)},set time(e){p.currentTime=st(e)},get speed(){return p.playbackRate},set speed(e){p.playbackRate=e},get duration(){return at(l)},play:()=>{a||(p.play(),(0,ze.Pn)(f))},pause:()=>p.pause(),stop:()=>{if(a=!0,"idle"===p.playState)return;const{currentTime:t}=p;if(t){const n=In({...i,autoplay:!1});e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}m()},complete:()=>p.finish(),cancel:m}}const An={type:"spring",stiffness:500,damping:25,restSpeed:10},Dn={type:"keyframes",duration:.8},Rn={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Mn=(e,{keyframes:t})=>t.length>2?Dn:R.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:An:Rn,On=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Qt.test(t)&&"0"!==t||t.startsWith("url("))),Ln=new Set(["brightness","contrast","saturate","opacity"]);function Nn(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match($)||[];if(!r)return e;const i=n.replace(r,"");let o=Ln.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const Pn=/([a-z-]*)\(.*?\)/g,Fn={...Qt,getAnimatableNone:e=>{const t=e.match(Pn);return t?t.map(Nn).join(" "):e}},jn={...re,color:jt,backgroundColor:jt,outlineColor:jt,fill:jt,stroke:jt,borderColor:jt,borderTopColor:jt,borderRightColor:jt,borderBottomColor:jt,borderLeftColor:jt,filter:Fn,WebkitFilter:Fn},Bn=e=>jn[e];function Un(e,t){let n=Bn(e);return n!==Fn&&(n=Qt),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Vn=e=>/^0[^.\s]+$/.test(e);function Hn(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||Vn(e):void 0}function qn(e,t){return e[t]||e.default||e}const zn=(e,t,n,r={})=>i=>{const o=qn(r,e)||{},s=o.delay||r.delay||0;let{elapsed:a=0}=r;a-=st(s);const c=function(e,t,n,r){const i=On(t,n);let o;o=Array.isArray(n)?[...n]:[null,n];const s=void 0!==r.from?r.from:e.get();let a;const c=[];for(let u=0;u<o.length;u++)null===o[u]&&(o[u]=0===u?s:o[u-1]),Hn(o[u])&&c.push(u),"string"===typeof o[u]&&"none"!==o[u]&&"0"!==o[u]&&(a=o[u]);if(i&&c.length&&a)for(let u=0;u<c.length;u++)o[c[u]]=Un(t,a);return o}(t,e,n,o),u=c[0],l=c[c.length-1],h=On(e,u),d=On(e,l);(0,ot.K)(h===d,`You are trying to animate ${e} from "${u}" to "${l}". ${u} is not an animatable value - to enable this animation set ${u} to a value animatable to ${l} via the \`style\` property.`);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:c,elapsed:u,...l}){return!!Object.keys(l).length}(o)||(p={...p,...Mn(e,p)}),p.duration&&(p.duration=st(p.duration)),p.repeatDelay&&(p.repeatDelay=st(p.repeatDelay)),!h||!d||ct||!1===o.type)return function({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ge.Z,pause:Ge.Z,stop:Ge.Z,then:e=>(e(),Promise.resolve()),cancel:Ge.Z,complete:Ge.Z});return t?In({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}(p);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=xn(t,e,p);if(n)return n}return In(p)};function $n(e){return Boolean(O(e)&&e.add)}function Wn(e,t){-1===e.indexOf(t)&&e.push(t)}function Gn(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Zn{constructor(){this.subscriptions=[]}add(e){return Wn(this.subscriptions,e),()=>Gn(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}class Kn{constructor(e,t={}){var n;this.version="10.12.16",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(e,t=!0)=>{this.prev=this.current,this.current=e;const{delta:n,timestamp:r}=Cn.w;this.lastUpdated!==r&&(this.timeDelta=n,this.lastUpdated=r,ze.Wi.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ze.Wi.postRender(this.velocityCheck),this.velocityCheck=({timestamp:e})=>{e!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(n=this.current,!isNaN(parseFloat(n))),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Zn);const n=this.events[e].add(t);return"change"===e?()=>{n(),ze.Wi.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?dn(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jn(e,t){return new Kn(e,t)}const Xn=e=>t=>t.test(e),Yn=[V,Y,X,J,ee,Q,{test:e=>"auto"===e,parse:e=>e}],Qn=e=>Yn.find(Xn(e)),er=[...Yn,jt,Qt],tr=e=>er.find(Xn(e));function nr(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Jn(n))}function rr(e,t){const n=rt(e,t);let{transitionEnd:r={},transition:i={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const a in o){nr(e,a,(s=o[a],Ie(s)?s[s.length-1]||0:s))}var s}function ir(e,t){if(!t)return;return(t[e]||t.default||t).from}function or({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}function sr(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(o=r);const u=[],l=i&&e.animationState&&e.animationState.getState()[i];for(const h in a){const t=e.getValue(h),r=a[h];if(!t||void 0===r||l&&or(l,h))continue;const i={delay:n,elapsed:0,...o};if(window.HandoffAppearAnimations&&!t.hasAnimated){const n=e.getProps()[it];n&&(i.elapsed=window.HandoffAppearAnimations(n,h,t,ze.Wi))}t.start(zn(h,t,r,e.shouldReduceMotion&&R.has(h)?{type:!1}:i));const s=t.animation;$n(c)&&(c.add(h),s.then((()=>c.remove(h)))),u.push(s)}return s&&Promise.all(u).then((()=>{s&&rr(e,s)})),u}function ar(e,t,n={}){const r=rt(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(sr(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:o=0,staggerChildren:s,staggerDirection:a}=i;return function(e,t,n=0,r=0,i=1,o){const s=[],a=(e.variantChildren.size-1)*r,c=1===i?(e=0)=>e*r:(e=0)=>a-e*r;return Array.from(e.variantChildren).sort(cr).forEach(((e,r)=>{e.notify("AnimationStart",t),s.push(ar(e,t,{...o,delay:n+c(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(s)}(e,t,o+r,s,a,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[e,t]="beforeChildren"===a?[o,s]:[s,o];return e().then((()=>t()))}return Promise.all([o(),s(n.delay)])}function cr(e,t){return e.sortNodePosition(t)}const ur=[...d].reverse(),lr=d.length;function hr(e){return t=>Promise.all(t.map((({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>ar(e,t,n)));r=Promise.all(i)}else if("string"===typeof t)r=ar(e,t,n);else{const i="function"===typeof t?rt(e,t,n.custom):t;r=Promise.all(sr(e,i,n))}return r.then((()=>e.notify("AnimationComplete",t)))}(e,t,n))))}function dr(e){let t=hr(e);const n={animate:fr(!0),whileInView:fr(),whileHover:fr(),whileTap:fr(),whileDrag:fr(),whileFocus:fr(),exit:fr()};let r=!0;const i=(t,n)=>{const r=rt(e,n);if(r){const{transition:e,transitionEnd:n,...i}=r;t={...t,...i,...n}}return t};function o(o,s){const a=e.getProps(),c=e.getVariantContext(!0)||{},u=[],d=new Set;let p={},f=1/0;for(let t=0;t<lr;t++){const m=ur[t],g=n[m],v=void 0!==a[m]?a[m]:c[m],y=l(v),_=m===s?g.isActive:null;!1===_&&(f=t);let b=v===c[m]&&v!==a[m]&&y;if(b&&r&&e.manuallyAnimateOnMount&&(b=!1),g.protectedKeys={...p},!g.isActive&&null===_||!v&&!g.prevProp||h(v)||"boolean"===typeof v)continue;const w=pr(g.prevProp,v);let C=w||m===s&&g.isActive&&!b&&y||t>f&&y;const E=Array.isArray(v)?v:[v];let S=E.reduce(i,{});!1===_&&(S={});const{prevResolvedValues:T={}}=g,I={...T,...S},k=e=>{C=!0,d.delete(e),g.needsAnimating[e]=!0};for(const e in I){const t=S[e],n=T[e];p.hasOwnProperty(e)||(t!==n?Ie(t)&&Ie(n)?!nt(t,n)||w?k(e):g.protectedKeys[e]=!0:void 0!==t?k(e):d.add(e):void 0!==t&&d.has(e)?k(e):g.protectedKeys[e]=!0)}g.prevProp=v,g.prevResolvedValues=S,g.isActive&&(p={...p,...S}),r&&e.blockInitialAnimation&&(C=!1),C&&!b&&u.push(...E.map((e=>({animation:e,options:{type:m,...o}}))))}if(d.size){const t={};d.forEach((n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)})),u.push({animation:t})}let m=Boolean(u.length);return r&&!1===a.initial&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(u):Promise.resolve()}return{animateChanges:o,setActive:function(t,r,i){var s;if(n[t].isActive===r)return Promise.resolve();null===(s=e.variantChildren)||void 0===s||s.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const a=o(i,t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function pr(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!nt(t,e)}function fr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let mr=0;const gr={animation:{Feature:class extends qe{constructor(e){super(e),e.animationState||(e.animationState=dr(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),h(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends qe{constructor(){super(...arguments),this.id=mr++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},vr=(e,t)=>Math.abs(e-t);class yr{constructor(e,t,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=wr(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=vr(e.x,t.x),r=vr(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Cn.w;this.history.push({...r,timestamp:i});const{onStart:o,onMove:s}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=_r(t,this.transformPagePoint),ze.Wi.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{if(this.end(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const{onEnd:n,onSessionEnd:r}=this.handlers,i=wr("pointercancel"===e.type?this.lastMoveEventInfo:_r(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!Oe(e))return;this.handlers=t,this.transformPagePoint=n;const r=_r(Le(e),this.transformPagePoint),{point:i}=r,{timestamp:o}=Cn.w;this.history=[{...i,timestamp:o}];const{onSessionStart:s}=t;s&&s(e,wr(r,this.history)),this.removeListeners=Fe(Ne(window,"pointermove",this.handlePointerMove),Ne(window,"pointerup",this.handlePointerUp),Ne(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),(0,ze.Pn)(this.updatePoint)}}function _r(e,t){return t?{point:t(e.point)}:e}function br(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wr({point:e},t){return{point:e,delta:br(e,Er(t)),offset:br(e,Cr(t)),velocity:Sr(t,.1)}}function Cr(e){return e[0]}function Er(e){return e[e.length-1]}function Sr(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Er(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>st(t)));)n--;if(!r)return{x:0,y:0};const o=at(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Tr(e){return e.max-e.min}function Ir(e,t=0,n=.01){return Math.abs(e-t)<=n}function kr(e,t,n,r=.5){e.origin=r,e.originPoint=Bt(t.min,t.max,e.origin),e.scale=Tr(n)/Tr(t),(Ir(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Bt(n.min,n.max,e.origin)-e.originPoint,(Ir(e.translate)||isNaN(e.translate))&&(e.translate=0)}function xr(e,t,n,r){kr(e.x,t.x,n.x,r?r.originX:void 0),kr(e.y,t.y,n.y,r?r.originY:void 0)}function Ar(e,t,n){e.min=n.min+t.min,e.max=e.min+Tr(t)}function Dr(e,t,n){e.min=t.min-n.min,e.max=e.min+Tr(t)}function Rr(e,t,n){Dr(e.x,t.x,n.x),Dr(e.y,t.y,n.y)}function Mr(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Or(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Lr=.35;function Nr(e,t,n){return{min:Pr(e,t),max:Pr(e,n)}}function Pr(e,t){return"number"===typeof e?e:e[t]||0}function Fr(e){return[e("x"),e("y")]}function jr({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Br(e){return void 0===e||1===e}function Ur({scale:e,scaleX:t,scaleY:n}){return!Br(e)||!Br(t)||!Br(n)}function Vr(e){return Ur(e)||Hr(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Hr(e){return qr(e.x)||qr(e.y)}function qr(e){return e&&"0%"!==e}function zr(e,t,n){return n+t*(e-n)}function $r(e,t,n,r,i){return void 0!==i&&(e=zr(e,i,r)),zr(e,n,r)+t}function Wr(e,t=0,n=1,r,i){e.min=$r(e.min,t,n,r,i),e.max=$r(e.max,t,n,r,i)}function Gr(e,{x:t,y:n}){Wr(e.x,t.translate,t.scale,t.originPoint),Wr(e.y,n.translate,n.scale,n.originPoint)}function Zr(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Kr(e,t){e.min=e.min+t,e.max=e.max+t}function Jr(e,t,[n,r,i]){const o=void 0!==t[i]?t[i]:.5,s=Bt(e.min,e.max,o);Wr(e,t[n],t[r],s,t.scale)}const Xr=["x","scaleX","originX"],Yr=["y","scaleY","originY"];function Qr(e,t){Jr(e.x,t,Xr),Jr(e.y,t,Yr)}function ei(e,t){return jr(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const ti=new WeakMap;class ni{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;this.panSession=new yr(e,{onSessionStart:e=>{this.stopAnimation(),t&&this.snapToCursor(Le(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Ve(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fr((e=>{let t=this.getAxisMotionValue(e).get()||0;if(X.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Tr(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&ze.Wi.update((()=>i(e,t)),!1,!0);const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>this.stop(e,t)},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&ze.Wi.update((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!ri(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?Bt(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?Bt(n,e,r.max):Math.min(e,n)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:n}=this.visualElement.projection||{},r=this.constraints;e&&u(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,{top:t,left:n,bottom:r,right:i}){return{x:Mr(e.x,n,i),y:Mr(e.y,t,r)}}(n.layoutBox,e),this.elastic=function(e=Lr){return!1===e?e=0:!0===e&&(e=Lr),{x:Nr(e,"left","right"),y:Nr(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Fr((e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!u(e))return!1;const n=e.current;(0,ot.k)(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=ei(e,n),{scroll:i}=t;return i&&(Kr(r.x,i.offset.x),Kr(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(e,t){return{x:Or(e.x,t.x),y:Or(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=jr(e))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{},c=Fr((s=>{if(!ri(s,t,this.currentDirection))return;let c=a&&a[s]||{};o&&(c={min:0,max:0});const u=r?200:1e6,l=r?40:1e7,h={type:"inertia",velocity:n?e[s]:0,bounceStiffness:u,bounceDamping:l,timeConstant:750,restDelta:1,restSpeed:10,...i,...c};return this.startAxisValueAnimation(s,h)}));return Promise.all(c).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(zn(e,n,0,t))}stopAnimation(){Fr((e=>this.getAxisMotionValue(e).stop()))}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Fr((t=>{const{drag:n}=this.getProps();if(!ri(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[t];i.set(e[t]-Bt(n,o,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!u(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Fr((e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=Tr(e),i=Tr(t);return i>r?n=sn(t.min,t.max-r,e.min):r>i&&(n=sn(e.min,e.max-i,t.min)),U(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Fr((t=>{if(!ri(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:o}=this.constraints[t];n.set(Bt(i,o,r[t]))}))}addListeners(){if(!this.visualElement.current)return;ti.set(this.visualElement,this);const e=Ne(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();u(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=Me(window,"resize",(()=>this.scalePositionWithinConstraints())),o=n.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(Fr((t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=Lr,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function ri(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const ii=e=>(t,n)=>{e&&ze.Wi.update((()=>e(t,n)))};const oi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function si(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ai={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Y.test(e))return e;e=parseFloat(e)}return`${si(e,t.target.x)}% ${si(e,t.target.y)}%`}},ci={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Qt.parse(e);if(i.length>5)return r;const o=Qt.createTransformer(e),s="number"!==typeof i[0]?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;i[0+s]/=a,i[1+s]/=c;const u=Bt(a,c,.5);return"number"===typeof i[2+s]&&(i[2+s]/=u),"number"===typeof i[3+s]&&(i[3+s]/=u),o(i)}};class ui extends r.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var o;o=hi,Object.assign(A,o),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),oi.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o?(o.isPresent=i,r||e.layoutDependency!==t||void 0===t?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ze.Wi.postRender((()=>{const e=o.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function li(e){const[t,n]=function(){const e=(0,r.useContext)(s.O);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,o=(0,r.useId)();return(0,r.useEffect)((()=>i(o)),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}(),i=(0,r.useContext)(w.p);return r.createElement(ui,{...e,layoutGroup:i,switchLayoutGroup:(0,r.useContext)(C),isPresent:t,safeToRemove:n})}const hi={borderRadius:{...ai,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ai,borderTopRightRadius:ai,borderBottomLeftRadius:ai,borderBottomRightRadius:ai,boxShadow:ci},di=["TopLeft","TopRight","BottomLeft","BottomRight"],pi=di.length,fi=e=>"string"===typeof e?parseFloat(e):e,mi=e=>"number"===typeof e||Y.test(e);function gi(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const vi=_i(0,.5,Tt),yi=_i(.5,.95,Ge.Z);function _i(e,t,n){return r=>r<e?0:r>t?1:n(sn(e,t,r))}function bi(e,t){e.min=t.min,e.max=t.max}function wi(e,t){bi(e.x,t.x),bi(e.y,t.y)}function Ci(e,t,n,r,i){return e=zr(e-=t,1/n,r),void 0!==i&&(e=zr(e,1/i,r)),e}function Ei(e,t,[n,r,i],o,s){!function(e,t=0,n=1,r=.5,i,o=e,s=e){X.test(t)&&(t=parseFloat(t),t=Bt(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let a=Bt(o.min,o.max,r);e===o&&(a-=t),e.min=Ci(e.min,t,n,a,i),e.max=Ci(e.max,t,n,a,i)}(e,t[n],t[r],t[i],t.scale,o,s)}const Si=["x","scaleX","originX"],Ti=["y","scaleY","originY"];function Ii(e,t,n,r){Ei(e.x,t,Si,n?n.x:void 0,r?r.x:void 0),Ei(e.y,t,Ti,n?n.y:void 0,r?r.y:void 0)}function ki(e){return 0===e.translate&&1===e.scale}function xi(e){return ki(e.x)&&ki(e.y)}function Ai(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Di(e){return Tr(e.x)/Tr(e.y)}class Ri{constructor(){this.members=[]}add(e){Wn(this.members,e),e.scheduleRender()}remove(e){if(Gn(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Mi(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+=`rotate(${e}deg) `),t&&(r+=`rotateX(${t}deg) `),i&&(r+=`rotateY(${i}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return 1===s&&1===a||(r+=`scale(${s}, ${a})`),r||"none"}const Oi=(e,t)=>e.depth-t.depth;class Li{constructor(){this.children=[],this.isDirty=!1}add(e){Wn(this.children,e),this.isDirty=!0}remove(e){Gn(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Oi),this.isDirty=!1,this.children.forEach(e)}}const Ni=["","X","Y","Z"];let Pi=0;const Fi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ji({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=(null===t||void 0===t?void 0:t())){this.id=Pi++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Fi.totalNodes=Fi.resolvedTargetDeltas=Fi.recalculatedProjection=0,this.nodes.forEach(Vi),this.nodes.forEach(Zi),this.nodes.forEach(Ki),this.nodes.forEach(Hi),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(Fi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new Li)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Zn),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,n=this.root.hasTreeAnimated){if(this.instance)return;var r;this.isSVG=(r=t)instanceof SVGElement&&"svg"!==r.tagName,this.instance=t;const{layoutId:i,layout:o,visualElement:s}=this.options;if(s&&!s.current&&s.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(o||i)&&(this.isLayoutDirty=!0),e){let n;const r=()=>this.root.updateBlockedByResize=!1;e(t,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&((0,ze.Pn)(r),e(o-t))};return ze.Wi.read(r,!0),()=>(0,ze.Pn)(r)}(r,250),oi.hasAnimatedSinceResize&&(oi.hasAnimatedSinceResize=!1,this.nodes.forEach(Gi))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&s&&(i||o)&&this.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||s.getDefaultTransition()||to,{onLayoutAnimationStart:o,onLayoutAnimationComplete:a}=s.getProps(),c=!this.targetLayout||!Ai(this.targetLayout,r)||n,u=!t&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||t&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,u);const t={...qn(i,"layout"),onPlay:o,onComplete:a};(s.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||Gi(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,(0,ze.Pn)(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ji),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(zi);this.isUpdating||this.nodes.forEach($i),this.isUpdating=!1,this.nodes.forEach(Wi),this.nodes.forEach(Bi),this.nodes.forEach(Ui),this.clearAllSnapshots();const e=performance.now();Cn.w.delta=U(0,1e3/60,e-Cn.w.timestamp),Cn.w.timestamp=e,Cn.w.isProcessing=!0,ze.S6.update.process(Cn.w),ze.S6.preRender.process(Cn.w),ze.S6.render.process(Cn.w),Cn.w.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(qi),this.sharedNodes.forEach(Xi)}scheduleUpdateProjection(){ze.Wi.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){ze.Wi.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!xi(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;e&&(t||Vr(this.latestValues)||o)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),no((r=n).x),no(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(Kr(t.x,n.offset.x),Kr(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};wi(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:o}=r;if(r!==this.root&&i&&o.layoutScroll){if(i.isRoot){wi(t,e);const{scroll:n}=this.root;n&&(Kr(t.x,-n.offset.x),Kr(t.y,-n.offset.y))}Kr(t.x,i.offset.x),Kr(t.y,i.offset.y)}}return t}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};wi(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Qr(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Vr(e.latestValues)&&Qr(n,e.latestValues)}return Vr(this.latestValues)&&Qr(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};wi(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Vr(e.latestValues))continue;Ur(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};wi(r,e.measurePageBox()),Ii(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Vr(this.latestValues)&&Ii(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Cn.w.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=Cn.w.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Rr(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,a,c;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,a=this.relativeTarget,c=this.relativeParent.target,Ar(s.x,a.x,c.x),Ar(s.y,a.y,c.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):wi(this.target,this.layout.layoutBox),Gr(this.target,this.targetDelta)):wi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Rr(this.relativeTargetOrigin,this.target,e.target),wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Fi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Ur(this.parent.latestValues)&&!Hr(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Cn.w.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;wi(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,a=this.treeScale.y;!function(e,t,n,r=!1){const i=n.length;if(!i)return;let o,s;t.x=t.y=1;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const i=o.instance;i&&i.style&&"contents"===i.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Qr(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Gr(e,s)),r&&Vr(o.latestValues)&&Qr(e,o.latestValues))}t.x=Zr(t.x),t.y=Zr(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:c}=t;if(!c)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const u=this.projectionTransform;xr(this.projectionDelta,this.layoutCorrected,c,this.latestValues),this.projectionTransform=Mi(this.projectionDelta,this.treeScale),this.projectionTransform===u&&this.treeScale.x===s&&this.treeScale.y===a||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",c)),Fi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e,t=!1){const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),u=!c||c.members.length<=1,l=Boolean(a&&!u&&!0===this.options.crossfade&&!this.path.some(eo));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var c,d,p,f;Yi(o.x,e.x,n),Yi(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rr(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),c=this.relativeTarget,d=this.relativeTargetOrigin,p=s,f=n,Qi(c.x,d.x,p.x,f),Qi(c.y,d.y,p.y,f),h&&Ai(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),wi(h,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,o){i?(e.opacity=Bt(0,void 0!==n.opacity?n.opacity:1,vi(r)),e.opacityExit=Bt(void 0!==t.opacity?t.opacity:1,0,yi(r))):o&&(e.opacity=Bt(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let s=0;s<pi;s++){const i=`border${di[s]}Radius`;let o=gi(t,i),a=gi(n,i);void 0===o&&void 0===a||(o||(o=0),a||(a=0),0===o||0===a||mi(o)===mi(a)?(e[i]=Math.max(Bt(fi(o),fi(a),r),0),(X.test(a)||X.test(o))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=Bt(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,l,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&((0,ze.Pn)(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.Wi.update((()=>{oi.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=O(e)?e:Jn(e);return r.start(zn("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&ro(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Tr(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Tr(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}wi(t,n),Qr(t,i),xr(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Ri);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<Ni.length;i++){const t="rotate"+Ni[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(e={}){var t,n;const r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";const i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=ke(e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=ke(e.pointerEvents)||""),this.hasProjected&&!Vr(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const s=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=Mi(this.projectionDeltaWithTransform,this.treeScale,s),i&&(r.transform=i(s,r.transform));const{x:a,y:c}=this.projectionDelta;r.transformOrigin=`${100*a.origin}% ${100*c.origin}% 0`,o.animationValues?r.opacity=o===this?null!==(n=null!==(t=s.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=o===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const u in A){if(void 0===s[u])continue;const{correct:e,applyTo:t}=A[u],n="none"===r.transform?s[u]:e(s[u],o);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[u]=n}return this.options.layoutId&&(r.pointerEvents=o===this?ke(e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(zi),this.root.sharedNodes.clear()}}}function Bi(e){e.updateLayout()}function Ui(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;"size"===i?Fr((e=>{const r=o?n.measuredBox[e]:n.layoutBox[e],i=Tr(r);r.min=t[e].min,r.max=r.min+i})):ro(i,n.layoutBox,t)&&Fr((r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],s=Tr(t[r]);i.max=i.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)}));const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};xr(s,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o?xr(a,e.applyTransform(r,!0),n.measuredBox):xr(a,t,n.layoutBox);const c=!xi(s);let u=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const s={x:{min:0,max:0},y:{min:0,max:0}};Rr(s,n.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};Rr(a,t,o.layoutBox),Ai(s,a)||(u=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:s,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Vi(e){Fi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Hi(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function qi(e){e.clearSnapshot()}function zi(e){e.clearMeasurements()}function $i(e){e.isLayoutDirty=!1}function Wi(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Gi(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Zi(e){e.resolveTargetDelta()}function Ki(e){e.calcProjection()}function Ji(e){e.resetRotation()}function Xi(e){e.removeLeadSnapshot()}function Yi(e,t,n){e.translate=Bt(t.translate,0,n),e.scale=Bt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Qi(e,t,n,r){e.min=Bt(t.min,n.min,r),e.max=Bt(t.max,n.max,r)}function eo(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const to={duration:.45,ease:[.4,0,.1,1]};function no(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function ro(e,t,n){return"position"===e||"preserve-aspect"===e&&!Ir(Di(t),Di(n),.2)}const io=ji({attachResizeListener:(e,t)=>Me(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),oo={current:void 0},so=ji({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!oo.current){const e=new io({});e.mount(window),e.setOptions({layoutScroll:!0}),oo.current=e}return oo.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),ao={pan:{Feature:class extends qe{constructor(){super(...arguments),this.removePointerDownListener=Ge.Z}onPointerDown(e){this.session=new yr(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:ii(e),onStart:ii(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&ze.Wi.update((()=>r(e,t)))}}}mount(){this.removePointerDownListener=Ne(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends qe{constructor(e){super(e),this.removeGroupControls=Ge.Z,this.removeListeners=Ge.Z,this.controls=new ni(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ge.Z}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:so,MeasureLayout:li}},co=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function uo(e,t,n=1){(0,ot.k)(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[r,i]=function(e){const t=co.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);return o?o.trim():j(i)?uo(i,t,n+1):i}const lo=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ho=e=>lo.has(e),po=e=>e===V||e===Y,fo=(e,t)=>parseFloat(e.split(", ")[t]),mo=(e,t)=>(n,{transform:r})=>{if("none"===r||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return fo(i[1],t);{const t=r.match(/^matrix\((.+)\)$/);return t?fo(t[1],e):0}},go=new Set(["x","y","z"]),vo=D.filter((e=>!go.has(e)));const yo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:mo(4,13),y:mo(5,14)},_o=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(ho);let o=[],s=!1;const a=[];if(i.forEach((i=>{const c=e.getValue(i);if(!e.hasValue(i))return;let u=n[i],l=Qn(u);const h=t[i];let d;if(Ie(h)){const e=h.length,t=null===h[0]?1:0;u=h[t],l=Qn(u);for(let n=t;n<e&&null!==h[n];n++)d?(0,ot.k)(Qn(h[n])===d,"All keyframes must be of the same type"):(d=Qn(h[n]),(0,ot.k)(d===l||po(l)&&po(d),"Keyframes must be of the same dimension as the current value"))}else d=Qn(h);if(l!==d)if(po(l)&&po(d)){const e=c.get();"string"===typeof e&&c.set(parseFloat(e)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&d===Y&&(t[i]=h.map(parseFloat))}else(null===l||void 0===l?void 0:l.transform)&&(null===d||void 0===d?void 0:d.transform)&&(0===u||0===h)?0===u?c.set(d.transform(u)):t[i]=l.transform(h):(s||(o=function(e){const t=[];return vo.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),s=!0),a.push(i),r[i]=void 0!==r[i]?r[i]:t[i],c.jump(h))})),a.length){const n=a.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:s}=o,a={};"none"===s&&t.setStaticValue("display",e.display||"block"),n.forEach((e=>{a[e]=yo[e](r,o)})),t.render();const c=t.measureViewportBox();return n.forEach((n=>{const r=t.getValue(n);r&&r.jump(a[n]),e[n]=yo[n](c,o)})),e})(t,e,a);return o.length&&o.forEach((([t,n])=>{e.getValue(t).set(n)})),e.render(),b.j&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function bo(e,t,n,r){return(e=>Object.keys(e).some(ho))(t)?_o(e,t,n,r):{target:t,transitionEnd:r}}const wo=(e,t,n,r)=>{const i=function(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach((e=>{const t=e.get();if(!j(t))return;const n=uo(t,r);n&&e.set(n)}));for(const i in t){const e=t[i];if(!j(e))continue;const o=uo(e,r);o&&(t[i]=o,n||(n={}),void 0===n[i]&&(n[i]=e))}return{target:t,transitionEnd:n}}(e,t,r);return bo(e,t=i.target,n,r=i.transitionEnd)};var Co=n(2062),Eo=n(1139);const So=new WeakMap,To=Object.keys(_),Io=To.length,ko=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],xo=p.length;class Ao extends class{constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ze.Wi.render(this.render,!1,!0);const{latestValues:s,renderState:a}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=t.initial?{...s}:{},this.renderState=a,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=f(t),this.isVariantNode=m(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{});for(const l in u){const e=u[l];void 0!==s[l]&&O(e)&&(e.set(s[l],!1),$n(c)&&c.add(l))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,So.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Eo.O.current||(0,Co.A)(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Eo.n.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){So.delete(this.current),this.projection&&this.projection.unmount(),(0,ze.Pn)(this.notifyUpdate),(0,ze.Pn)(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=R.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&ze.Wi.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),i()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures({children:e,...t},n,r,i){let o,s;for(let a=0;a<Io;a++){const e=To[a],{isEnabled:n,Feature:r,ProjectionNode:i,MeasureLayout:c}=_[e];i&&(o=i),n(t)&&(!this.features[e]&&r&&(this.features[e]=new r(this)),c&&(s=c))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:n,drag:r,dragConstraints:s,layoutScroll:a,layoutRoot:c}=t;this.projection.setOptions({layoutId:e,layout:n,alwaysMeasureLayout:Boolean(r)||s&&u(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof n?n:"both",initialPromotionConfig:i,layoutScroll:a,layoutRoot:c})}return s}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<ko.length;n++){const t=ko[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const o=t[i],s=n[i];if(O(o))e.addValue(i,o),$n(r)&&r.add(i);else if(O(s))e.addValue(i,Jn(o,{owner:e})),$n(r)&&r.remove(i);else if(s!==o)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(o)}else{const t=e.getStaticValue(i);e.addValue(i,Jn(void 0!==t?t:o,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const t={};for(let n=0;n<xo;n++){const e=p[n],r=this.props[e];(l(r)||!1===r)&&(t[e]=r)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Jn(t,{owner:this}),this.addValue(e,n)),n}readValue(e){return void 0===this.latestValues[e]&&this.current?this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=Se(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||O(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new Zn),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...n},{transformValues:r},i){let o=function(e,t,n){const r={};for(const i in e){const e=ir(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(n,e||{},this);if(r&&(t&&(t=r(t)),n&&(n=r(n)),o&&(o=r(o))),i){!function(e,t,n){var r,i;const o=Object.keys(t).filter((t=>!e.hasValue(t))),s=o.length;if(s)for(let a=0;a<s;a++){const s=o[a],c=t[s];let u=null;Array.isArray(c)&&(u=c[0]),null===u&&(u=null!==(i=null!==(r=n[s])&&void 0!==r?r:e.readValue(s))&&void 0!==i?i:t[s]),void 0!==u&&null!==u&&("string"===typeof u&&(/^\-?\d*\.?\d+$/.test(u)||Vn(u))?u=parseFloat(u):!tr(u)&&Qt.test(c)&&(u=Un(s,c)),e.addValue(s,Jn(u,{owner:e})),void 0===n[s]&&(n[s]=u),null!==u&&e.setBaseTarget(s,u))}}(this,n,o);const e=wo(this,n,o,t);t=e.transitionEnd,n=e.target}return{transition:e,transitionEnd:t,...n}}}class Do extends Ao{readValueFromInstance(e,t){if(R.has(t)){const e=Bn(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(F(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,{transformPagePoint:t}){return ei(e,t)}build(e,t,n,r){ie(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Ce(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;O(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}renderInstance(e,t,n,r){_e(e,t,n,r)}}class Ro extends Ao{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(R.has(t)){const e=Bn(t);return e&&e.default||0}return t=be.has(t)?t:ye(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return Ee(e,t)}build(e,t,n,r){pe(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){we(e,t,0,r)}mount(e){this.isSVGTag=me(e.tagName),super.mount(e)}}const Mo=(e,t)=>x(e)?new Ro(t,{enableHardwareAcceleration:!1}):new Do(t,{enableHardwareAcceleration:!0}),Oo={...gr,...tt,...ao,...{layout:{ProjectionNode:so,MeasureLayout:li}}},Lo=I(((e,t)=>function(e,{forwardMotionProps:t=!1},n,r){return{...x(e)?De:Re,preloadedFeatures:n,useRender:ve(t),createVisualElement:r,Component:e}}(e,t,Oo,Mo)))},2898:function(e,t,n){"use strict";n.d(t,{L:function(){return a},K:function(){return s}});const r=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function i(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||r.has(e)}let o=e=>!i(e);function s(e){e&&(o=t=>t.startsWith("on")?!i(t):e(t))}try{s(require("@emotion/is-prop-valid").default)}catch(c){}function a(e,t,n){const r={};for(const s in e)"values"===s&&"object"===typeof e.values||(o(s)||!0===n&&i(s)||!t&&!i(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}},7035:function(e,t,n){"use strict";n.d(t,{K:function(){return i},k:function(){return o}});var r=n(65);let i=r.Z,o=r.Z},3791:function(e,t,n){"use strict";n.d(t,{j:function(){return r}});const r="undefined"!==typeof document},65:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=e=>e},2062:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(3791),i=n(1139);function o(){if(i.O.current=!0,r.j)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>i.n.current=e.matches;e.addListener(t),t()}else i.n.current=!1}},1139:function(e,t,n){"use strict";n.d(t,{O:function(){return i},n:function(){return r}});const r={current:null},i={current:!1}},3105:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});var r=n(2784);function i(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}},3617:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(2784);const i=n(3791).j?r.useLayoutEffect:r.useEffect},7892:function(e,t,n){"use strict";n.d(t,{Mi:function(){return T},Ix:function(){return I},Am:function(){return P}});var r=n(2784);function i(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=i(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var o=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=i(e))&&(r&&(r+=" "),r+=t);return r};const s=e=>"number"==typeof e&&!isNaN(e),a=e=>"string"==typeof e,c=e=>"function"==typeof e,u=e=>a(e)||c(e)?e:null,l=e=>(0,r.isValidElement)(e)||a(e)||c(e)||s(e);function h(e){let{enter:t,exit:n,appendPosition:i=!1,collapse:o=!0,collapseDuration:s=300}=e;return function(e){let{children:a,position:c,preventExitTransition:u,done:l,nodeRef:h,isIn:d}=e;const p=i?`${t}--${c}`:t,f=i?`${n}--${c}`:n,m=(0,r.useRef)(0);return(0,r.useLayoutEffect)((()=>{const e=h.current,t=p.split(" "),n=r=>{r.target===h.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,r.useEffect)((()=>{const e=h.current,t=()=>{e.removeEventListener("animationend",t),o?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame((()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,s):l()};d||(u?t():(m.current=1,e.className+=` ${f}`,e.addEventListener("animationend",t)))}),[d]),r.createElement(r.Fragment,null,a)}}function d(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const p={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter((e=>e!==t));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach((t=>{const n=setTimeout((()=>{t(...[].slice.call(arguments,1))}),0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)}))}},f=e=>{let{theme:t,type:n,...i}=e;return r.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${n})`,...i})},m={info:function(e){return r.createElement(f,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(f,{...e},r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(f,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(f,{...e},r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}};function g(e){const[,t]=(0,r.useReducer)((e=>e+1),0),[n,i]=(0,r.useState)([]),o=(0,r.useRef)(null),h=(0,r.useRef)(new Map).current,f=e=>-1!==n.indexOf(e),g=(0,r.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:f,getToast:e=>h.get(e)}).current;function v(e){let{containerId:t}=e;const{limit:n}=g.props;!n||t&&g.containerId!==t||(g.count-=g.queue.length,g.queue=[])}function y(e){i((t=>null==e?[]:t.filter((t=>t!==e))))}function _(){const{toastContent:e,toastProps:t,staleId:n}=g.queue.shift();w(e,t,n)}function b(e,n){let{delay:i,staleId:f,...v}=n;if(!l(e)||function(e){return!o.current||g.props.enableMultiContainer&&e.containerId!==g.props.containerId||h.has(e.toastId)&&null==e.updateId}(v))return;const{toastId:b,updateId:C,data:E}=v,{props:S}=g,T=()=>y(b),I=null==C;I&&g.count++;const k={...S,style:S.toastStyle,key:g.toastKey++,...Object.fromEntries(Object.entries(v).filter((e=>{let[t,n]=e;return null!=n}))),toastId:b,updateId:C,data:E,closeToast:T,isIn:!1,className:u(v.className||S.toastClassName),bodyClassName:u(v.bodyClassName||S.bodyClassName),progressClassName:u(v.progressClassName||S.progressClassName),autoClose:!v.isLoading&&(x=v.autoClose,A=S.autoClose,!1===x||s(x)&&x>0?x:A),deleteToast(){const e=d(h.get(b),"removed");h.delete(b),p.emit(4,e);const n=g.queue.length;if(g.count=null==b?g.count-g.displayedToast:g.count-1,g.count<0&&(g.count=0),n>0){const e=null==b?g.props.limit:1;if(1===n||1===e)g.displayedToast++,_();else{const t=e>n?n:e;g.displayedToast=t;for(let e=0;e<t;e++)_()}}else t()}};var x,A;k.iconOut=function(e){let{theme:t,type:n,isLoading:i,icon:o}=e,u=null;const l={theme:t,type:n};return!1===o||(c(o)?u=o(l):(0,r.isValidElement)(o)?u=(0,r.cloneElement)(o,l):a(o)||s(o)?u=o:i?u=m.spinner():(e=>e in m)(n)&&(u=m[n](l))),u}(k),c(v.onOpen)&&(k.onOpen=v.onOpen),c(v.onClose)&&(k.onClose=v.onClose),k.closeButton=S.closeButton,!1===v.closeButton||l(v.closeButton)?k.closeButton=v.closeButton:!0===v.closeButton&&(k.closeButton=!l(S.closeButton)||S.closeButton);let D=e;(0,r.isValidElement)(e)&&!a(e.type)?D=(0,r.cloneElement)(e,{closeToast:T,toastProps:k,data:E}):c(e)&&(D=e({closeToast:T,toastProps:k,data:E})),S.limit&&S.limit>0&&g.count>S.limit&&I?g.queue.push({toastContent:D,toastProps:k,staleId:f}):s(i)?setTimeout((()=>{w(D,k,f)}),i):w(D,k,f)}function w(e,t,n){const{toastId:r}=t;n&&h.delete(n);const o={content:e,props:t};h.set(r,o),i((e=>[...e,r].filter((e=>e!==n)))),p.emit(4,d(o,null==o.props.updateId?"added":"updated"))}return(0,r.useEffect)((()=>(g.containerId=e.containerId,p.cancelEmit(3).on(0,b).on(1,(e=>o.current&&y(e))).on(5,v).emit(2,g),()=>{h.clear(),p.emit(3,g)})),[]),(0,r.useEffect)((()=>{g.props=e,g.isToastActive=f,g.displayedToast=n.length})),{getToastToRender:function(t){const n=new Map,r=Array.from(h.values());return e.newestOnTop&&r.reverse(),r.forEach((e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},containerRef:o,isToastActive:f}}function v(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function y(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function _(e){const[t,n]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),s=(0,r.useRef)(null),a=(0,r.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,u=(0,r.useRef)(e),{autoClose:l,pauseOnHover:h,closeToast:d,onClick:p,closeOnClick:f}=e;function m(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),a.didMove=!1,document.addEventListener("mousemove",w),document.addEventListener("mouseup",C),document.addEventListener("touchmove",w),document.addEventListener("touchend",C);const n=s.current;a.canCloseOnClick=!0,a.canDrag=!0,a.boundingRect=n.getBoundingClientRect(),n.style.transition="",a.x=v(t.nativeEvent),a.y=y(t.nativeEvent),"x"===e.draggableDirection?(a.start=a.x,a.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(a.start=a.y,a.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(t){if(a.boundingRect){const{top:n,bottom:r,left:i,right:o}=a.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&a.x>=i&&a.x<=o&&a.y>=n&&a.y<=r?b():_()}}function _(){n(!0)}function b(){n(!1)}function w(n){const r=s.current;a.canDrag&&r&&(a.didMove=!0,t&&b(),a.x=v(n),a.y=y(n),a.delta="x"===e.draggableDirection?a.x-a.start:a.y-a.start,a.start!==a.x&&(a.canCloseOnClick=!1),r.style.transform=`translate${e.draggableDirection}(${a.delta}px)`,r.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function C(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",C),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",C);const t=s.current;if(a.canDrag&&a.didMove&&t){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return o(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform=`translate${e.draggableDirection}(0)`,t.style.opacity="1"}}(0,r.useEffect)((()=>{u.current=e})),(0,r.useEffect)((()=>(s.current&&s.current.addEventListener("d",_,{once:!0}),c(e.onOpen)&&e.onOpen((0,r.isValidElement)(e.children)&&e.children.props),()=>{const e=u.current;c(e.onClose)&&e.onClose((0,r.isValidElement)(e.children)&&e.children.props)})),[]),(0,r.useEffect)((()=>(e.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",_),window.addEventListener("blur",b)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",_),window.removeEventListener("blur",b))})),[e.pauseOnFocusLoss]);const E={onMouseDown:m,onTouchStart:m,onMouseUp:g,onTouchEnd:g};return l&&h&&(E.onMouseEnter=b,E.onMouseLeave=_),f&&(E.onClick=e=>{p&&p(e),a.canCloseOnClick&&d()}),{playToast:_,pauseToast:b,isRunning:t,preventExitTransition:i,toastRef:s,eventHandlers:E}}function b(e){let{closeToast:t,theme:n,ariaLabel:i="close"}=e;return r.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":i},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function w(e){let{delay:t,isRunning:n,closeToast:i,type:s="default",hide:a,className:u,style:l,controlledProgress:h,progress:d,rtl:p,isIn:f,theme:m}=e;const g=a||h&&0===d,v={...l,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:g?0:1};h&&(v.transform=`scaleX(${d})`);const y=o("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),_=c(u)?u({rtl:p,type:s,defaultClassName:y}):o(y,u);return r.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:_,style:v,[h&&d>=1?"onTransitionEnd":"onAnimationEnd"]:h&&d<1?null:()=>{f&&i()}})}const C=e=>{const{isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:s}=_(e),{closeButton:a,children:u,autoClose:l,onClick:h,type:d,hideProgressBar:p,closeToast:f,transition:m,position:g,className:v,style:y,bodyClassName:C,bodyStyle:E,progressClassName:S,progressStyle:T,updateId:I,role:k,progress:x,rtl:A,toastId:D,deleteToast:R,isIn:M,isLoading:O,iconOut:L,closeOnClick:N,theme:P}=e,F=o("Toastify__toast",`Toastify__toast-theme--${P}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":A},{"Toastify__toast--close-on-click":N}),j=c(v)?v({rtl:A,position:g,type:d,defaultClassName:F}):o(F,v),B=!!x||!l,U={closeToast:f,type:d,theme:P};let V=null;return!1===a||(V=c(a)?a(U):(0,r.isValidElement)(a)?(0,r.cloneElement)(a,U):b(U)),r.createElement(m,{isIn:M,done:R,position:g,preventExitTransition:n,nodeRef:i},r.createElement("div",{id:D,onClick:h,className:j,...s,style:y,ref:i},r.createElement("div",{...M&&{role:k},className:c(C)?C({type:d}):o("Toastify__toast-body",C),style:E},null!=L&&r.createElement("div",{className:o("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},L),r.createElement("div",null,u)),V,r.createElement(w,{...I&&!B?{key:`pb-${I}`}:{},rtl:A,theme:P,delay:l,isRunning:t,isIn:M,closeToast:f,hide:p,type:d,style:T,className:S,controlledProgress:B,progress:x||0})))},E=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},S=h(E("bounce",!0)),T=h(E("slide",!0)),I=(h(E("zoom")),h(E("flip")),(0,r.forwardRef)(((e,t)=>{const{getToastToRender:n,containerRef:i,isToastActive:s}=g(e),{className:a,style:l,rtl:h,containerId:d}=e;function p(e){const t=o("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":h});return c(a)?a({position:e,rtl:h,defaultClassName:t}):o(t,u(a))}return(0,r.useEffect)((()=>{t&&(t.current=i.current)}),[]),r.createElement("div",{ref:i,className:"Toastify",id:d},n(((e,t)=>{const n=t.length?{...l}:{...l,pointerEvents:"none"};return r.createElement("div",{className:p(e),style:n,key:`container-${e}`},t.map(((e,n)=>{let{content:i,props:o}=e;return r.createElement(C,{...o,isIn:s(o.toastId),style:{...o.style,"--nth":n+1,"--len":t.length},key:`toast-${o.key}`},i)})))})))})));I.displayName="ToastContainer",I.defaultProps={position:"top-right",transition:S,autoClose:5e3,closeButton:b,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let k,x=new Map,A=[],D=1;function R(){return""+D++}function M(e){return e&&(a(e.toastId)||s(e.toastId))?e.toastId:R()}function O(e,t){return x.size>0?p.emit(0,e,t):A.push({content:e,options:t}),t.toastId}function L(e,t){return{...t,type:t&&t.type||e,toastId:M(t)}}function N(e){return(t,n)=>O(t,L(e,n))}function P(e,t){return O(e,L("default",t))}P.loading=(e,t)=>O(e,L("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),P.promise=function(e,t,n){let r,{pending:i,error:o,success:s}=t;i&&(r=a(i)?P.loading(i,n):P.loading(i.render,{...n,...i}));const u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,i)=>{if(null==t)return void P.dismiss(r);const o={type:e,...u,...n,data:i},s=a(t)?{render:t}:t;return r?P.update(r,{...o,...s}):P(s.render,{...o,...s}),i},h=c(e)?e():e;return h.then((e=>l("success",s,e))).catch((e=>l("error",o,e))),h},P.success=N("success"),P.info=N("info"),P.error=N("error"),P.warning=N("warning"),P.warn=P.warning,P.dark=(e,t)=>O(e,L("default",{theme:"dark",...t})),P.dismiss=e=>{x.size>0?p.emit(1,e):A=A.filter((t=>null!=e&&t.options.toastId!==e))},P.clearWaitingQueue=function(e){return void 0===e&&(e={}),p.emit(5,e)},P.isActive=e=>{let t=!1;return x.forEach((n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},P.update=function(e,t){void 0===t&&(t={}),setTimeout((()=>{const n=function(e,t){let{containerId:n}=t;const r=x.get(n||k);return r&&r.getToast(e)}(e,t);if(n){const{props:r,content:i}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:R()};o.toastId!==e&&(o.staleId=e);const s=o.render||i;delete o.render,O(s,o)}}),0)},P.done=e=>{P.update(e,{progress:1})},P.onChange=e=>(p.on(4,e),()=>{p.off(4,e)}),P.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},P.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},p.on(2,(e=>{k=e.containerId||e,x.set(k,e),A.forEach((e=>{p.emit(0,e.content,e.options)})),A=[]})).on(3,(e=>{x.delete(e.containerId||e),0===x.size&&p.off(0).off(1).off(5)}))}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[9774,179],(function(){return t(4961),t(5407),t(283),t(3642)}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=_app-acae5e32e1d5b83e.js.map